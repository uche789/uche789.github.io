(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5ca7e063"],{"0017":function(e,t,a){"use strict";a("31bc")},"0750":function(e,t,a){},"31bc":function(e,t,a){},"497f":function(e,t,a){"use strict";a("683d")},"683d":function(e,t,a){},"9b4e":function(e,t,a){"use strict";a.r(t);var c=a("7a23"),n={class:"habits"};function b(e,t,a,b,r,i){var u=Object(c["H"])("page-title"),s=Object(c["H"])("add-item"),o=Object(c["H"])("habit-info"),l=Object(c["H"])("habit-frequency");return Object(c["z"])(),Object(c["g"])("div",n,[Object(c["k"])(u,null,{default:Object(c["N"])((function(){return[Object(c["j"])(Object(c["J"])(e.t("habitPage.title")),1)]})),_:1}),e.show?(Object(c["z"])(),Object(c["e"])(s,{key:0,mode:"habit",onClose:t[0]||(t[0]=function(t){return e.show=!1}),onItemSaved:e.itemSaved},null,8,["onItemSaved"])):Object(c["f"])("",!0),e.habit?(Object(c["z"])(),Object(c["e"])(o,{key:1,habit:e.habit},null,8,["habit"])):Object(c["f"])("",!0),e.habit?(Object(c["z"])(),Object(c["e"])(l,{key:2,habit:e.habit},null,8,["habit"])):Object(c["f"])("",!0)])}var r=a("47e2"),i=a("6c02"),u=a("5502"),s=a("89dd"),o=a("9c11"),l=a("426c"),j=(a("a4d3"),a("e01a"),a("b0c0"),{key:0,class:"text-sm text-gray-400"}),O={key:0,class:"daily-habit-item__time-block"},d=["datetime"],f=Object(c["j"])(" - "),h=["datetime"],v={class:"text-sm text-gray-400"};function m(e,t,a,n,b,r){var i=Object(c["H"])("tag"),u=Object(c["H"])("card");return Object(c["z"])(),Object(c["e"])(u,{class:"habit-info"},{title:Object(c["N"])((function(){return[Object(c["j"])(Object(c["J"])(e.habit.description)+"  ",1),e.endDate?(Object(c["z"])(),Object(c["g"])("span",j,"   "+Object(c["J"])(e.t("habitFreqComponent.ends"))+" "+Object(c["J"])(e.endDate),1)):Object(c["f"])("",!0),e.habit.categoryId?(Object(c["z"])(),Object(c["e"])(i,{key:1,variant:"indigo"},{default:Object(c["N"])((function(){var t;return[Object(c["j"])(Object(c["J"])(e.t("categories.".concat(null===(t=e.getCategory(e.habit.categoryId))||void 0===t?void 0:t.name))),1)]})),_:1})):Object(c["f"])("",!0)]})),body:Object(c["N"])((function(){return[e.habit.startTime&&e.habit.endTime?(Object(c["z"])(),Object(c["g"])("p",O,[Object(c["h"])("time",{datetime:e.habit.startTime,class:"time-block"},Object(c["J"])(e.habit.startTime),9,d),f,Object(c["h"])("time",{datetime:e.habit.startTime,class:"time-block"},Object(c["J"])(e.habit.endTime),9,h)])):Object(c["f"])("",!0),Object(c["h"])("p",v,Object(c["J"])(e.getDays(e.habit)),1)]})),_:1})}a("a15b"),a("d81d");var g=a("ae8d"),p=a("ff0a"),y=a("c009"),_=a("a2fe"),k=Object(c["l"])({components:{Card:g["a"],Tag:y["a"]},props:{habit:{type:Object,required:!0}},setup:function(e){var t=Object(r["b"])(),a=t.t,c=Object(p["b"])(e.habit.endDate||0),n=function(e){return e.days.map((function(e){return a("days.full.".concat(e))})).join(", ")};return{t:a,endDate:c,getDays:n,getCategory:_["b"]}}});a("eb0e");k.render=m;var q=k,D=(a("b64b"),a("99af"),{class:"habit-freq__controls"}),w=Object(c["h"])("div",{class:"habit-freq__labels"},[Object(c["h"])("div",{class:"habit-freq__labels-item"},[Object(c["h"])("div",{class:"habit-freq__labels-done"}),Object(c["j"])("Done ")]),Object(c["h"])("div",{class:"habit-freq__labels-item"},[Object(c["h"])("div",{class:"habit-freq__labels-missed"}),Object(c["j"])(" Missed ")]),Object(c["h"])("div",{class:"habit-freq__labels-item"},[Object(c["h"])("div",{class:"habit-freq__labels-open"}),Object(c["j"])(" Open ")]),Object(c["h"])("div",{class:"habit-freq__labels-item"},[Object(c["h"])("div",{class:"habit-freq__labels-skip"}),Object(c["j"])(" Skipped ")])],-1),z={class:"habit-freq__year"},H=["value"],J={key:0,class:"habit-freq__blocks"},F={class:"habit-freq__month-days"};function Y(e,t,a,n,b,r){var i=Object(c["H"])("select-field"),u=Object(c["H"])("frequency-block"),s=Object(c["H"])("card");return Object(c["z"])(),Object(c["e"])(s,{class:"habit-freq"},{body:Object(c["N"])((function(){return[Object(c["h"])("div",D,[w,Object(c["h"])("div",z,[Object(c["k"])(i,{modelValue:e.selectedYear,"onUpdate:modelValue":t[0]||(t[0]=function(t){return e.selectedYear=t})},{default:Object(c["N"])((function(){return[(Object(c["z"])(),Object(c["g"])(c["a"],null,Object(c["F"])(10,(function(t){return Object(c["h"])("option",{key:t,value:e.createYear(t)},Object(c["J"])(e.createYear(t)),9,H)})),64))]})),_:1},8,["modelValue"])])]),e.loading?Object(c["f"])("",!0):(Object(c["z"])(),Object(c["g"])("div",J,[(Object(c["z"])(!0),Object(c["g"])(c["a"],null,Object(c["F"])(Object.keys(e.monthDays),(function(t){return Object(c["z"])(),Object(c["g"])("div",{key:t,class:"habit-freq__month"},[Object(c["h"])("p",null,[Object(c["h"])("strong",null,Object(c["J"])(e.t("months.keys.".concat(t))),1)]),Object(c["h"])("div",F,[(Object(c["z"])(!0),Object(c["g"])(c["a"],null,Object(c["F"])(e.monthDays[t].days,(function(a){return Object(c["z"])(),Object(c["e"])(u,{number:a,key:"".concat(t,"_").concat(a),status:e.getStatus(new Date(e.monthDays[t].fullYear,t,a))},null,8,["number","status"])})),128))])])})),128))]))]})),_:1})}var C=a("1da1");a("96cf");function S(e,t,a,n,b,r){return Object(c["z"])(),Object(c["g"])("div",{class:Object(c["s"])(["habit-freq-block",["habit-freq-block--".concat(e.status)]])},Object(c["J"])(e.number),3)}a("a9e3");var E=Object(c["l"])({props:{status:{type:String,default:"open"},number:{type:Number,required:!0}}});a("497f");E.render=S;var N=E,T=function(e,t){return e.getFullYear()===t.getFullYear()&&e.getMonth()===t.getMonth()&&e.getDate()===t.getDate()},x=function(e){for(var t,a=e||(new Date).getFullYear(),c={},n=0;n<=11;n+=1)t=new Date(a,n+1,0),c[n]={fullYear:a,monthId:n,days:t.getDate()};return c},I=a("220a"),M=Object(c["l"])({components:{FrequencyBlock:N,Card:g["a"],SelectField:I["a"]},props:{habit:{type:Object,required:!0}},setup:function(e){var t=Object(u["b"])(),a=Object(r["b"])(),n=a.t,b=Object(c["E"])((new Date).getFullYear()),i=Object(c["E"])([]),s=Object(c["E"])(!1),o=Object(c["E"])(x(b.value)),j=0,O=function(){var a=Object(C["a"])(regeneratorRuntime.mark((function a(){var c;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return s.value=!0,a.next=3,t.dispatch("habits/fetchCount",{id:e.habit.id,year:b.value});case 3:if(c=a.sent,s.value=!1,!(c instanceof l["a"])){a.next=8;break}return console.log(c),a.abrupt("return");case 8:i.value=c,o.value=x(b.value);case 10:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}(),d=function(e){var t=2021;return t+e},f=function(e){var t="open";while(j<i.value.length){var a=i.value[j],c=new Date(a.date);if(T(c,e)){t=a.status;break}if(c>e)break;j+=1}return t};return Object(c["M"])(b,(function(){O(),j=0})),O(),{t:n,loading:s,createYear:d,selectedYear:b,monthDays:o,getLocalDate:p["b"],getStatus:f}}});a("0017");M.render=Y;var V=M,A=Object(c["l"])({components:{PageTitle:s["a"],AddItem:o["a"],HabitFrequency:V,HabitInfo:q},setup:function(e,t){var a=Object(r["b"])(),n=a.t,b=Object(i["c"])(),s=Object(u["b"])(),o=Object(c["E"])(!1),j=Object(c["E"])(),O=Object(c["E"])([]),d=Object(c["E"])(!1);s.dispatch("habits/get",b.params.id).then((function(e){e instanceof l["a"]&&!l["c"].NotFound?d.value=!0:(j.value=s.state.habits.currentHabit,O.value=s.state.habits.currentHabitCount)})),Object(c["M"])((function(){return s.state.habits.currentHabitCount}),(function(e){O.value=e}));var f=function(){o.value=!o.value},h=function(){t.emit("saved")};return{t:n,show:o,toggle:f,itemSaved:h,error:d,habit:j}}});A.render=b;t["default"]=A},a15b:function(e,t,a){"use strict";var c=a("23e7"),n=a("44ad"),b=a("fc6a"),r=a("a640"),i=[].join,u=n!=Object,s=r("join",",");c({target:"Array",proto:!0,forced:u||!s},{join:function(e){return i.call(b(this),void 0===e?",":e)}})},eb0e:function(e,t,a){"use strict";a("0750")}}]);
//# sourceMappingURL=chunk-5ca7e063.be1ca878.js.map