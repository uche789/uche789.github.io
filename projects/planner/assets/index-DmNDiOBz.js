import{d as j,o as d,e as b,f as N,l as C,A as V,i as vt,c as I,x as h,B as Zt,R as Ns,u as m,m as y,g as J,S as yt,U as Jt,V as Hs,F as U,D as ue,y as E,b as x,p as Ls,z as M,Q as ka,r as Qt,w as ie,W as In,K as Cs,v as Nn,L as _a,X as Ta,n as ht,t as je,Y as Je,_ as $a,Z as gt,$ as wa,q as Fe,j as Sa,a0 as Aa,a1 as Ea,a2 as La,a3 as Ca,a4 as Oa,E as Ra,T as Pa,a5 as Da,a6 as xa}from"./RichEditor-DQzkoqnZ.js";import{_ as oe,u as $e,a as we,b as Ht,c as es,d as Me,e as ge,f as Ma,g as _e,h as Hn,i as xt,j as Un,k as Qe,l as Ia,T as jt,m as Ze,n as ts,o as _t,p as Vn,q as Na,L as Ha,r as Ua,s as cn,S as Va,t as Fa,v as ja}from"./component-base-x4vVYFDw.js";import{a as ce,u as Ie,s as Le,p as bt,g as Bt,b as et,P as pt,D as fe,T as me,o as Ba,d as Fn,f as jn,c as za,N as Wa,e as Ga,L as Us,F as rt,h as qa,i as Ya}from"./stores-CEjYSRZl.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function s(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(a){if(a.ep)return;a.ep=!0;const o=s(a);fetch(a.href,o)}})();const Ka=j({__name:"AppMenuToggle",props:{collasped:{type:Boolean,default:!1}},emits:["collaspe"],setup(e,{emit:t}){const s=t;return(n,a)=>(d(),b("div",{class:"app-menu-toggle",role:"button","data-testid":"collaspe-app-menu","aria-label":"collaspe menu",onClick:a[0]||(a[0]=o=>s("collaspe"))},[e.collasped?(d(),N(oe,{key:0,name:"ChevronRight","aria-hidden":"true"})):C("",!0),e.collasped?C("",!0):(d(),N(oe,{key:1,name:"ChevronLeft","aria-hidden":"true"}))]))}}),Xa=""+new URL("../logo-name-white.svg",import.meta.url).href,Za=""+new URL("../favicon.png",import.meta.url).href,R={Today:"today",Settings:"settings",Upcoming:"upcoming",Tomorrow:"tomorrow",Lists:"lists",List:"list",Habits:"habits",Setup:"setup",Tasks:"tasks",TaskOverview:"taskOverview"},Ja={class:"app-menu-item-count"},Qa=j({__name:"AppMenuItemCount",props:{count:{type:Number,default:0}},setup(e){return(t,s)=>(d(),b("div",Ja,V(e.count),1))}}),eo=["aria-description"],ks=j({__name:"AppMenuItem",props:{label:{type:String,required:!0},icon:{type:String,required:!0},pageRoute:{type:Object,required:!0},count:{type:Number,default:0}},setup(e){const t=e,s=vt("compact"),n=$e(),a=we(),o=()=>{n.push({name:t.pageRoute.name,...t.pageRoute.params?{params:t.pageRoute.params}:{}})},i=(f,u=0)=>s?u?`${f} (${u})`:f:"",r=I(()=>t.pageRoute.params?t.pageRoute.params?.id===a.params?.id&&t.pageRoute.name===a.name:a.name===t.pageRoute.name);return(f,u)=>(d(),b("div",{class:J(["app-menu-item",{"app-menu-item--selected":r.value,"app-menu-item--compact":m(s)}]),"data-testid":"app-menu-item",role:"menuitem",tabindex:"0","aria-description":e.label,onClick:o,onKeydown:[yt(o,["enter"]),yt(o,["space"])]},[h(oe,{name:e.icon,width:28,title:i(e.label,e.count)},null,8,["name","title"]),Zt(y("span",{class:"app-menu-item__label"},V(e.label),513),[[Ns,!m(s)]]),e.count&&!m(s)?(d(),N(Qa,{key:0,count:e.count},null,8,["count"])):C("",!0)],42,eo))}}),to={key:0,src:Xa,alt:"Website logo",class:"logo logo--small"},so={key:1,src:Za,alt:"Website logo",class:"App brand logo"},no={"data-id":"app-menu-item-main-list","aria-label":"MAIN MENU"},ao={"aria-labelledby":"menu-recent-lists"},oo={key:1},io={"aria-labelledby":"menu-personal"},ro=j({__name:"AppMenuItemList",setup(e){const t=vt("compact"),s=ce(),n=I(()=>({tasks:[{label:"Today",icon:"today",pageRoute:{name:R.Today}},{label:"Upcoming",icon:"eventUpcoming",pageRoute:{name:R.Tomorrow}},{label:"Habits",icon:"eventRepeat",pageRoute:{name:R.Habits}},{label:"Lists",icon:"list",compactOnly:!0,pageRoute:{name:R.Lists}}],personal:[{label:"Settings",icon:"settings",pageRoute:{name:R.Settings}}]}));return Jt(async()=>{await s.getRecentList()}),(a,o)=>{const i=Hs("router-link");return d(),b("nav",{class:J(["app-menu-item-list",{"app-menu-item-list--compact":m(t)}])},[m(t)?(d(),b("img",so)):(d(),b("img",to)),y("section",no,[(d(!0),b(U,null,ue(n.value.tasks,r=>(d(),b(U,{key:r.pageRoute.name},[!r.compactOnly||r.compactOnly&&m(t)?(d(),N(ks,{key:0,label:r.label,"page-route":r.pageRoute,icon:r.icon,count:r.count},null,8,["label","page-route","icon","count"])):C("",!0)],64))),128))]),y("section",ao,[o[1]||(o[1]=y("h3",{id:"menu-recent-lists"},"RECENT LISTS",-1)),m(s).recentList.length&&!m(t)?(d(!0),b(U,{key:0},ue(m(s).recentList,r=>(d(),N(ks,{key:r.id,label:r.description,"page-route":{name:m(R).List,params:{id:String(r.id)}},icon:"list"},null,8,["label","page-route"]))),128)):!m(s).recentList.length&&!m(t)?(d(),b("i",oo,"No recent lists found")):C("",!0),h(i,{to:{name:m(R).Lists},class:"app-menu-item-list__link","data-testid":"menu-view-lists"},{default:E(()=>o[0]||(o[0]=[y("div",null,"View All List",-1)])),_:1},8,["to"])]),y("section",io,[o[2]||(o[2]=y("h3",{id:"menu-personal"},"PERSONAL",-1)),(d(!0),b(U,null,ue(n.value.personal,r=>(d(),N(ks,{key:r.pageRoute.name,label:r.label,"page-route":r.pageRoute,icon:r.icon,count:r.count},null,8,["label","page-route","icon","count"]))),128))])],2)}}}),lo={class:"app-menu__content"},uo=j({__name:"AppMenu",emits:["collasped"],setup(e,{emit:t}){const s=t,n=Ie(),{isTablet:a}=Le(n),o=x(a.value);return s("collasped",o.value),Ls("compact",o),(i,r)=>(d(),b("div",{class:J(["app-menu",{"app-menu--collasped":o.value}]),role:"menu"},[r[1]||(r[1]=y("div",{class:"app-menu-space"},null,-1)),h(Ka,{collasped:o.value,onCollaspe:r[0]||(r[0]=f=>{o.value=!o.value,i.$emit("collasped",o.value)})},null,8,["collasped"]),y("div",lo,[h(ro)])],2))}}),co={class:"select-item"},fo=j({__name:"SelectItem",emits:["close","proceed"],setup(e,{emit:t}){const s=t,n=x("task"),a=()=>{s("proceed",n.value)};return(o,i)=>(d(),N(es,{"proceed-btn":{isEvent:!0,link:"",disable:!1},onClose:i[3]||(i[3]=r=>o.$emit("close")),onProceed:a},{content:E(()=>[y("div",co,[i[7]||(i[7]=y("span",{class:"select-item__title"},"Add new item",-1)),i[8]||(i[8]=y("p",null,"Add a habit, day task, or list to level Up Your Routine!",-1)),h(Ht,{modelValue:n.value,"onUpdate:modelValue":i[0]||(i[0]=r=>n.value=r),name:"item-selection",value:"task",class:"select-item__radio"},{label:E(()=>i[4]||(i[4]=[M("Task")])),_:1},8,["modelValue"]),h(Ht,{modelValue:n.value,"onUpdate:modelValue":i[1]||(i[1]=r=>n.value=r),name:"item-selection",value:"habit",class:"select-item__radio"},{label:E(()=>i[5]||(i[5]=[M("Habit")])),_:1},8,["modelValue"]),h(Ht,{modelValue:n.value,"onUpdate:modelValue":i[2]||(i[2]=r=>n.value=r),name:"item-selection",value:"list",class:"select-item__radio"},{label:E(()=>i[6]||(i[6]=[M("List")])),_:1},8,["modelValue"])])]),_:1}))}}),mo=Me(fo,[["__scopeId","data-v-d575ad6a"]]),po=["Enter","enter"," ","space"],go=j({__name:"DayItem",props:{day:{type:String,required:!0},selected:{type:Boolean,default:!1}},emits:["selected"],setup(e,{emit:t}){const s=e,n=t,a=()=>{n("selected",!s.selected)},o=()=>a(),i=r=>{po.includes(r.key)&&(n("selected",!s.selected),r.target.blur())};return(r,f)=>(d(),b("div",{class:J(["day-item",{"day-item--selected":e.selected}]),role:"button","aria-labelledby":"day option",tabindex:"0",onClick:o,onKeydown:i},V(e.day),35))}}),vo={class:"day-item-list"},yo=j({__name:"DayItemList",props:{days:{type:Array,default:()=>[]}},emits:["input"],setup(e,{emit:t}){const s=e,{days:n}=ka(s),a=Qt({mon:!1,tue:!1,wed:!1,thu:!1,sat:!1,sun:!1,fri:!1}),o=["mon","tue","wed","thu","fri","sat","sun"],i=t,r=()=>{n.value.forEach(f=>{a[f]=!0})};return r(),ie(a,()=>i("input",Object.keys(a).filter(f=>!!a[f]))),ie(n,(f,u)=>{u.length||r()}),(f,u)=>(d(),b("div",vo,[(d(),b(U,null,ue(o,p=>h(go,{key:p,day:p,selected:!!a[p],onSelected:c=>a[p]=c},null,8,["day","selected","onSelected"])),64))]))}});var he=(e=>(e.Once="Once",e.All="All days",e.Weekdays="Weekdays",e.Weekends="Weekends",e.Custom="Custom",e))(he||{});function dn(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),s.push.apply(s,n)}return s}function kt(e){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?dn(Object(s),!0).forEach(function(n){ho(e,n,s[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):dn(Object(s)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(s,n))})}return e}function ho(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function zt(e){return typeof e=="function"}function Os(e){return e!==null&&typeof e=="object"&&!Array.isArray(e)}function ss(e){return zt(e.$validator)?kt({},e):{$validator:e}}function Bn(e){return typeof e=="object"?e.$valid:e}function zn(e){return e.$validator||e}function bo(e,t){if(!Os(e))throw new Error(`[@vuelidate/validators]: First parameter to "withParams" should be an object, provided ${typeof e}`);if(!Os(t)&&!zt(t))throw new Error("[@vuelidate/validators]: Validator must be a function or object with $validator parameter");const s=ss(t);return s.$params=kt(kt({},s.$params||{}),e),s}function ko(e,t){if(!zt(e)&&typeof m(e)!="string")throw new Error(`[@vuelidate/validators]: First parameter to "withMessage" should be string or a function returning a string, provided ${typeof e}`);if(!Os(t)&&!zt(t))throw new Error("[@vuelidate/validators]: Validator must be a function or object with $validator parameter");const s=ss(t);return s.$message=e,s}function _o(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];const s=ss(e);return kt(kt({},s),{},{$async:!0,$watchTargets:t})}function To(e){return{$validator(t){for(var s=arguments.length,n=new Array(s>1?s-1:0),a=1;a<s;a++)n[a-1]=arguments[a];return m(t).reduce((o,i,r)=>{const f=Object.entries(i).reduce((u,p)=>{let[c,v]=p;const _=e[c]||{},g=Object.entries(_).reduce((T,w)=>{let[S,O]=w;const k=zn(O).call(this,v,i,r,...n),P=Bn(k);if(T.$data[S]=k,T.$data.$invalid=!P||!!T.$data.$invalid,T.$data.$error=T.$data.$invalid,!P){let z=O.$message||"";const B=O.$params||{};typeof z=="function"&&(z=z({$pending:!1,$invalid:!P,$params:B,$model:v,$response:k})),T.$errors.push({$property:c,$message:z,$params:B,$response:k,$model:v,$pending:!1,$validator:S})}return{$valid:T.$valid&&P,$data:T.$data,$errors:T.$errors}},{$valid:!0,$data:{},$errors:[]});return u.$data[c]=g.$data,u.$errors[c]=g.$errors,{$valid:u.$valid&&g.$valid,$data:u.$data,$errors:u.$errors}},{$valid:!0,$data:{},$errors:{}});return{$valid:o.$valid&&f.$valid,$data:o.$data.concat(f.$data),$errors:o.$errors.concat(f.$errors)}},{$valid:!0,$data:[],$errors:[]})},$message:t=>{let{$response:s}=t;return s?s.$errors.map(n=>Object.values(n).map(a=>a.map(o=>o.$message)).reduce((a,o)=>a.concat(o),[])):[]}}}const ns=e=>{if(e=m(e),Array.isArray(e))return!!e.length;if(e==null)return!1;if(e===!1)return!0;if(e instanceof Date)return!isNaN(e.getTime());if(typeof e=="object"){for(let t in e)return!0;return!1}return!!String(e).length},Wn=e=>(e=m(e),Array.isArray(e)?e.length:typeof e=="object"?Object.keys(e).length:String(e).length);function Ne(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return n=>(n=m(n),!ns(n)||t.every(a=>(a.lastIndex=0,a.test(n))))}var lt=Object.freeze({__proto__:null,forEach:To,len:Wn,normalizeValidatorObject:ss,regex:Ne,req:ns,unwrap:m,unwrapNormalizedValidator:zn,unwrapValidatorResponse:Bn,withAsync:_o,withMessage:ko,withParams:bo});Ne(/^[a-zA-Z]*$/);Ne(/^[a-zA-Z0-9]*$/);Ne(/^\d*(\.\d+)?$/);const $o=/^(?:[A-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[A-z0-9!#$%&'*+/=?^_`{|}~-]+)*|"(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21\x23-\x5b\x5d-\x7f]|[\x01-\x09\x0b\x0c\x0e-\x7f])*")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9]{2,}(?:[a-z0-9-]*[a-z0-9])?|\[(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?|[a-z0-9-]*[a-z0-9]:(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21-\x5a\x53-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])+)\])$/i;Ne($o);function wo(e){return t=>!ns(t)||Wn(t)>=m(e)}function So(e){return{$validator:wo(e),$message:t=>{let{$params:s}=t;return`This field should be at least ${s.min} characters long`},$params:{min:e,type:"minLength"}}}function Ao(e){return typeof e=="string"&&(e=e.trim()),ns(e)}var Eo={$validator:Ao,$message:"Value is required",$params:{type:"required"}};const Lo=/^(?:(?:(?:https?|ftp):)?\/\/)(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z0-9\u00a1-\uffff][a-z0-9\u00a1-\uffff_-]{0,62})?[a-z0-9\u00a1-\uffff]\.)+(?:[a-z\u00a1-\uffff]{2,}\.?))(?::\d{2,5})?(?:[/?#]\S*)?$/i;Ne(Lo);Ne(/(^[0-9]*$)|(^-[0-9]+$)/);Ne(/^[-]?\d*(\.\d+)?$/);function fn(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),s.push.apply(s,n)}return s}function Re(e){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?fn(Object(s),!0).forEach(function(n){Co(e,n,s[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):fn(Object(s)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(s,n))})}return e}function Co(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function mn(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return Object.keys(e).reduce((s,n)=>(t.includes(n)||(s[n]=m(e[n])),s),{})}function Wt(e){return typeof e=="function"}function Oo(e){return _a(e)||Ta(e)}function Gn(e,t,s){let n=e;const a=t.split(".");for(let o=0;o<a.length;o++){if(!n[a[o]])return s;n=n[a[o]]}return n}function _s(e,t,s){return I(()=>e.some(n=>Gn(t,n,{[s]:!1})[s]))}function pn(e,t,s){return I(()=>e.reduce((n,a)=>{const o=Gn(t,a,{[s]:!1})[s]||[];return n.concat(o)},[]))}function qn(e,t,s,n){return e.call(n,m(t),m(s),n)}function Yn(e){return e.$valid!==void 0?!e.$valid:!e}function Ro(e,t,s,n,a,o,i){let{$lazy:r,$rewardEarly:f}=a,u=arguments.length>7&&arguments[7]!==void 0?arguments[7]:[],p=arguments.length>8?arguments[8]:void 0,c=arguments.length>9?arguments[9]:void 0,v=arguments.length>10?arguments[10]:void 0;const _=x(!!n.value),g=x(0);s.value=!1;const T=ie([t,n].concat(u,v),()=>{if(r&&!n.value||f&&!c.value&&!s.value)return;let w;try{w=qn(e,t,p,i)}catch(S){w=Promise.reject(S)}g.value++,s.value=!!g.value,_.value=!1,Promise.resolve(w).then(S=>{g.value--,s.value=!!g.value,o.value=S,_.value=Yn(S)}).catch(S=>{g.value--,s.value=!!g.value,o.value=S,_.value=!0})},{immediate:!0,deep:typeof t=="object"});return{$invalid:_,$unwatch:T}}function Po(e,t,s,n,a,o,i,r){let{$lazy:f,$rewardEarly:u}=n;const p=()=>({}),c=I(()=>{if(f&&!s.value||u&&!r.value)return!1;let v=!0;try{const _=qn(e,t,i,o);a.value=_,v=Yn(_)}catch(_){a.value=_}return v});return{$unwatch:p,$invalid:c}}function Do(e,t,s,n,a,o,i,r,f,u,p){const c=x(!1),v=e.$params||{},_=x(null);let g,T;e.$async?{$invalid:g,$unwatch:T}=Ro(e.$validator,t,c,s,n,_,a,e.$watchTargets,f,u,p):{$invalid:g,$unwatch:T}=Po(e.$validator,t,s,n,_,a,f,u);const w=e.$message;return{$message:Wt(w)?I(()=>w(mn({$pending:c,$invalid:g,$params:mn(v),$model:t,$response:_,$validator:o,$propertyPath:r,$property:i}))):w||"",$params:v,$pending:c,$invalid:g,$response:_,$unwatch:T}}function xo(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const t=m(e),s=Object.keys(t),n={},a={},o={};let i=null;return s.forEach(r=>{const f=t[r];switch(!0){case Wt(f.$validator):n[r]=f;break;case Wt(f):n[r]={$validator:f};break;case r==="$validationGroups":i=f;break;case r.startsWith("$"):o[r]=f;break;default:a[r]=f}}),{rules:n,nestedValidators:a,config:o,validationGroups:i}}const Mo="__root";function Io(e,t,s,n,a,o,i,r,f){const u=Object.keys(e),p=n.get(a,e),c=x(!1),v=x(!1),_=x(0);if(p){if(!p.$partial)return p;p.$unwatch(),c.value=p.$dirty.value}const g={$dirty:c,$path:a,$touch:()=>{c.value||(c.value=!0)},$reset:()=>{c.value&&(c.value=!1)},$commit:()=>{}};return u.length?(u.forEach(T=>{g[T]=Do(e[T],t,g.$dirty,o,i,T,s,a,f,v,_)}),g.$externalResults=I(()=>r.value?[].concat(r.value).map((T,w)=>({$propertyPath:a,$property:s,$validator:"$externalResults",$uid:`${a}-externalResult-${w}`,$message:T,$params:{},$response:null,$pending:!1})):[]),g.$invalid=I(()=>{const T=u.some(w=>m(g[w].$invalid));return v.value=T,!!g.$externalResults.value.length||T}),g.$pending=I(()=>u.some(T=>m(g[T].$pending))),g.$error=I(()=>g.$dirty.value?g.$pending.value||g.$invalid.value:!1),g.$silentErrors=I(()=>u.filter(T=>m(g[T].$invalid)).map(T=>{const w=g[T];return Qt({$propertyPath:a,$property:s,$validator:T,$uid:`${a}-${T}`,$message:w.$message,$params:w.$params,$response:w.$response,$pending:w.$pending})}).concat(g.$externalResults.value)),g.$errors=I(()=>g.$dirty.value?g.$silentErrors.value:[]),g.$unwatch=()=>u.forEach(T=>{g[T].$unwatch()}),g.$commit=()=>{v.value=!0,_.value=Date.now()},n.set(a,e,g),g):(p&&n.set(a,e,g),g)}function No(e,t,s,n,a,o,i){const r=Object.keys(e);return r.length?r.reduce((f,u)=>(f[u]=Rs({validations:e[u],state:t,key:u,parentKey:s,resultsCache:n,globalConfig:a,instance:o,externalResults:i}),f),{}):{}}function Ho(e,t,s){const n=I(()=>[t,s].filter(g=>g).reduce((g,T)=>g.concat(Object.values(m(T))),[])),a=I({get(){return e.$dirty.value||(n.value.length?n.value.every(g=>g.$dirty):!1)},set(g){e.$dirty.value=g}}),o=I(()=>{const g=m(e.$silentErrors)||[],T=n.value.filter(w=>(m(w).$silentErrors||[]).length).reduce((w,S)=>w.concat(...S.$silentErrors),[]);return g.concat(T)}),i=I(()=>{const g=m(e.$errors)||[],T=n.value.filter(w=>(m(w).$errors||[]).length).reduce((w,S)=>w.concat(...S.$errors),[]);return g.concat(T)}),r=I(()=>n.value.some(g=>g.$invalid)||m(e.$invalid)||!1),f=I(()=>n.value.some(g=>m(g.$pending))||m(e.$pending)||!1),u=I(()=>n.value.some(g=>g.$dirty)||n.value.some(g=>g.$anyDirty)||a.value),p=I(()=>a.value?f.value||r.value:!1),c=()=>{e.$touch(),n.value.forEach(g=>{g.$touch()})},v=()=>{e.$commit(),n.value.forEach(g=>{g.$commit()})},_=()=>{e.$reset(),n.value.forEach(g=>{g.$reset()})};return n.value.length&&n.value.every(g=>g.$dirty)&&c(),{$dirty:a,$errors:i,$invalid:r,$anyDirty:u,$error:p,$pending:f,$touch:c,$reset:_,$silentErrors:o,$commit:v}}function Rs(e){let{validations:t,state:s,key:n,parentKey:a,childResults:o,resultsCache:i,globalConfig:r={},instance:f,externalResults:u}=e;const p=a?`${a}.${n}`:n,{rules:c,nestedValidators:v,config:_,validationGroups:g}=xo(t),T=Re(Re({},r),_),w=n?I(()=>{const q=m(s);return q?m(q[n]):void 0}):s,S=Re({},m(u)||{}),O=I(()=>{const q=m(u);return n?q?m(q[n]):void 0:q}),A=Io(c,w,n,i,p,T,f,O,s),k=No(v,w,p,i,T,f,O),P={};g&&Object.entries(g).forEach(q=>{let[G,ve]=q;P[G]={$invalid:_s(ve,k,"$invalid"),$error:_s(ve,k,"$error"),$pending:_s(ve,k,"$pending"),$errors:pn(ve,k,"$errors"),$silentErrors:pn(ve,k,"$silentErrors")}});const{$dirty:z,$errors:B,$invalid:Q,$anyDirty:Ce,$error:st,$pending:W,$touch:H,$reset:K,$silentErrors:Oe,$commit:St}=Ho(A,k,o),is=n?I({get:()=>m(w),set:q=>{z.value=!0;const G=m(s),ve=m(u);ve&&(ve[n]=S[n]),Cs(G[n])?G[n].value=q:G[n]=q}}):null;n&&T.$autoDirty&&ie(w,()=>{z.value||H();const q=m(u);q&&(q[n]=S[n])},{flush:"sync"});async function rs(){return H(),T.$rewardEarly&&(St(),await ht()),await ht(),new Promise(q=>{if(!W.value)return q(!Q.value);const G=ie(W,()=>{q(!Q.value),G()})})}function At(q){return(o.value||{})[q]}function ls(){Cs(u)?u.value=S:Object.keys(S).length===0?Object.keys(u).forEach(q=>{delete u[q]}):Object.assign(u,S)}return Qt(Re(Re(Re({},A),{},{$model:is,$dirty:z,$error:st,$errors:B,$invalid:Q,$anyDirty:Ce,$pending:W,$touch:H,$reset:K,$path:p||Mo,$silentErrors:Oe,$validate:rs,$commit:St},o&&{$getResultsForChild:At,$clearExternalResults:ls,$validationGroups:P}),k))}class Uo{constructor(){this.storage=new Map}set(t,s,n){this.storage.set(t,{rules:s,result:n})}checkRulesValidity(t,s,n){const a=Object.keys(n),o=Object.keys(s);return o.length!==a.length||!o.every(r=>a.includes(r))?!1:o.every(r=>s[r].$params?Object.keys(s[r].$params).every(f=>m(n[r].$params[f])===m(s[r].$params[f])):!0)}get(t,s){const n=this.storage.get(t);if(!n)return;const{rules:a,result:o}=n,i=this.checkRulesValidity(t,s,a),r=o.$unwatch?o.$unwatch:()=>({});return i?o:{$dirty:o.$dirty,$partial:!0,$unwatch:r}}}const Ut={COLLECT_ALL:!0,COLLECT_NONE:!1},gn=Symbol("vuelidate#injectChildResults"),vn=Symbol("vuelidate#removeChildResults");function Vo(e){let{$scope:t,instance:s}=e;const n={},a=x([]),o=I(()=>a.value.reduce((p,c)=>(p[c]=m(n[c]),p),{}));function i(p,c){let{$registerAs:v,$scope:_,$stopPropagation:g}=c;g||t===Ut.COLLECT_NONE||_===Ut.COLLECT_NONE||t!==Ut.COLLECT_ALL&&t!==_||(n[v]=p,a.value.push(v))}s.__vuelidateInjectInstances=[].concat(s.__vuelidateInjectInstances||[],i);function r(p){a.value=a.value.filter(c=>c!==p),delete n[p]}s.__vuelidateRemoveInstances=[].concat(s.__vuelidateRemoveInstances||[],r);const f=vt(gn,[]);Ls(gn,s.__vuelidateInjectInstances);const u=vt(vn,[]);return Ls(vn,s.__vuelidateRemoveInstances),{childResults:o,sendValidationResultsToParent:f,removeValidationResultsFromParent:u}}function Kn(e){return new Proxy(e,{get(t,s){return typeof t[s]=="object"?Kn(t[s]):I(()=>t[s])}})}let yn=0;function Fo(e,t){var s;let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};arguments.length===1&&(n=e,e=void 0,t=void 0);let{$registerAs:a,$scope:o=Ut.COLLECT_ALL,$stopPropagation:i,$externalResults:r,currentVueInstance:f}=n;const u=f||((s=In())===null||s===void 0?void 0:s.proxy),p=u?u.$options:{};a||(yn+=1,a=`_vuelidate_${yn}`);const c=x({}),v=new Uo,{childResults:_,sendValidationResultsToParent:g,removeValidationResultsFromParent:T}=u?Vo({$scope:o,instance:u}):{childResults:x({})};if(!e&&p.validations){const w=p.validations;t=x({}),Jt(()=>{t.value=u,ie(()=>Wt(w)?w.call(t.value,new Kn(t.value)):w,S=>{c.value=Rs({validations:S,state:t,childResults:_,resultsCache:v,globalConfig:n,instance:u,externalResults:r||u.vuelidateExternalResults})},{immediate:!0})}),n=p.validationsConfig||n}else{const w=Cs(e)||Oo(e)?e:Qt(e||{});ie(w,S=>{c.value=Rs({validations:S,state:t,childResults:_,resultsCache:v,globalConfig:n,instance:u??{},externalResults:r})},{immediate:!0})}return u&&(g.forEach(w=>w(c,{$registerAs:a,$scope:o,$stopPropagation:i})),Nn(()=>T.forEach(w=>w(a)))),I(()=>Re(Re({},m(c.value)),_.value))}const jo=(e,t,s,n)=>{const a=Object.assign({},e);return a.days=[...a.days],t===he.Weekdays?a.days=["mon","tue","wed","thu","fri"]:t===he.Weekends?a.days=["sat","sun"]:t!==he.Once&&e.days.length===0&&(a.days=["mon","tue","wed","thu","fri","sat","sun"]),a.startDate||(a.startDate=new Date(Date.now()).toISOString().split("T")[0]),a.priority=Number(a.priority),s||(a.endDate=void 0),n||(a.startTime=void 0,a.endTime=void 0),a};function Bo(e){e.scrollIntoView({behavior:"smooth"})}const zo={key:1},Wo={key:2},Go={key:0,class:"task-form__optional"},qo={class:"task-form__optional"},Yo={key:0,class:"task-form__time"},Ko={key:1,class:"task-form__optional"},Xo={key:2,class:"task-form__optional"},Zo={class:"task-form__additional"},Jo=j({__name:"TaskForm",props:{listId:{type:Number,default:void 0},selectedTask:{type:Object,default:void 0},isHabit:{type:Boolean,default:!1},isToday:{type:Boolean,default:!1},minStartDate:{type:String,default:""}},emits:["submitted"],setup(e,{emit:t}){const s=e,n=x(!1),a=x(!1),o=x(!1),i=ge(),r=ce(),f=x(he.Once),u=x(null),p=I(()=>s.listId||s.selectedTask?.listId);je(()=>{f.value=s.isHabit?he.All:he.Once,s.selectedTask?.days?.length&&(f.value=he.Custom),s.selectedTask&&(n.value=!!s.selectedTask.startTime||!!s.selectedTask.endTime,a.value=!!s.selectedTask.endDate)});const c=t,v=()=>({description:s.selectedTask?.description||"",note:s.selectedTask?.note||"",startTime:s.selectedTask?.startTime||"",endTime:s.selectedTask?.endTime||"",endDate:s.selectedTask?.endDate||"",carryOver:s.selectedTask?.carryOver||!1,priority:s.selectedTask?.priority||pt.Normal,days:s.selectedTask?.days||[],startDate:s.selectedTask?.startDate||(s.minStartDate?s.minStartDate:et()),order:0,archiveDate:0,listId:s.selectedTask?.listId||s.listId,isArchived:!1}),_={description:{required:Eo,maxLength:So(4)},startTime:{minTime:lt.withMessage("The start time must have a minimum value of 06:00",{$validator:A=>!A||A>="06:00"}),maxTime:lt.withMessage("The start time must have a value less than 21:00",{$validator:A=>!A||A<="21:00"})},endTime:{minTime:lt.withMessage("The end time must have a minimum value of 06:00",{$validator:A=>!A||A>="06:00"}),lessThanStart:lt.withMessage("The end time must be greater than the start time",{$validator:A=>!A||!!g.value.startTime&&A>g.value.startTime}),maxTime:lt.withMessage("The end time must have a value less than 22:00",{$validator:A=>!A||A<="22:00"})}},g=x(v()),T=Fo(_,g),w=x(!1);ie(g,()=>{w.value=!1},{deep:!0});const S=async()=>{if(T.value.$validate(),T.value.$error)return;const A=jo(g.value,f.value,a.value,n.value);try{s.selectedTask?await r.updateTask({...s.selectedTask,...A}):await r.addTask(A),T.value.$reset(),u.value&&Bo(u.value),o.value?(g.value=v(),w.value=!0):c("submitted")}catch{const k=s.selectedTask?"The task failed to save.":"Failed to create new task.";i.error({title:"Error",text:k+" Please try again."})}},O=Object.keys(bt).map(A=>({value:Number(A),label:bt[Number(A)]}));return(A,k)=>g.value?(d(),b("form",{key:0,id:"task-form",class:"task-form",novalidate:"","aria-label":"Todo task form",onSubmit:gt(S,["prevent"])},[w.value?(d(),N(Ma,{key:0,type:"success",onClose:k[0]||(k[0]=P=>w.value=!0)},{default:E(()=>k[16]||(k[16]=[y("span",null,"New task was added successfully",-1)])),_:1})):C("",!0),y("fieldset",{ref_key:"topOfForm",ref:u},[k[18]||(k[18]=y("legend",null,"Title & note",-1)),h(_e,{modelValue:g.value.description,"onUpdate:modelValue":k[1]||(k[1]=P=>g.value.description=P),class:"task-form__field"},Je({label:E(()=>[k[17]||(k[17]=M("Title"))]),_:2},[m(T).description.$error?{name:"error",fn:E(()=>[M(V(m(T).description.$errors[0].$message),1)]),key:"0"}:void 0]),1032,["modelValue"]),h($a,{"model-value":g.value.note,"onUpdate:modelValue":k[2]||(k[2]=P=>g.value.note=P),label:"Note"},null,8,["model-value"])],512),y("fieldset",null,[k[19]||(k[19]=y("legend",null,"Select Priority",-1)),h(Hn,{modelValue:g.value.priority,"onUpdate:modelValue":k[3]||(k[3]=P=>g.value.priority=P),class:"task-form__field",options:m(O)},null,8,["modelValue","options"])]),s.isHabit&&!s.selectedTask?(d(),b("fieldset",zo,[k[20]||(k[20]=y("legend",null,"Repeat",-1)),(d(!0),b(U,null,ue(Object.values(m(he)),P=>(d(),b(U,{key:P},[P===m(he).Once&&e.isHabit?C("",!0):(d(),b("div",{key:P,class:"task-form__frequency-item"},[h(Ht,{modelValue:f.value,"onUpdate:modelValue":k[4]||(k[4]=z=>f.value=z),name:"repeatFrequency","data-testid":"freq-"+P,value:P},{label:E(()=>[M(V(P),1)]),_:2},1032,["modelValue","data-testid","value"])]))],64))),128))])):C("",!0),f.value==="Custom"?(d(),b("fieldset",Wo,[k[21]||(k[21]=y("legend",null,"Select days",-1)),h(yo,{days:g.value.days,onInput:k[5]||(k[5]=P=>g.value.days=P)},null,8,["days"])])):C("",!0),y("fieldset",null,[k[26]||(k[26]=y("legend",null,"Optional",-1)),!p.value&&f.value==="Once"?(d(),b("div",Go,[h(xt,{modelValue:g.value.carryOver,"onUpdate:modelValue":k[6]||(k[6]=P=>g.value.carryOver=P),label:"Carry over"},null,8,["modelValue"])])):C("",!0),y("div",qo,[h(xt,{modelValue:n.value,"onUpdate:modelValue":k[7]||(k[7]=P=>n.value=P),label:"Add start and end time"},null,8,["modelValue"]),n.value?(d(),b("div",Yo,[h(_e,{modelValue:g.value.startTime,"onUpdate:modelValue":k[8]||(k[8]=P=>g.value.startTime=P),type:"time",class:"task-form__field"},Je({label:E(()=>[k[22]||(k[22]=M("Start"))]),_:2},[m(T).startTime.$error?{name:"error",fn:E(()=>[M(V(m(T).startTime.$errors[0].$message),1)]),key:"0"}:void 0]),1032,["modelValue"]),h(_e,{modelValue:g.value.endTime,"onUpdate:modelValue":k[9]||(k[9]=P=>g.value.endTime=P),type:"time",class:"task-form__field",disabled:!g.value.startTime},Je({label:E(()=>[k[23]||(k[23]=M("End"))]),_:2},[m(T).endTime.$error?{name:"error",fn:E(()=>[M(V(m(T).endTime.$errors[0].$message),1)]),key:"0"}:void 0]),1032,["modelValue","disabled"])])):C("",!0)]),!p.value&&f.value!=="Once"?(d(),b("div",Ko,[h(xt,{modelValue:a.value,"onUpdate:modelValue":k[10]||(k[10]=P=>a.value=P),label:"Add end date"},null,8,["modelValue"]),a.value?(d(),N(_e,{key:0,modelValue:g.value.endDate,"onUpdate:modelValue":k[11]||(k[11]=P=>g.value.endDate=P),type:"date",class:"task-form__field task-form__end-date",min:m(Bt)(new Date(Date.now()+60*60*24*1e3)),onKeydown:k[12]||(k[12]=gt(()=>{},["prevent"]))},{label:E(()=>k[24]||(k[24]=[M("End date")])),_:1},8,["modelValue","min"])):C("",!0)])):C("",!0),!p.value&&f.value===m(he).Once&&!s.isToday?(d(),b("div",Xo,[h(_e,{modelValue:g.value.startDate,"onUpdate:modelValue":k[13]||(k[13]=P=>g.value.startDate=P),type:"date",class:"task-form__field task-form__end-date",min:e.minStartDate||m(et)(),onKeydown:k[14]||(k[14]=gt(()=>{},["prevent"]))},{label:E(()=>k[25]||(k[25]=[M("Start date")])),_:1},8,["modelValue","min"])])):C("",!0)]),y("div",Zo,[p.value?(d(),N(xt,{key:0,modelValue:o.value,"onUpdate:modelValue":k[15]||(k[15]=P=>o.value=P),label:"Add another task to the list"},null,8,["modelValue"])):C("",!0)])],32)):C("",!0)}}),tt=j({__name:"TaskFormModal",props:{listId:{type:Number,default:void 0},selectedTask:{type:Object,default:void 0},isHabit:{type:Boolean,default:!1},isToday:{type:Boolean,default:!1},minStartDate:{type:String,default:""}},emits:["close","submitted"],setup(e){const t=e,s=I(()=>{const n=t.selectedTask?"Edit":"Add",a=t.isHabit?"Habit":"Task";return n+" "+a});return(n,a)=>(d(),N(Un,{onClose:a[1]||(a[1]=o=>n.$emit("close"))},{header:E(()=>[M(V(s.value),1)]),main:E(()=>[h(Jo,wa(t,{onSubmitted:a[0]||(a[0]=o=>{n.$emit("submitted"),n.$emit("close")})}),null,16)]),"footer-buttons":E(()=>[h(Qe,{form:"task-form"},{default:E(()=>a[2]||(a[2]=[M("Submit")])),_:1})]),_:1}))}}),Qo={key:0},ei={key:1},ti={key:0},Vs=j({__name:"TaskListForm",props:{item:{type:Object,default:null}},emits:["done","addTask","close"],setup(e,{emit:t}){const s=e,n=t,a=ge(),o=ce(),i=x(Bt(new Date(Date.now()+60*60*24*1e3))),r=x({description:s.item?.description||"",startDate:s.item?.startDate||et(),endDate:s.item?.endDate||""}),f=I(()=>Object.values(r.value).includes("")),u=I(()=>!!s.item);ie(()=>r.value.startDate,()=>{try{const c=new Date(r.value.startDate);r.value.endDate||(i.value=Bt(new Date(c.getTime()+60*60*24*1e3)))}catch{a.error({text:"Fatal error occurred"})}});const p=async()=>{try{if(u.value){const c={id:s.item.id,createdDate:s.item.createdDate,lastModifiedDate:s.item.lastModifiedDate,...r.value,isArchived:!1,isDeleted:!1};await o.updateList(c)}else await o.addList(r.value);n("done")}catch{const c=u.value?"Failed to save changes for list.":"Failed to create new list";a.error({title:"An error occurred",text:c})}};return(c,v)=>(d(),N(Un,{onClose:v[3]||(v[3]=_=>c.$emit("close"))},{header:E(()=>[e.item?(d(),b("span",Qo,"Edit List")):(d(),b("span",ei,"Add List"))]),main:E(()=>[y("form",{id:"task-list-form",class:"task-list-form",novalidate:"",onSubmit:gt(p,["prevent"])},[y("div",null,[h(_e,{modelValue:r.value.description,"onUpdate:modelValue":v[0]||(v[0]=_=>r.value.description=_),maxlength:150,"data-testid":"task-list-form-description"},{label:E(()=>v[4]||(v[4]=[M("Description")])),_:1},8,["modelValue"])]),u.value?C("",!0):(d(),b("div",ti,[h(_e,{modelValue:r.value.startDate,"onUpdate:modelValue":v[1]||(v[1]=_=>r.value.startDate=_),type:"date","data-testid":"task-list-form-start",min:new Date(Date.now()).toISOString().split("T")[0]},{label:E(()=>v[5]||(v[5]=[M("Start date")])),_:1},8,["modelValue","min"])])),y("div",null,[h(_e,{modelValue:r.value.endDate,"onUpdate:modelValue":v[2]||(v[2]=_=>r.value.endDate=_),type:"date","data-testid":"task-list-form-end",min:i.value,disabled:!r.value.startDate},{label:E(()=>v[6]||(v[6]=[M("End date")])),_:1},8,["modelValue","min","disabled"])])],32)]),"footer-buttons":E(()=>[h(Qe,{form:"task-list-form",disabled:f.value},{default:E(()=>[e.item?(d(),b(U,{key:0},[M("Edit")],64)):(d(),b(U,{key:1},[M("Create")],64))]),_:1},8,["disabled"])]),_:1}))}}),si={class:"mobile-header"},ni={class:"mobile-header__menu"},ai={"aria-label":"settings"},oi=j({__name:"MobileHeader",setup(e){const t=$e(),s=we(),n=ge(),a=ce(),o=x("task"),{lists:i,habits:r,allUpcomingTasks:f,tomorrowsTasks:u,todaysTasks:p}=Le(a),c=x(!1),v=x(!1),_=x(!1),g=x(!1),T=O=>{c.value=!1,o.value=O,O==="task"||O==="habit"?(g.value=O==="habit",v.value=!0):_.value=!0},w=()=>{if(_.value=!1,n.success({text:"You successfully added a new task."}),s.name===R.Lists&&o.value==="list"){a.getAllList(i.value.pagination.page);return}if(s.name===R.Habits&&o.value==="habit"){a.getHabits(r.value.pagination.page);return}if(s.name===R.Today&&o.value==="task"){a.getTodaysTasks(p.value.pagination.page);return}if(s.name===R.Tomorrow&&o.value==="task"){a.getTomorrowTasks(u.value.pagination.page);return}if(s.name===R.Upcoming&&o.value==="task"){a.getUpcoming(f.value.pagination.page);return}},S=()=>{v.value=!1,n.success({text:"You successfully added a new list."}),s.name===R.Lists&&a.getAllList(i.value.pagination.page)};return(O,A)=>(d(),b("div",si,[y("button",{class:"mobile-header__back-button","aria-label":"Back button",onClick:A[0]||(A[0]=k=>m(t).go(-1))},[h(oe,{name:"chevronLeft"})]),A[6]||(A[6]=y("span",{class:"mobile-header__app-title"},"planner.",-1)),y("div",ni,[y("button",{class:"mobile-header__menu-item","aria-label":"add new item","aria-description":"a button to add a day task, list or habit",onClick:A[1]||(A[1]=k=>c.value=!0)},[h(oe,{name:"addBox"})]),y("button",ai,[h(oe,{name:"settings",onClick:A[2]||(A[2]=k=>m(t).push({name:m(R).Settings}))})]),c.value?(d(),N(mo,{key:0,onClose:A[3]||(A[3]=k=>c.value=!1),onProceed:T})):C("",!0),v.value?(d(),N(tt,{key:1,"is-habit":g.value,onClose:A[4]||(A[4]=k=>v.value=!1),onSubmitted:w},null,8,["is-habit"])):C("",!0),_.value?(d(),N(Vs,{key:2,onDone:S,onClose:A[5]||(A[5]=k=>_.value=!1)})):C("",!0)])]))}}),ii={FILE_SIZE:"file_size"},ri={key:0,class:"profile-image__image"},li=["src"],ui=["src"],ci={key:1,class:"profile-image__svg"},di={key:2,role:"button",class:"profile-image__add",tabindex:"1"},Gt=j({__name:"ProfileImage",props:{src:{type:String,default:""},modelValue:{type:String,default:""},size:{type:String,default:"normal"},viewOnly:{type:Boolean,default:!0}},emits:["error","update:modelValue"],setup(e,{emit:t}){const s=x(),n=x(),a=ge(),o=e,i=t,r=()=>{o.viewOnly||s.value?.click()},f=p=>new Promise((c,v)=>{const _=new FileReader;_.readAsDataURL(p),_.onerror=()=>{a.error({text:"Error occurred processing image."}),v(null)},_.onload=()=>{c(_.result)}}),u=async p=>{const c=p.target;if(!c.files?.length)return;await ht();const v=c.files[0];if(v.size>1024*1024*2){i("error",ii.FILE_SIZE),a.error({title:"Error",text:"Image is too large. Maximum image size is 5mb"});return}const _=await f(v);i("update:modelValue",_)};return(p,c)=>(d(),b("div",{class:J(["profile-image",{"profile-image--borderless":e.modelValue||e.src,[`profile-image--${e.size}`]:!0}]),onClick:r,onKeydown:yt(r,["enter"])},[e.modelValue||e.src?(d(),b("div",ri,[!e.viewOnly&&e.modelValue?(d(),b("img",{key:0,ref_key:"image",ref:n,src:e.modelValue,alt:"your profile image"},null,8,li)):e.src?(d(),b("img",{key:1,src:e.src,alt:"your profile image"},null,8,ui)):C("",!0)])):(d(),b("div",ci,[h(oe,{name:"person"})])),e.viewOnly?C("",!0):(d(),b("div",di,[h(oe,{name:"add"}),y("input",{ref_key:"input",ref:s,type:"file",style:{display:"none"},name:"image",accept:"image/gif,image/jpeg,image/jpg,image/png","data-original-title":"upload photos",onChange:c[0]||(c[0]=v=>u(v))},null,544)]))],34))}}),fi={key:0,class:"main-content__profile"},mi={class:"setting-name"},pi={key:1,class:"mobile-main-content__personal"},gi=j({__name:"MainContent",props:{isMobile:{type:Boolean,default:!1},collaspedMenu:{type:Boolean,default:!1}},setup(e){const t=Ie(),s=ce(),n=I(()=>`You have ${s.countTodaysTask} tasks today and ${s.countList} active lists.`);return(a,o)=>(d(),b("div",{class:J({"collasped-menu":e.collaspedMenu,"main-content":!e.isMobile,"mobile-main-content":e.isMobile}),role:"main",tabindex:"0"},[y("div",{class:J({"main-content__container":!e.isMobile})},[e.isMobile?(d(),b("div",pi,[h(Gt,{class:"main-content__profile-image",src:m(t).settings.image,size:"small"},null,8,["src"]),y("div",null,[o[1]||(o[1]=M(" Hello ")),y("strong",null,V(m(t).settings.name),1),o[2]||(o[2]=y("br",null,null,-1)),M(" "+V(n.value),1)])])):(d(),b("div",fi,[y("div",null,V(n.value),1),y("div",null,[y("span",mi,[o[0]||(o[0]=M("Hello ")),y("strong",null,V(m(t).settings.name),1)]),h(Gt,{class:"main-content__profile-image",src:m(t).settings.image,size:"small"},null,8,["src"])])])),Fe(a.$slots,"default")],2)],2))}}),hn=()=>{const e=window.navigator.userAgent.toLowerCase();return e.includes("iphone")||e.includes("android")&&e.includes("mobile safari")||e.includes("samsung")&&e.includes("mobile safari")},vi=()=>{const e=Ie(),t=window.matchMedia("(min-width: 768px) and (max-width: 1024px)"),s=window.matchMedia("(min-width: 768px) and (max-width: 1024px) and (orientation: landscape)"),n=window.matchMedia("(min-width: 320px) and (max-width: 480px)"),a=window.matchMedia("(min-width: 481px) and (max-width: 767px)"),o=(i,r)=>{if(i===fe.isTabletPortrait&&hn()){e.setMediaMatch(fe.isMobilePortrait,r);return}if(i===fe.isTabletPortrait&&hn()){e.setMediaMatch(fe.isMobileLandscape,r);return}e.setMediaMatch(i,r)};s.matches&&o(fe.isTabletLandscape,s.matches),t.matches&&o(fe.isTabletPortrait,t.matches),a.matches&&o(fe.isMobileLandscape,a.matches),n.matches&&o(fe.isMobilePortrait,n.matches),t.addEventListener("change",i=>{o(fe.isTabletPortrait,i.matches)}),s.addEventListener("change",i=>{o(fe.isTabletLandscape,i.matches)}),a.addEventListener("change",i=>{o(fe.isMobileLandscape,i.matches)}),n.addEventListener("change",i=>{o(fe.isMobilePortrait,i.matches)})},yi={class:"mobile-footer-menu-count"},hi=j({__name:"MobileFooterMenuCount",props:{count:{type:Number,default:0}},setup(e){return(t,s)=>(d(),b("div",yi,V(e.count),1))}}),bi=["id"],ki=j({__name:"MobileFooterMenuItem",props:{item:{type:Object,required:!0}},setup(e){const t=$e(),s=we();return(n,a)=>(d(),b("div",{class:J(["mobile-footer-menu-item",{"mobile-footer-menu-item--selected":m(s).name===e.item.pageRoute.name}]),role:"button",tabindex:"0",onClick:a[0]||(a[0]=o=>m(t).push({name:e.item.pageRoute.name}))},[y("div",null,[h(oe,{name:e.item.icon,"aria-labelledby":"menu-footer-"+e.item.label},null,8,["name","aria-labelledby"]),y("div",{id:"menu-footer-"+e.item.label},V(e.item.label),9,bi)]),e.item.count?(d(),N(hi,{key:0,class:"mobile-footer-menu-item__count",count:e.item.count},null,8,["count"])):C("",!0)],2))}}),_i={class:"mobile-footer"},Ti=j({__name:"MobileFooter",setup(e){const t=[{label:"Today",icon:"today",pageRoute:{name:R.Today}},{label:"Upcoming",icon:"eventUpcoming",pageRoute:{name:R.Upcoming}},{label:"Habits",icon:"eventRepeat",pageRoute:{name:R.Habits}},{label:"Lists",icon:"list",pageRoute:{name:R.Lists}}];return(s,n)=>(d(),b("div",_i,[(d(),b(U,null,ue(t,a=>h(ki,{key:a.pageRoute.name,item:a},null,8,["item"])),64))]))}});function $i(e){return new Worker(""+new URL("cleanup-D9866oWY.js",import.meta.url).href,{name:e?.name})}function wi(){if(window.Worker){const e=new $i;e.onmessage=t=>{console.log(t.data)},e.postMessage("start cleanup worker")}}const Si=j({__name:"App",setup(e){const t=we(),s=I(()=>!!t.name),n=I(()=>t.name===R.Setup),a=Ie(),o=ce(),{isMobile:i}=Le(a);wi(),je(async()=>{vi(),await ht(),o.getCount()});const r=x(!1),f=p=>{r.value=p},u=I(()=>i.value?oi:uo);return(p,c)=>{const v=Hs("router-view");return d(),b("div",{class:J({"theme-fun-cat":m(a).settings?.theme==="fun-cat"})},[m(a).globalLoading?(d(),b(U,{key:0},[M("Loading...")],64)):s.value?(d(),b(U,{key:1},[n.value?(d(),N(v,{key:0})):(d(),b("div",{key:1,class:J({"page-container":!m(i)})},[(d(),N(Sa(u.value),{onCollasped:c[0]||(c[0]=_=>f(_))},null,32)),Aa([r.value,m(i)],()=>h(gi,{"collasped-menu":r.value,"is-mobile":m(i)},{default:E(()=>[h(v)]),_:1},8,["collasped-menu","is-mobile"]),c,1),m(i)?(d(),N(Ti,{key:0})):C("",!0)],2))],64)):(d(),N(v,{key:2})),h(Ia)],2)}}}),Ai=new Set(["title","titleTemplate","script","style","noscript"]),Vt=new Set(["base","meta","link","style","script","noscript"]),Ei=new Set(["title","titleTemplate","templateParams","base","htmlAttrs","bodyAttrs","meta","link","style","script","noscript"]),Li=new Set(["base","title","titleTemplate","bodyAttrs","htmlAttrs","templateParams"]),Xn=new Set(["tagPosition","tagPriority","tagDuplicateStrategy","children","innerHTML","textContent","processTemplateParams"]),Ci=typeof window<"u";function qt(e){let t=9;for(let s=0;s<e.length;)t=Math.imul(t^e.charCodeAt(s++),9**9);return((t^t>>>9)+65536).toString(16).substring(1,8).toLowerCase()}function Ps(e){if(e._h)return e._h;if(e._d)return qt(e._d);let t=`${e.tag}:${e.textContent||e.innerHTML||""}:`;for(const s in e.props)t+=`${s}:${String(e.props[s])},`;return qt(t)}function Oi(e,t){return e instanceof Promise?e.then(t):t(e)}function Ds(e,t,s,n){const a=n||Jn(typeof t=="object"&&typeof t!="function"&&!(t instanceof Promise)?{...t}:{[e==="script"||e==="noscript"||e==="style"?"innerHTML":"textContent"]:t},e==="templateParams"||e==="titleTemplate");if(a instanceof Promise)return a.then(i=>Ds(e,t,s,i));const o={tag:e,props:a};for(const i of Xn){const r=o.props[i]!==void 0?o.props[i]:s[i];r!==void 0&&((!(i==="innerHTML"||i==="textContent"||i==="children")||Ai.has(o.tag))&&(o[i==="children"?"innerHTML":i]=r),delete o.props[i])}return o.props.body&&(o.tagPosition="bodyClose",delete o.props.body),o.tag==="script"&&typeof o.innerHTML=="object"&&(o.innerHTML=JSON.stringify(o.innerHTML),o.props.type=o.props.type||"application/json"),Array.isArray(o.props.content)?o.props.content.map(i=>({...o,props:{...o.props,content:i}})):o}function Ri(e,t){const s=e==="class"?" ":";";return t&&typeof t=="object"&&!Array.isArray(t)&&(t=Object.entries(t).filter(([,n])=>n).map(([n,a])=>e==="style"?`${n}:${a}`:n)),String(Array.isArray(t)?t.join(s):t)?.split(s).filter(n=>!!n.trim()).join(s)}function Zn(e,t,s,n){for(let a=n;a<s.length;a+=1){const o=s[a];if(o==="class"||o==="style"){e[o]=Ri(o,e[o]);continue}if(e[o]instanceof Promise)return e[o].then(i=>(e[o]=i,Zn(e,t,s,a)));if(!t&&!Xn.has(o)){const i=String(e[o]),r=o.startsWith("data-");i==="true"||i===""?e[o]=r?"true":!0:e[o]||(r&&i==="false"?e[o]="false":delete e[o])}}}function Jn(e,t=!1){const s=Zn(e,t,Object.keys(e),0);return s instanceof Promise?s.then(()=>e):e}const Pi=10;function Qn(e,t,s){for(let n=s;n<t.length;n+=1){const a=t[n];if(a instanceof Promise)return a.then(o=>(t[n]=o,Qn(e,t,n)));Array.isArray(a)?e.push(...a):e.push(a)}}function Di(e){const t=[],s=e.resolvedInput;for(const a in s){if(!Object.prototype.hasOwnProperty.call(s,a))continue;const o=s[a];if(!(o===void 0||!Ei.has(a))){if(Array.isArray(o)){for(const i of o)t.push(Ds(a,i,e));continue}t.push(Ds(a,o,e))}}if(t.length===0)return[];const n=[];return Oi(Qn(n,t,0),()=>n.map((a,o)=>(a._e=e._i,e.mode&&(a._m=e.mode),a._p=(e._i<<Pi)+o,a)))}const bn=new Set(["onload","onerror","onabort","onprogress","onloadstart"]),kn={base:-10,title:10},_n={critical:-80,high:-10,low:20};function Yt(e){const t=e.tagPriority;if(typeof t=="number")return t;let s=100;return e.tag==="meta"?e.props["http-equiv"]==="content-security-policy"?s=-30:e.props.charset?s=-20:e.props.name==="viewport"&&(s=-15):e.tag==="link"&&e.props.rel==="preconnect"?s=20:e.tag in kn&&(s=kn[e.tag]),t&&t in _n?s+_n[t]:s}const xi=[{prefix:"before:",offset:-1},{prefix:"after:",offset:1}],Mi=["name","property","http-equiv"];function ea(e){const{props:t,tag:s}=e;if(Li.has(s))return s;if(s==="link"&&t.rel==="canonical")return"canonical";if(t.charset)return"charset";if(t.id)return`${s}:id:${t.id}`;for(const n of Mi)if(t[n]!==void 0)return`${s}:${n}:${t[n]}`;return!1}const Pe="%separator";function Ii(e,t,s=!1){let n;if(t==="s"||t==="pageTitle")n=e.pageTitle;else if(t.includes(".")){const a=t.indexOf(".");n=e[t.substring(0,a)]?.[t.substring(a+1)]}else n=e[t];if(n!==void 0)return s?(n||"").replace(/"/g,'\\"'):n||""}const Ni=new RegExp(`${Pe}(?:\\s*${Pe})*`,"g");function Mt(e,t,s,n=!1){if(typeof e!="string"||!e.includes("%"))return e;let a=e;try{a=decodeURI(e)}catch{}const o=a.match(/%\w+(?:\.\w+)?/g);if(!o)return e;const i=e.includes(Pe);return e=e.replace(/%\w+(?:\.\w+)?/g,r=>{if(r===Pe||!o.includes(r))return r;const f=Ii(t,r.slice(1),n);return f!==void 0?f:r}).trim(),i&&(e.endsWith(Pe)&&(e=e.slice(0,-Pe.length)),e.startsWith(Pe)&&(e=e.slice(Pe.length)),e=e.replace(Ni,s).trim()),e}function Tn(e,t){return e==null?t||null:typeof e=="function"?e(t):e}async function Hi(e,t={}){const s=t.document||e.resolvedOptions.document;if(!s||!e.dirty)return;const n={shouldRender:!0,tags:[]};if(await e.hooks.callHook("dom:beforeRender",n),!!n.shouldRender)return e._domUpdatePromise||(e._domUpdatePromise=new Promise(async a=>{const o=(await e.resolveTags()).map(c=>({tag:c,id:Vt.has(c.tag)?Ps(c):c.tag,shouldRender:!0}));let i=e._dom;if(!i){i={elMap:{htmlAttrs:s.documentElement,bodyAttrs:s.body}};const c=new Set;for(const v of["body","head"]){const _=s[v]?.children;for(const g of _){const T=g.tagName.toLowerCase();if(!Vt.has(T))continue;const w={tag:T,props:await Jn(g.getAttributeNames().reduce((k,P)=>({...k,[P]:g.getAttribute(P)}),{})),innerHTML:g.innerHTML},S=ea(w);let O=S,A=1;for(;O&&c.has(O);)O=`${S}:${A++}`;O&&(w._d=O,c.add(O)),i.elMap[g.getAttribute("data-hid")||Ps(w)]=g}}}i.pendingSideEffects={...i.sideEffects},i.sideEffects={};function r(c,v,_){const g=`${c}:${v}`;i.sideEffects[g]=_,delete i.pendingSideEffects[g]}function f({id:c,$el:v,tag:_}){const g=_.tag.endsWith("Attrs");if(i.elMap[c]=v,g||(_.textContent&&_.textContent!==v.textContent&&(v.textContent=_.textContent),_.innerHTML&&_.innerHTML!==v.innerHTML&&(v.innerHTML=_.innerHTML),r(c,"el",()=>{i.elMap[c]?.remove(),delete i.elMap[c]})),_._eventHandlers)for(const T in _._eventHandlers)Object.prototype.hasOwnProperty.call(_._eventHandlers,T)&&v.getAttribute(`data-${T}`)!==""&&((_.tag==="bodyAttrs"?s.defaultView:v).addEventListener(T.substring(2),_._eventHandlers[T].bind(v)),v.setAttribute(`data-${T}`,""));for(const T in _.props){if(!Object.prototype.hasOwnProperty.call(_.props,T))continue;const w=_.props[T],S=`attr:${T}`;if(T==="class"){if(!w)continue;for(const O of w.split(" "))g&&r(c,`${S}:${O}`,()=>v.classList.remove(O)),!v.classList.contains(O)&&v.classList.add(O)}else if(T==="style"){if(!w)continue;for(const O of w.split(";")){const A=O.indexOf(":"),k=O.substring(0,A).trim(),P=O.substring(A+1).trim();r(c,`${S}:${k}`,()=>{v.style.removeProperty(k)}),v.style.setProperty(k,P)}}else v.getAttribute(T)!==w&&v.setAttribute(T,w===!0?"":String(w)),g&&r(c,S,()=>v.removeAttribute(T))}}const u=[],p={bodyClose:void 0,bodyOpen:void 0,head:void 0};for(const c of o){const{tag:v,shouldRender:_,id:g}=c;if(_){if(v.tag==="title"){s.title=v.textContent;continue}c.$el=c.$el||i.elMap[g],c.$el?f(c):Vt.has(v.tag)&&u.push(c)}}for(const c of u){const v=c.tag.tagPosition||"head";c.$el=s.createElement(c.tag.tag),f(c),p[v]=p[v]||s.createDocumentFragment(),p[v].appendChild(c.$el)}for(const c of o)await e.hooks.callHook("dom:renderTag",c,s,r);p.head&&s.head.appendChild(p.head),p.bodyOpen&&s.body.insertBefore(p.bodyOpen,s.body.firstChild),p.bodyClose&&s.body.appendChild(p.bodyClose);for(const c in i.pendingSideEffects)i.pendingSideEffects[c]();e._dom=i,await e.hooks.callHook("dom:rendered",{renders:o}),a()}).finally(()=>{e._domUpdatePromise=void 0,e.dirty=!1})),e._domUpdatePromise}function Ui(e,t={}){const s=t.delayFn||(n=>setTimeout(n,10));return e._domDebouncedUpdatePromise=e._domDebouncedUpdatePromise||new Promise(n=>s(()=>Hi(e,t).then(()=>{delete e._domDebouncedUpdatePromise,n()})))}function Vi(e){return t=>{const s=t.resolvedOptions.document?.head.querySelector('script[id="unhead:payload"]')?.innerHTML||!1;return s&&t.push(JSON.parse(s)),{mode:"client",hooks:{"entries:updated":n=>{Ui(n,e)}}}}}function xs(e,t={},s){for(const n in e){const a=e[n],o=s?`${s}:${n}`:n;typeof a=="object"&&a!==null?xs(a,t,o):typeof a=="function"&&(t[o]=a)}return t}const Fi={run:e=>e()},ji=()=>Fi,ta=typeof console.createTask<"u"?console.createTask:ji;function Bi(e,t){const s=t.shift(),n=ta(s);return e.reduce((a,o)=>a.then(()=>n.run(()=>o(...t))),Promise.resolve())}function zi(e,t){const s=t.shift(),n=ta(s);return Promise.all(e.map(a=>n.run(()=>a(...t))))}function Ts(e,t){for(const s of[...e])s(t)}class Wi{constructor(){this._hooks={},this._before=void 0,this._after=void 0,this._deprecatedMessages=void 0,this._deprecatedHooks={},this.hook=this.hook.bind(this),this.callHook=this.callHook.bind(this),this.callHookWith=this.callHookWith.bind(this)}hook(t,s,n={}){if(!t||typeof s!="function")return()=>{};const a=t;let o;for(;this._deprecatedHooks[t];)o=this._deprecatedHooks[t],t=o.to;if(o&&!n.allowDeprecated){let i=o.message;i||(i=`${a} hook has been deprecated`+(o.to?`, please use ${o.to}`:"")),this._deprecatedMessages||(this._deprecatedMessages=new Set),this._deprecatedMessages.has(i)||(console.warn(i),this._deprecatedMessages.add(i))}if(!s.name)try{Object.defineProperty(s,"name",{get:()=>"_"+t.replace(/\W+/g,"_")+"_hook_cb",configurable:!0})}catch{}return this._hooks[t]=this._hooks[t]||[],this._hooks[t].push(s),()=>{s&&(this.removeHook(t,s),s=void 0)}}hookOnce(t,s){let n,a=(...o)=>(typeof n=="function"&&n(),n=void 0,a=void 0,s(...o));return n=this.hook(t,a),n}removeHook(t,s){if(this._hooks[t]){const n=this._hooks[t].indexOf(s);n!==-1&&this._hooks[t].splice(n,1),this._hooks[t].length===0&&delete this._hooks[t]}}deprecateHook(t,s){this._deprecatedHooks[t]=typeof s=="string"?{to:s}:s;const n=this._hooks[t]||[];delete this._hooks[t];for(const a of n)this.hook(t,a)}deprecateHooks(t){Object.assign(this._deprecatedHooks,t);for(const s in t)this.deprecateHook(s,t[s])}addHooks(t){const s=xs(t),n=Object.keys(s).map(a=>this.hook(a,s[a]));return()=>{for(const a of n.splice(0,n.length))a()}}removeHooks(t){const s=xs(t);for(const n in s)this.removeHook(n,s[n])}removeAllHooks(){for(const t in this._hooks)delete this._hooks[t]}callHook(t,...s){return s.unshift(t),this.callHookWith(Bi,t,...s)}callHookParallel(t,...s){return s.unshift(t),this.callHookWith(zi,t,...s)}callHookWith(t,s,...n){const a=this._before||this._after?{name:s,args:n,context:{}}:void 0;this._before&&Ts(this._before,a);const o=t(s in this._hooks?[...this._hooks[s]]:[],n);return o instanceof Promise?o.finally(()=>{this._after&&a&&Ts(this._after,a)}):(this._after&&a&&Ts(this._after,a),o)}beforeEach(t){return this._before=this._before||[],this._before.push(t),()=>{if(this._before!==void 0){const s=this._before.indexOf(t);s!==-1&&this._before.splice(s,1)}}}afterEach(t){return this._after=this._after||[],this._after.push(t),()=>{if(this._after!==void 0){const s=this._after.indexOf(t);s!==-1&&this._after.splice(s,1)}}}}function Gi(){return new Wi}const qi=new Set(["templateParams","htmlAttrs","bodyAttrs"]),Yi={hooks:{"tag:normalise":({tag:e})=>{e.props.hid&&(e.key=e.props.hid,delete e.props.hid),e.props.vmid&&(e.key=e.props.vmid,delete e.props.vmid),e.props.key&&(e.key=e.props.key,delete e.props.key);const t=ea(e);t&&!t.startsWith("meta:og:")&&!t.startsWith("meta:twitter:")&&delete e.key;const s=t||(e.key?`${e.tag}:${e.key}`:!1);s&&(e._d=s)},"tags:resolve":e=>{const t=Object.create(null);for(const n of e.tags){const a=(n.key?`${n.tag}:${n.key}`:n._d)||Ps(n),o=t[a];if(o){let r=n?.tagDuplicateStrategy;if(!r&&qi.has(n.tag)&&(r="merge"),r==="merge"){const f=o.props;f.style&&n.props.style&&(f.style[f.style.length-1]!==";"&&(f.style+=";"),n.props.style=`${f.style} ${n.props.style}`),f.class&&n.props.class?n.props.class=`${f.class} ${n.props.class}`:f.class&&(n.props.class=f.class),t[a].props={...f,...n.props};continue}else if(n._e===o._e){o._duped=o._duped||[],n._d=`${o._d}:${o._duped.length+1}`,o._duped.push(n);continue}else if(Yt(n)>Yt(o))continue}if(!(n.innerHTML||n.textContent||Object.keys(n.props).length!==0)&&Vt.has(n.tag)){delete t[a];continue}t[a]=n}const s=[];for(const n in t){const a=t[n],o=a._duped;s.push(a),o&&(delete a._duped,s.push(...o))}e.tags=s,e.tags=e.tags.filter(n=>!(n.tag==="meta"&&(n.props.name||n.props.property)&&!n.props.content))}}},Ki=new Set(["script","link","bodyAttrs"]),Xi=e=>({hooks:{"tags:resolve":t=>{for(const s of t.tags){if(!Ki.has(s.tag))continue;const n=s.props;for(const a in n){if(a[0]!=="o"||a[1]!=="n"||!Object.prototype.hasOwnProperty.call(n,a))continue;const o=n[a];typeof o=="function"&&(e.ssr&&bn.has(a)?n[a]=`this.dataset.${a}fired = true`:delete n[a],s._eventHandlers=s._eventHandlers||{},s._eventHandlers[a]=o)}e.ssr&&s._eventHandlers&&(s.props.src||s.props.href)&&(s.key=s.key||qt(s.props.src||s.props.href))}},"dom:renderTag":({$el:t,tag:s})=>{const n=t?.dataset;if(n)for(const a in n){if(!a.endsWith("fired"))continue;const o=a.slice(0,-5);bn.has(o)&&s._eventHandlers?.[o]?.call(t,new Event(o.substring(2)))}}}}),Zi=new Set(["link","style","script","noscript"]),Ji={hooks:{"tag:normalise":({tag:e})=>{e.key&&Zi.has(e.tag)&&(e.props["data-hid"]=e._h=qt(e.key))}}},Qi={mode:"server",hooks:{"tags:beforeResolve":e=>{const t={};let s=!1;for(const n of e.tags)n._m!=="server"||n.tag!=="titleTemplate"&&n.tag!=="templateParams"&&n.tag!=="title"||(t[n.tag]=n.tag==="title"||n.tag==="titleTemplate"?n.textContent:n.props,s=!0);s&&e.tags.push({tag:"script",innerHTML:JSON.stringify(t),props:{id:"unhead:payload",type:"application/json"}})}}},er={hooks:{"tags:resolve":e=>{for(const t of e.tags)if(typeof t.tagPriority=="string")for(const{prefix:s,offset:n}of xi){if(!t.tagPriority.startsWith(s))continue;const a=t.tagPriority.substring(s.length),o=e.tags.find(i=>i._d===a)?._p;if(o!==void 0){t._p=o+n;break}}e.tags.sort((t,s)=>{const n=Yt(t),a=Yt(s);return n<a?-1:n>a?1:t._p-s._p})}}},tr={meta:"content",link:"href",htmlAttrs:"lang"},sr=["innerHTML","textContent"],nr=e=>({hooks:{"tags:resolve":t=>{const{tags:s}=t;let n;for(let i=0;i<s.length;i+=1)s[i].tag==="templateParams"&&(n=t.tags.splice(i,1)[0].props,i-=1);const a=n||{},o=a.separator||"|";delete a.separator,a.pageTitle=Mt(a.pageTitle||s.find(i=>i.tag==="title")?.textContent||"",a,o);for(const i of s){if(i.processTemplateParams===!1)continue;const r=tr[i.tag];if(r&&typeof i.props[r]=="string")i.props[r]=Mt(i.props[r],a,o);else if(i.processTemplateParams||i.tag==="titleTemplate"||i.tag==="title")for(const f of sr)typeof i[f]=="string"&&(i[f]=Mt(i[f],a,o,i.tag==="script"&&i.props.type.endsWith("json")))}e._templateParams=a,e._separator=o},"tags:afterResolve":({tags:t})=>{let s;for(let n=0;n<t.length;n+=1){const a=t[n];a.tag==="title"&&a.processTemplateParams!==!1&&(s=a)}s?.textContent&&(s.textContent=Mt(s.textContent,e._templateParams,e._separator))}}}),ar={hooks:{"tags:resolve":e=>{const{tags:t}=e;let s,n;for(let a=0;a<t.length;a+=1){const o=t[a];o.tag==="title"?s=o:o.tag==="titleTemplate"&&(n=o)}if(n&&s){const a=Tn(n.textContent,s.textContent);a!==null?s.textContent=a||s.textContent:e.tags.splice(e.tags.indexOf(s),1)}else if(n){const a=Tn(n.textContent);a!==null&&(n.textContent=a,n.tag="title",n=void 0)}n&&e.tags.splice(e.tags.indexOf(n),1)}}},or={hooks:{"tags:afterResolve":e=>{for(const t of e.tags)typeof t.innerHTML=="string"&&(t.innerHTML&&(t.props.type==="application/ld+json"||t.props.type==="application/json")?t.innerHTML=t.innerHTML.replace(/</g,"\\u003C"):t.innerHTML=t.innerHTML.replace(new RegExp(`</${t.tag}`,"g"),`<\\/${t.tag}`))}}};let sa;function ir(e={}){const t=rr(e);return t.use(Vi()),sa=t}function $n(e,t){return!e||e==="server"&&t||e==="client"&&!t}function rr(e={}){const t=Gi();t.addHooks(e.hooks||{}),e.document=e.document||(Ci?document:void 0);const s=!e.document,n=()=>{r.dirty=!0,t.callHook("entries:updated",r)};let a=0,o=[];const i=[],r={plugins:i,dirty:!1,resolvedOptions:e,hooks:t,headEntries(){return o},use(f){const u=typeof f=="function"?f(r):f;(!u.key||!i.some(p=>p.key===u.key))&&(i.push(u),$n(u.mode,s)&&t.addHooks(u.hooks||{}))},push(f,u){delete u?.head;const p={_i:a++,input:f,...u};return $n(p.mode,s)&&(o.push(p),n()),{dispose(){o=o.filter(c=>c._i!==p._i),n()},patch(c){for(const v of o)v._i===p._i&&(v.input=p.input=c);n()}}},async resolveTags(){const f={tags:[],entries:[...o]};await t.callHook("entries:resolve",f);for(const u of f.entries){const p=u.resolvedInput||u.input;if(u.resolvedInput=await(u.transform?u.transform(p):p),u.resolvedInput)for(const c of await Di(u)){const v={tag:c,entry:u,resolvedOptions:r.resolvedOptions};await t.callHook("tag:normalise",v),f.tags.push(v.tag)}}return await t.callHook("tags:beforeResolve",f),await t.callHook("tags:resolve",f),await t.callHook("tags:afterResolve",f),f.tags},ssr:s};return[Yi,Qi,Xi,Ji,er,nr,ar,or,...e?.plugins||[]].forEach(f=>r.use(f)),r.hooks.callHook("init",r),r}function lr(){return sa}const ur=Ea[0]==="3";function cr(e){return typeof e=="function"?e():m(e)}function Kt(e){if(e instanceof Promise||e instanceof Date||e instanceof RegExp)return e;const t=cr(e);if(!e||!t)return t;if(Array.isArray(t))return t.map(s=>Kt(s));if(typeof t=="object"){const s={};for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(n==="titleTemplate"||n[0]==="o"&&n[1]==="n"){s[n]=m(t[n]);continue}s[n]=Kt(t[n])}return s}return t}const dr={hooks:{"entries:resolve":e=>{for(const t of e.entries)t.resolvedInput=Kt(t.input)}}},na="usehead";function fr(e){return{install(s){ur&&(s.config.globalProperties.$unhead=e,s.config.globalProperties.$head=e,s.provide(na,e))}}.install}function mr(e={}){e.domDelayFn=e.domDelayFn||(s=>ht(()=>setTimeout(()=>s(),0)));const t=ir(e);return t.use(dr),t.install=fr(t),t}const wn=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Sn="__unhead_injection_handler__";function pr(){if(Sn in wn)return wn[Sn]();const e=vt(na);return e||lr()}function He(e,t={}){const s=t.head||pr();if(s)return s.ssr?s.push(e,t):gr(s,e,t)}function gr(e,t,s={}){const n=x(!1),a=x({});La(()=>{a.value=n.value?{}:Kt(t)});const o=e.push(a.value,s);return ie(a,r=>{o.patch(r)}),In()&&(Nn(()=>{o.dispose()}),Ca(()=>{n.value=!0}),Oa(()=>{n.value=!1})),o}function vr(e){const t=e;return t.headTags=e.resolveTags,t.addEntry=e.push,t.addHeadObjs=e.push,t.addReactiveEntry=(s,n)=>{const a=He(s,n);return a!==void 0?a.dispose:()=>{}},t.removeHeadObjs=()=>{},t.updateDOM=()=>{e.hooks.callHook("entries:updated",e)},t.unhead=e,t}function yr(e,t){const s=mr({});return vr(s)}const hr={class:"page-title__main"},br={class:"page-title__main-content"},kr={class:"page-title__actions"},_r={key:0,class:"page-title__date","data-testid":"page-date"},Tr={key:1,class:"page-title__subtitle","data-testid":"page-subtitle"},Be=j({__name:"PageTitle",props:{id:{type:Number,default:0},date:{type:String,default:""},title:{type:String,required:!0},subtitle:{type:String,default:""}},setup(e){return(t,s)=>(d(),b("header",{class:J(["page-title",{"page-title--has-date":!!e.date}])},[y("div",hr,[y("div",br,[y("h1",null,[M(V(e.title)+" ",1),y("span",kr,[Fe(t.$slots,"actions")])]),e.date?(d(),b("p",_r,V(e.date),1)):C("",!0),e.subtitle||t.$slots.subtitle?(d(),b("p",Tr,[Fe(t.$slots,"subtitle"),t.$slots.subtitle?C("",!0):(d(),b(U,{key:0},[M(V(e.subtitle),1)],64))])):C("",!0)])]),Fe(t.$slots,"additional")],2))}}),$r=""+new URL("../empty-list-missing-cat.png",import.meta.url).href,wr=""+new URL("../empty-list.svg",import.meta.url).href,Sr={class:"empty-list"},Ar={key:0},Er={key:1},Lr=j({__name:"EmptyList",props:{isTaskList:{type:Boolean,default:!0}},setup(e){return(t,s)=>(d(),b("div",Sr,[s[0]||(s[0]=y("img",{class:"empty-list--fun-cat",src:$r,alt:"empty list"},null,-1)),s[1]||(s[1]=y("img",{class:"empty-list--default-image",src:wr,alt:"empty list"},null,-1)),y("p",null,[e.isTaskList?(d(),b("span",Ar,"You have no tasks in this list.")):(d(),b("span",Er,"You have no lists at the moment."))])]))}}),Tt=Me(Lr,[["__scopeId","data-v-e140825f"]]),Cr={class:"progress-bar"},Or={class:"progress-bar__progress"},Rr={class:"progress-bar__info"},Pr=j({__name:"ProgressBar",props:{completed:{type:Number,default:0},length:{type:Number,default:0}},setup(e){const t=e,s=I(()=>t.completed>t.length||t.completed===0?"0%":t.completed/t.length*100+"%");return(n,a)=>(d(),b("div",Cr,[y("div",Or,[y("div",{class:"progress-bar--progress-complete",style:Ra({width:s.value})},null,4)]),y("span",Rr,[e.completed===e.length?(d(),N(oe,{key:0,name:"doneAll"})):C("",!0),y("span",null,V(e.completed)+" / "+V(e.length)+" Tasks done",1)])]))}}),Dr={},xr={class:"task-group"};function Mr(e,t){return d(),b("div",xr,[y("ul",null,[Fe(e.$slots,"default")])])}const as=Me(Dr,[["render",Mr]]),Ir=""+new URL("../cat_done.png",import.meta.url).href,Nr=""+new URL("../cat_open.png",import.meta.url).href,Hr=["aria-label"],Ur=j({__name:"ModifyButton",props:{label:{type:String,default:""},icon:{type:String,required:!0,validator:e=>["edit","trash","chevronRight","progress"].includes(e)}},setup(e){const t=e,s=I(()=>t.label?t.label:t.icon);return(n,a)=>(d(),b("button",{class:J(["modify-button",{"modify-button--delete":e.icon==="trash"}]),"aria-label":s.value},[h(oe,{"aria-hidden":"true",name:e.icon},null,8,["name"])],10,Hr))}}),Te=Me(Ur,[["__scopeId","data-v-b7eab975"]]),Vr={class:"task__content"},Fr={key:0,src:Ir,style:{width:"40px",height:"40px"},alt:""},jr={key:1,src:Nr,alt:"",style:{width:"40px",height:"40px"}},Br={class:"task__main"},zr={class:"task__title"},Wr={class:"task__details"},Gr={key:0,class:"task__time"},qr={key:0},Yr={class:"task__labels"},Kr={key:0},Xr={key:0},Zr={key:1},Jr={class:"task__goto"},os=j({__name:"TaskItem",props:{task:{type:Object,required:!0},editable:{type:Boolean,default:!0},editState:{type:Boolean,default:!1},showChips:{type:Boolean,default:!0},isToday:{type:Boolean,default:!1},returnUrl:{type:String,default:""}},emits:["status-toggle"],setup(e){const t=e,s=$e(),n=f=>bt[f],a=Ie(),o={[pt.Trivial]:"var(--color-grey-200)",[pt.Normal]:"var(--color-blue-200)",[pt.Medium]:"var(--color-orange-200)",[pt.High]:"var(--color-red-200)"},i=f=>{s.push({name:R.TaskOverview,params:{id:f},query:{returnUrl:t.returnUrl}})},r=f=>jn(f);return(f,u)=>(d(),b("li",{class:J(["task",{"task--done":e.task.status===m(me).Done}])},[y("div",Vr,[Fe(f.$slots,"toggle-checkbox",{},()=>[e.editState&&m(a).settings.theme==="fun-cat"?(d(),b("button",{key:0,"aria-label":"item state toggle",onClick:u[0]||(u[0]=p=>f.$emit("status-toggle"))},[e.task.status===m(me).Done?(d(),b("img",Fr)):(d(),b("img",jr))])):e.editState?(d(),b("div",{key:1,class:"task__state",role:"button","aria-label":"item state toggle",onClick:u[1]||(u[1]=p=>f.$emit("status-toggle")),onKeydown:u[2]||(u[2]=yt(p=>f.$emit("status-toggle"),["enter"]))},null,32)):C("",!0)]),y("div",Br,[y("p",zr,V(e.task.description),1),y("div",Wr,[e.task.startTime?(d(),b("span",Gr,[h(jt,null,{default:E(()=>[M(V(e.task.startTime),1)]),_:1}),e.task.endTime?(d(),b("span",qr,[u[4]||(u[4]=M("- ")),h(jt,null,{default:E(()=>[M(V(e.task.endTime),1)]),_:1})])):C("",!0)])):C("",!0)]),y("div",Yr,[h(Ze,{"background-color":o[e.task.priority],class:J([`task__priority--${n(e.task.priority).toLowerCase()}`]),label:n(e.task.priority)},null,8,["background-color","class","label"]),e.showChips?(d(),b(U,{key:0},[e.task.status===m(me).Progress?(d(),N(Ze,{key:0,label:"In progress","background-color":"var(--color-yellow-300)"})):C("",!0),e.task.carryOver?(d(),N(Ze,{key:1,label:"CarryOver","background-color":"var(--color-teal-300)"})):C("",!0),e.task.days?.length?(d(),N(Ze,{key:2,label:"Habit","background-color":"var(--color-rose-300)"})):C("",!0),e.editState&&e.task.endTime&&m(Ba)(e.task.endTime)?(d(),N(Ze,{key:3,label:"Overdue",class:"task__labels--overdue"})):C("",!0)],64)):C("",!0)]),!e.showChips&&e.task.days?(d(),b("div",Kr,[y("small",null,[u[5]||(u[5]=y("strong",null,"Days: ",-1)),(d(!0),b(U,null,ue(e.task.days,(p,c)=>(d(),b(U,{key:p},[y("span",null,V(m(Fn)[p]),1),c<e.task.days.length-1?(d(),b("span",Xr,", ")):C("",!0)],64))),128))]),u[6]||(u[6]=y("br",null,null,-1))])):C("",!0),e.editState?C("",!0):(d(),b("div",Zr,[y("small",null,[u[7]||(u[7]=y("strong",null,"Start date: ",-1)),M(V(r(e.task.startDate)),1)])]))]),y("div",Jr,[h(Te,{icon:"chevronRight",label:"go to item "+e.task.description,onClick:u[3]||(u[3]=()=>i(e.task.id))},null,8,["label"])])])],2))}}),$t=()=>{const e=ge(),t=ce(),s=$e(),n=we(),a=I(()=>n.query.sort==="priority"),o=I(()=>n.query.sort==="completion"),i=I(()=>n.query.sort==="action"),r=async(p,c)=>{try{await t.changeTaskStatus(p,c)}catch(v){throw e.error({title:"Error changing the status",text:"There was an error changing the status of the selected task."}),v}};return{byPriority:a,byCompletion:o,sortBy:p=>{const c=n.query;!p||c.sort===p?s.push({query:{...c,sort:void 0}}):s.push({query:{...c,sort:p}})},byAction:i,changeStatus:r,toggleProgress:p=>{p.status!==me.Progress?r(p,me.Progress):r(p,me.Open)}}},Qr={},el={class:"page-controls"},tl={class:"page-controls__content"};function sl(e,t){return d(),b("div",el,[y("div",tl,[Fe(e.$slots,"default")])])}const De=Me(Qr,[["render",sl]]),nl={class:"add-button"},al=j({__name:"AddButton",props:{label:{type:String,default:""}},setup(e){return(t,s)=>(d(),b("button",nl,[h(oe,{"aria-hidden":"true",name:"add"}),M(" Add"+V(e.label?` ${e.label}`:""),1)]))}}),wt=Me(al,[["__scopeId","data-v-3c7ca739"]]),ol=["aria-label"],il={"aria-hidden":"true"},rl=j({__name:"ActionButton",props:{label:{type:String,required:!0},unSelectedLabel:{type:String,default:""},selected:{type:Boolean,default:!1},a11yLabel:{type:String,default:""},icon:{type:String,default:""}},setup(e){return(t,s)=>(d(),b("button",{class:J(["action-button",{"action-button--selected":e.selected}]),"aria-label":e.a11yLabel||e.label},[e.icon?(d(),N(oe,{key:0,"aria-hidden":"true",name:e.icon},null,8,["name"])):C("",!0),y("span",il,V(e.label),1)],10,ol))}}),xe=Me(rl,[["__scopeId","data-v-1b92d8e6"]]),ll={class:"today-view"},ul={class:"today-view__content"},cl="Today",dl=j({__name:"TodayView",setup(e){He({title:ze[R.Today].title});const t=we(),s=ce(),{todaysTasks:n}=Le(s),{changeStatus:a,toggleProgress:o,sortBy:i,byPriority:r,byCompletion:f,byAction:u}=$t(),p=ge(),c=x(!1),v=x([]),_=I(()=>v.value.map(z=>n.value.data.find(B=>B.id===Number(z)))),g=new Date().toDateString(),T=x(0),w=I(()=>{const z=n.value.data.filter(B=>B.status===me.Done).length;return T.value+z});je(async()=>{await S(ts(t))});const S=async z=>{await s.getTodaysTasks(z,r.value,f.value)};ie([r,f],()=>{S(n.value.pagination.page)});const O=async z=>{try{await S(z)}catch{p.error({text:"Could not fetch next page. Please try again later."})}},A=()=>{c.value=!1,S(n.value.pagination.page),p.success({text:"You successfully added a new task."})},k=()=>{_.value.length!==0&&(_.value.forEach(z=>{z&&o(z)}),v.value.length=0)},P=async()=>{const z=[];if(_.value.length!==0){_.value.forEach(B=>{B&&z.push(s.deleteTask(B.id))});try{await Promise.all(z)}catch{p.success({text:"Successfully deleted selected tasks"})}S(1),v.value.length=0}};return(z,B)=>(d(),b(U,null,[y("div",ll,[h(Be,{title:cl,date:m(g)},Je({_:2},[m(n).pagination.total?{name:"additional",fn:E(()=>[h(Pr,{completed:w.value,length:m(n).pagination.total},null,8,["completed","length"])]),key:"0"}:void 0]),1032,["date"]),h(De,null,{default:E(()=>[h(wt,{label:"task",onClick:B[0]||(B[0]=Q=>c.value=!0)}),B[7]||(B[7]=y("span",{class:"sorting-divider"},"|",-1)),h(xe,{"a11y-label":"Sort by Priority",icon:"sort",label:"Priority",selected:m(r),onClick:B[1]||(B[1]=Q=>m(i)("priority"))},null,8,["selected"]),h(xe,{"a11y-label":"Order by completion",icon:"sort",label:"Incomplete first",selected:m(f),onClick:B[2]||(B[2]=()=>m(i)("completion"))},null,8,["selected"]),h(xe,{"a11y-label":"Actions: delete and mark as progress",icon:"sort",label:"Actions",selected:m(u),onClick:B[3]||(B[3]=()=>m(i)("action"))},null,8,["selected"])]),_:1}),Zt(h(De,null,{default:E(()=>[h(Te,{icon:"progress",label:"mark as progress",onClick:k}),h(Te,{icon:"trash",label:"trash items",onClick:P})]),_:1},512),[[Ns,m(u)]]),y("article",ul,[m(n).pagination.total?(d(),b(U,{key:0},[h(as,null,{default:E(()=>[(d(!0),b(U,null,ue(m(n).data,Q=>(d(),N(os,{key:Q.id,task:Q,"is-today":!0,"edit-state":!0,"return-url":"/today",onStatusToggle:()=>m(a)(Q),onStatusProgress:()=>m(o)(Q),onRefresh:B[5]||(B[5]=Ce=>S(m(n).pagination.page))},Je({_:2},[m(u)?{name:"toggle-checkbox",fn:E(()=>[h(Vn,{id:"task"+Q.id,modelValue:v.value,"onUpdate:modelValue":B[4]||(B[4]=Ce=>v.value=Ce),value:Q.id},null,8,["id","modelValue","value"])]),key:"0"}:void 0]),1032,["task","onStatusToggle","onStatusProgress"]))),128))]),_:1}),h(_t,{"current-page":m(n).pagination.page,"total-pages":m(n).pagination.totalPages,onSelected:O},null,8,["current-page","total-pages"])],64)):(d(),N(Tt,{key:1}))])]),c.value?(d(),N(tt,{key:0,"is-today":!0,onClose:B[6]||(B[6]=Q=>c.value=!1),onSubmitted:A})):C("",!0)],64))}}),fl="Habits",ml=`
Stay consistent without relying on your willpower and motivation. Manage all your habits and stay productive.
`,pl=j({__name:"HabitsView",setup(e){He({title:ze[R.Habits].title});const{byPriority:t,sortBy:s}=$t(),n=ce(),a=ge(),o=we(),i=x(!1),{habits:r}=Le(n),f=c=>n.getHabits(c,t.value);Jt(()=>{f(ts(o))});const u=async c=>{try{await f(c)}catch{a.error({text:"Could not fetch next page. Please try again later."})}};ie(t,()=>{f(r.value.pagination.page)});const p=()=>{i.value=!1,f(r.value.pagination.page)};return(c,v)=>(d(),b(U,null,[h(Be,{title:fl,subtitle:ml}),h(De,null,{default:E(()=>[h(wt,{label:"habit",onClick:v[0]||(v[0]=_=>i.value=!0)}),v[4]||(v[4]=y("span",{class:"sorting-divider"},"|",-1)),h(xe,{label:"Priority","a11y-label":"Sort by priority",icon:"sort",selected:m(t),onClick:v[1]||(v[1]=_=>m(s)("priority"))},null,8,["selected"])]),_:1}),m(r).pagination.total?(d(),b(U,{key:0},[h(as,null,{default:E(()=>[(d(!0),b(U,null,ue(m(r).data,_=>(d(),N(os,{key:_.id,task:_,"show-chips":!1,"return-url":"/habits",onRefresh:v[2]||(v[2]=g=>f(m(r).pagination.page))},null,8,["task"]))),128))]),_:1}),h(_t,{"total-pages":m(r).pagination.totalPages,onSelected:u},null,8,["total-pages"])],64)):(d(),N(Tt,{key:1})),i.value?(d(),N(tt,{key:2,"is-habit":!0,onClose:v[3]||(v[3]=_=>i.value=!1),onSubmitted:p})):C("",!0)],64))}}),gl={key:0,class:"upcoming-view"},An=j({__name:"UpcomingView",setup(e){He({title:ze[R.Upcoming].title});const t=ge(),s=we(),n=$e(),a=ce(),{byPriority:o,sortBy:i}=$t(),{allUpcomingTasks:r,tomorrowsTasks:f}=Le(a),u=x("mode1"),p=I(()=>u.value==="mode1"?f.value:r.value),c=x(!1),v=async w=>{u.value==="mode1"?await a.getTomorrowTasks(w,o.value):await a.getUpcoming(w,o.value)};je(async()=>{try{s.name===R.Tomorrow?u.value="mode1":u.value="mode2",await v(ts(s))}catch{t.error({text:"There was an error fetching the list. Please refresh and try again."})}}),ie(o,()=>{v(p.value.pagination.page)});const _=async w=>{try{await v(w)}catch{t.error({text:"Could not fetch next page. Please try again later."})}},g=async w=>{w==="mode1"?(n.push({name:R.Tomorrow}),u.value=w):(n.push({name:R.Upcoming}),u.value=w),await v(void 0)},T=()=>{c.value=!1,v(p.value.pagination.page),t.success({text:"You've successfully added a new task"})};return(w,S)=>{const O=Hs("router-link");return d(),b(U,null,[h(Be,{title:"All tasks"},{subtitle:E(()=>[S[6]||(S[6]=M(" Discover your all upcoming tasks. You can view your ")),h(O,{to:{name:m(R).Habits}},{default:E(()=>S[4]||(S[4]=[M("habits")])),_:1},8,["to"]),S[7]||(S[7]=M(" and ")),h(O,{to:{name:m(R).Today}},{default:E(()=>S[5]||(S[5]=[M("today's")])),_:1},8,["to"]),S[8]||(S[8]=M(" tasks. "))]),_:1}),h(Na,{mode1:"Tomorrow",mode2:"Upcoming",selected:u.value,onSelect:g},null,8,["selected"]),h(De,null,{default:E(()=>[h(wt,{label:"task",onClick:S[0]||(S[0]=A=>c.value=!0)}),S[9]||(S[9]=y("span",{class:"sorting-divider"},"|",-1)),h(xe,{label:"Priority","a11y-label":"sort by priority",icon:"sort",selected:m(o),onClick:S[1]||(S[1]=A=>m(i)("priority"))},null,8,["selected"])]),_:1}),p.value?(d(),b("article",gl,[p.value.pagination.total?(d(),b(U,{key:0},[h(as,null,{default:E(()=>[(d(!0),b(U,null,ue(p.value.data,A=>(d(),N(os,{key:A.id,task:A,"show-chips":!0,onRefresh:S[2]||(S[2]=k=>v(p.value.pagination.page))},null,8,["task"]))),128))]),_:1}),h(_t,{"total-pages":p.value.pagination.totalPages,onSelected:_},null,8,["total-pages"])],64)):(d(),N(Tt,{key:1})),c.value?(d(),N(tt,{key:2,"min-start-date":m(za)(),onClose:S[3]||(S[3]=A=>c.value=!1),onSubmitted:T},null,8,["min-start-date"])):C("",!0)])):C("",!0)],64)}}}),vl=j({__name:"ListView",setup(e){He({title:ze[R.Lists].title});const t=we(),s=ge(),n=ce(),{selectedPageList:a,selectedListTasks:o,recentList:i}=Le(n),r=x(!1),{changeStatus:f,toggleProgress:u,byPriority:p,byCompletion:c,sortBy:v,byAction:_}=$t(),g=x(!1),T=x(!1),w=x(!1),S=I(()=>a.value&&a.value.startDate<=et()),O=x([]),A=I(()=>O.value.map(W=>o.value.data.find(H=>H.id===Number(W)))),k=async W=>{r.value=!0;try{const H=Number(t.params.id);n.setPageListId(H);const K=await n.getList(H);if(await n.getTaskForList(H,W,p.value,c.value),!K)throw new Wa}catch{s.error({title:"Fatal error",text:"An error occurred trying to get the list"}),Xt.push({name:R.Lists})}r.value=!1};Jt(()=>{k(ts(t))}),ie(t,()=>{k(o.value.pagination.page)}),ie(p,()=>{k(o.value.pagination.page)});const P=async W=>{k(W)},z=async()=>{if(a.value)try{await n.deleteList(a.value.id),Xt.push({name:R.Lists})}catch{s.error({text:"Failed to delete list"})}},B=()=>{w.value=!1,k(o.value.pagination.page),s.success({text:"You have successfully added a new task."})},Q=()=>{T.value=!1,i.value.find(H=>H.id===a.value?.id)&&n.getRecentList()},Ce=()=>{A.value.length!==0&&(A.value.forEach(W=>{W&&u(W)}),O.value.length=0)},st=async()=>{const W=[];if(A.value.length!==0){A.value.forEach(H=>{H&&W.push(n.deleteTask(H.id))});try{await Promise.all(W)}catch{s.success({text:"Successfully deleted selected tasks."})}k(1),O.value.length=0}};return(W,H)=>(d(),b(U,null,[r.value?(d(),b(U,{key:0},[M("Loading...")],64)):m(a)?(d(),b(U,{key:1},[h(Be,{title:m(a).description,date:"Ends: "+new Date(m(a).endDate).toDateString()},{actions:E(()=>[h(De,null,{default:E(()=>[h(Te,{icon:"edit",onClick:H[0]||(H[0]=K=>T.value=!0)}),h(Te,{icon:"trash",onClick:H[1]||(H[1]=K=>g.value=!0)})]),_:1})]),_:1},8,["title","date"]),h(De,null,{default:E(()=>[h(wt,{label:"to list",onClick:H[2]||(H[2]=K=>w.value=!0)}),H[11]||(H[11]=y("span",{class:"sorting-divider"},"|",-1)),h(xe,{label:"Priority","a11y-label":"Sort by Priority",icon:"sort",selected:m(p),onClick:H[3]||(H[3]=K=>m(v)("priority"))},null,8,["selected"]),h(xe,{"a11y-label":"Order by completion",icon:"sort",label:"Incomplete first",selected:m(c),onClick:H[4]||(H[4]=K=>m(v)("completion"))},null,8,["selected"]),h(xe,{"a11y-label":"Actions: delete and mark as progress",icon:"sort",label:"Actions",selected:m(_),onClick:H[5]||(H[5]=()=>m(v)("action"))},null,8,["selected"])]),_:1}),Zt(h(De,null,{default:E(()=>[h(Te,{icon:"progress",label:"mark as progress",onClick:Ce}),h(Te,{icon:"trash",label:"trash items",onClick:st})]),_:1},512),[[Ns,m(_)]]),m(o).data.length?(d(),b(U,{key:0},[h(as,null,{default:E(()=>[(d(!0),b(U,null,ue(m(o).data,K=>(d(),N(os,{key:K.id,task:K,"edit-state":S.value,"return-url":"/list/"+m(a).id,onStatusToggle:()=>m(f)(K),onStatusProgress:()=>m(u)(K),onRefresh:H[7]||(H[7]=Oe=>k(m(o).pagination.page))},Je({_:2},[m(_)?{name:"toggle-checkbox",fn:E(()=>[h(Vn,{id:"task"+K.id,modelValue:O.value,"onUpdate:modelValue":H[6]||(H[6]=Oe=>O.value=Oe),value:K.id},null,8,["id","modelValue","value"])]),key:"0"}:void 0]),1032,["task","edit-state","return-url","onStatusToggle","onStatusProgress"]))),128))]),_:1}),h(_t,{"total-pages":m(o).pagination.totalPages,onSelected:P},null,8,["total-pages"])],64)):(d(),N(Tt,{key:1}))],64)):C("",!0),w.value&&m(a)?(d(),N(tt,{key:2,"list-id":m(a).id,onClose:H[8]||(H[8]=K=>w.value=!1),onSubmitted:B},null,8,["list-id"])):C("",!0),T.value?(d(),N(Vs,{key:3,item:m(a),onDone:Q,onClose:H[9]||(H[9]=K=>T.value=!1)},null,8,["item"])):C("",!0),g.value?(d(),N(es,{key:4,"proceed-btn":{isEvent:!0,link:"",disable:!1,alternativeName:"Delete",isRed:!0},onClose:H[10]||(H[10]=K=>g.value=!1),onProceed:z},{content:E(()=>H[12]||(H[12]=[M("Are you sure you want to delete this list? Doing so will delete all the tasks that are associated with this list.")])),_:1})):C("",!0)],64))}}),yl={class:"list-item__date"},hl={class:"list-item__date"},bl=j({__name:"AllListsView",setup(e){He({title:ze[R.Lists].title});const t=ce(),s=$e(),{lists:n}=Le(t),a=x(!1);je(async()=>{t.getAllList()});const o=f=>{s.push({name:R.List,params:{id:f}})},i=async()=>{a.value=!1,t.getAllList(n.value.pagination.page),t.getRecentList()},r=f=>jn(f);return(f,u)=>(d(),b(U,null,[h(Be,{title:"Lists"}),h(wt,{label:"list",onClick:u[0]||(u[0]=p=>a.value=!0)}),m(n).pagination.total?(d(),b(U,{key:0},[h(Ha,null,{default:E(()=>[(d(!0),b(U,null,ue(m(n).data,(p,c)=>(d(),N(Ua,{key:p.id,alternate:c%2===0},{main:E(()=>[M(V(p.description),1),u[2]||(u[2]=y("br",null,null,-1)),y("span",yl," Duration: "+V(r(p.startDate))+" to "+V(r(p.endDate)),1),u[3]||(u[3]=y("br",null,null,-1)),y("span",hl," Created date: "+V(r(p.createdDate)),1)]),controls:E(()=>[h(Te,{icon:"chevronRight",label:"go to list "+p.description,onClick:()=>o(p.id),onKeydown:yt(()=>o(p.id),["enter"])},null,8,["label","onClick","onKeydown"])]),_:2},1032,["alternate"]))),128))]),_:1}),h(_t,{"current-page":m(n).pagination.page,"total-pages":m(n).pagination.totalPages},null,8,["current-page","total-pages"])],64)):(d(),N(Tt,{key:1,"is-task-list":!1})),a.value?(d(),N(Vs,{key:2,onDone:i,onClose:u[1]||(u[1]=p=>a.value=!1)})):C("",!0)],64))}}),kl=Me(bl,[["__scopeId","data-v-79d63adf"]]),_l={class:"settings__personal"},Tl={class:"settings__theme"},$l="Settings",wl=j({__name:"SettingsView",setup(e){He({title:ze[R.Settings].title});const t=Ie(),s=ge(),n=x(!1),a=x(!1),o=x({name:t.settings.name,image:t.settings.image,theme:t.settings.theme||"default"}),i=x({archiveFor:t.settings.archiveFor||30,archive:t.settings.archive||!1}),r=async()=>{try{a.value=!0,await t.deleteApp(),window.location.reload()}catch(p){if(p.message.includes("blocked")){window.location.reload();return}s.error({title:"Fatal error",text:`Failed to delete account: ${p?.message}. Please try again.`})}finally{a.value=!1}};je(()=>{o.value.image=t.settings.image,o.value.name=t.settings.name,i.value.archiveFor=t.settings.archiveFor,i.value.archive=t.settings.archive});const f=async p=>{a.value=!0;try{p==="personal"&&await t.updateSettings({...o.value}),s.success({text:"Successful update"})}catch{s.error({title:"Fatal error",text:"Could not save data."})}a.value=!1},u=[{value:"default",label:"Default"},{value:"fun-cat",label:"Fun cat"}];return(p,c)=>(d(),b(U,null,[h(Be,{title:$l}),h(cn,{class:"settings__section--spacing",title:"Personal"},{content:E(()=>[y("div",_l,[h(Gt,{"model-value":o.value.image,"onUpdate:modelValue":c[0]||(c[0]=v=>o.value.image=v),"view-only":!1},null,8,["model-value"]),h(_e,{modelValue:o.value.name,"onUpdate:modelValue":c[1]||(c[1]=v=>o.value.name=v)},{label:E(()=>c[9]||(c[9]=[M("Full name")])),_:1},8,["modelValue"])]),y("div",Tl,[h(Hn,{modelValue:o.value.theme,"onUpdate:modelValue":c[2]||(c[2]=v=>o.value.theme=v),options:u,label:"Theme"},null,8,["modelValue"])]),h(Qe,{variant:"secondary",disabled:!o.value.name,loading:a.value,onClick:c[3]||(c[3]=()=>f("personal"))},{default:E(()=>c[10]||(c[10]=[M(" Save changes ")])),_:1},8,["disabled","loading"])]),_:1}),C("",!0),h(cn,{class:"settings__section--spacing",title:"Advanced"},{content:E(()=>[c[14]||(c[14]=y("p",null," Deleting your account all personal data, tasks, reports, lists and archives. ",-1)),h(Qe,{class:"settings__delete-app-btn",variant:"secondary",loading:a.value,onClick:c[7]||(c[7]=v=>n.value=!0)},{default:E(()=>c[13]||(c[13]=[M(" Delete account ")])),_:1},8,["loading"])]),_:1}),n.value?(d(),N(es,{key:1,"proceed-btn":{isEvent:!0,link:"",disable:!1},loading:a.value,onProceed:r,onClose:c[8]||(c[8]=v=>n.value=!1)},{content:E(()=>c[15]||(c[15]=[M(" Are you sure you want to delete your account? This deletion cannot be undone. ")])),_:1},8,["loading"])):C("",!0)],64))}}),aa=""+new URL("../logo-name.svg",import.meta.url).href,Sl={class:"setup-view"},Al={class:"setup-view__personal"},El={class:"setup-view__personal-content"},Ll={class:"get-started"},Cl=j({__name:"SetupView",setup(e){const t=x(!1),s=ge(),n=Ie(),a=$e(),o=x({image:"",name:"",archive:!1,archiveFor:30,theme:"default"}),i=I(()=>!o.value.name),r=()=>{t.value=!0,setTimeout(async()=>{try{await n.addSettings({...o.value}),a.push({name:R.Today})}catch{s.error({title:"Fatal Error",text:"An error occurred while trying to setup the work space."})}t.value=!1},2e3)};return(f,u)=>(d(),b("div",Sl,[y("form",{id:"setup-view-form",class:"setup-view__content",onSubmit:gt(r,["prevent"])},[u[6]||(u[6]=y("div",{class:"setup-view__content text-center"},[y("img",{src:aa,alt:"app brand planner",class:"logo logo--highlight"}),y("h1",null,"Youre one step away from less busywork"),y("p",{class:"text-center"}," Setup your planner and make it easier to plan your work, days or special events. ")],-1)),h(Va),y("section",Al,[y("div",El,[y("fieldset",null,[u[2]||(u[2]=y("legend",null,"Select profile picture (optional)",-1)),h(Gt,{"model-value":o.value.image,"onUpdate:modelValue":u[0]||(u[0]=p=>o.value.image=p),"view-only":!1},null,8,["model-value"])]),h(_e,{modelValue:o.value.name,"onUpdate:modelValue":u[1]||(u[1]=p=>o.value.name=p),"input-id":"setup-full-name"},{label:E(()=>u[3]||(u[3]=[M("Full name (required)")])),_:1},8,["modelValue"])])]),y("div",Ll,[h(Qe,{form:"setup-view-form",disabled:i.value,loading:t.value},{default:E(()=>u[4]||(u[4]=[M("GET STARTED")])),_:1},8,["disabled","loading"])]),(d(),N(Pa,{to:"#app"},[u[5]||(u[5]=y("div",{class:"shape-divider"},[y("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1440 320"},[y("path",{fill:"#60A5FA","fill-opacity":"1",d:"M0,128L60,154.7C120,181,240,235,360,218.7C480,203,600,117,720,96C840,75,960,117,1080,122.7C1200,128,1320,96,1380,80L1440,64L1440,320L1380,320C1320,320,1200,320,1080,320C960,320,840,320,720,320C600,320,480,320,360,320C240,320,120,320,60,320L0,320Z"})]),y("div",{class:"shape-divider__empty-space"}," Copyright planner., UcheCodes.dev 2025 ")],-1))]))],32)]))}}),Ol={class:"error-view"},Rl=j({__name:"ErrorView",setup(e){He({title:ze.error.title});const t=$e();return(s,n)=>(d(),b("div",Ol,[n[2]||(n[2]=y("img",{src:aa,alt:"Website logo",class:"logo logo--highlight"},null,-1)),n[3]||(n[3]=y("h1",null,"404",-1)),n[4]||(n[4]=y("h2",null,"Page not found",-1)),n[5]||(n[5]=y("p",null," The link for the page clicked on is broken or the page no longer exists. ",-1)),h(Qe,{onClick:n[0]||(n[0]=a=>m(t).back())},{default:E(()=>[h(oe,{name:"arrowBack",width:24}),n[1]||(n[1]=M("Go back "))]),_:1})]))}}),Pl={id:"habit-counter"},Dl={class:"habit-counter__month"},xl={class:"habit-counter__container"},Ml=["aria-label"],Il=j({__name:"HabitCounter",props:{records:{type:Array,required:!0},defaultNumberOfDays:{type:Number,default:0},defaultCurrentMonthString:{type:String,default:""},defaultCurrentMonth:{type:Number,default:0}},setup(e){const t=e,s=Ga(),n=I(()=>t.defaultNumberOfDays||s.numberOfDays),a=I(()=>t.defaultCurrentMonthString||s.monthString),o=I(()=>t.defaultCurrentMonth||s.month),i=I(()=>{const r=[];for(let f=1;f<=n.value;f++){const u=Bt(new Date(s.fullYear,o.value-1,f)),p=t.records.find(v=>v.timestamp===u),c={date:f,className:u>et()||u===et()?"open":"not-done",label:`${u}: task not done`};p&&(p.status===me.Done&&(c.className="done"),c.label=`${u}: task ${p.status===me.Done?"completed":"not done"}`),r.push(c)}return r});return(r,f)=>(d(),b("div",Pl,[y("h3",Dl,"Habit counter for month of "+V(a.value),1),y("div",xl,[(d(!0),b(U,null,ue(i.value,u=>(d(),b("div",{key:u.date,class:J(["habit-counter__date",u.className]),"aria-label":u.label},V(u.date),11,Ml))),128))])]))}}),Nl={class:"task-overview"},Hl={class:"task-overview__details"},Ul={class:"task-overview__details-row"},Vl={class:"task-overview__details-col"},Fl={key:0,class:"task-overview__details-row"},jl={class:"task-overview__details-col"},Bl={key:1,class:"task-overview__details-row"},zl={class:"task-overview__details-col"},Wl={key:2,class:"task-overview__details-row"},Gl={class:"task-overview__details-col"},ql={key:0},Yl={key:1},Kl={class:"task-overview__note-content"},Xl=j({__name:"TaskOverview",props:{task:{type:Object,required:!0},records:{type:Array,default:()=>[]}},setup(e){return(t,s)=>{const n=Da("dompurify-html");return d(),b("article",Nl,[y("div",Hl,[y("div",Ul,[s[0]||(s[0]=y("div",{class:"task-overview__details-col task-overview__details-heading"}," Priority ",-1)),y("div",Vl,[y("span",{class:J("task-overview__priority--"+m(bt)[e.task.priority].toLowerCase())},V(m(bt)[e.task.priority]),3)])]),e.task.days.length?(d(),b("div",Fl,[s[1]||(s[1]=y("div",{class:"task-overview__details-col task-overview__details-heading"}," Days ",-1)),y("div",jl,[(d(!0),b(U,null,ue(e.task.days,a=>(d(),N(Ze,{key:a,class:"task-overview__chip",label:m(Fn)[a]},null,8,["label"]))),128))])])):C("",!0),e.task.startTime?(d(),b("div",Bl,[s[3]||(s[3]=y("div",{class:"task-overview__details-col task-overview__details-heading"}," Time ",-1)),y("div",zl,[h(jt,null,{default:E(()=>[M(V(e.task.startTime),1)]),_:1}),e.task.endTime?(d(),b(U,{key:0},[s[2]||(s[2]=M(" - ")),h(jt,null,{default:E(()=>[M(V(e.task.endTime),1)]),_:1})],64)):C("",!0)])])):C("",!0),e.task.startDate||e.task.endDate?(d(),b("div",Wl,[s[4]||(s[4]=y("div",{class:"task-overview__details-col task-overview__details-heading"}," Duration ",-1)),y("div",Gl,[M(V(new Date(e.task.startDate).toLocaleDateString())+" - ",1),e.task.endDate?(d(),b("span",ql,V(new Date(e.task.endDate).toLocaleDateString()),1)):(d(),b("span",Yl,"Indefinite"))])])):C("",!0)]),e.task.days&&e.task.days.length?(d(),N(Il,{key:0,records:e.records},null,8,["records"])):C("",!0),e.task.note?(d(),b(U,{key:1},[s[5]||(s[5]=y("h3",null,"Note",-1)),Zt(y("div",Kl,null,512),[[n,e.task.note]])],64)):C("",!0)])}}}),Zl={key:0},Jl={class:"task-progress"},Ql=j({__name:"TaskOverviewView",setup(e){const t=x(!0),s=x(!1),n=x(!1),a=ce(),o=ce(),{params:i,query:r}=we(),{replace:f}=$e(),{currentSelectedTask:u}=Le(a),p=ge(),{toggleProgress:c}=$t(),v=async()=>{s.value=!1,p.success({text:"You successfully updated the task information."}),await a.getCurrentlySelectedTast(_)};let _;try{_=Number(i.id)}catch{_=0}je(async()=>{await a.getCurrentlySelectedTast(_),t.value=!1});const g=I(()=>u.value.taskItem?.status===me.Progress?"In progress":"Mark as progress"),T=async()=>{try{await o.deleteTask(_),r?.returnUrl?f(r.returnUrl):f({name:R.Today})}catch{p.error({text:"Something happened. Please try again."})}},w=async()=>{u.value.taskItem&&c(u.value.taskItem)};return(S,O)=>(d(),b(U,null,[m(u).taskItem?(d(),b(U,{key:1},[h(Be,{title:m(u).taskItem.description},{actions:E(()=>[h(De,null,{default:E(()=>[h(Te,{icon:"edit",onClick:O[0]||(O[0]=A=>s.value=!0)}),h(Te,{icon:"trash",onClick:O[1]||(O[1]=A=>n.value=!0)}),y("div",Jl,[y("button",{class:J({on:m(u).taskItem.status===m(me).Progress}),onClick:w},[h(oe,{name:"progress"}),O[5]||(O[5]=M()),y("span",null,V(g.value),1)],2)])]),_:1})]),_:1},8,["title"]),h(Xl,{task:m(u).taskItem,records:m(u).records,onRefresh:O[2]||(O[2]=A=>m(a).getCurrentlySelectedTast(m(_)))},null,8,["task","records"])],64)):(d(),b("div",Zl,"Nothing found")),s.value&&m(u).taskItem?(d(),N(tt,{key:2,"selected-task":m(u).taskItem,"is-habit":!!m(u).taskItem.days.length,onClose:O[3]||(O[3]=A=>s.value=!1),onSubmitted:v},null,8,["selected-task","is-habit"])):C("",!0),n.value?(d(),N(es,{key:3,"proceed-btn":{isEvent:!0,link:"",disable:!1,alternativeName:"Delete",isRed:!0},onClose:O[4]||(O[4]=A=>n.value=!1),onProceed:T},{content:E(()=>O[6]||(O[6]=[M(" Are you sure you want to delete this tasks? ")])),_:1})):C("",!0)],64))}}),Ee="planner.",ze={[R.Today]:{title:`Today | ${Ee}`},[R.Tomorrow]:{title:`Tomorrow | ${Ee}`},[R.Settings]:{title:`Settings | ${Ee}`},[R.Upcoming]:{title:`Upcoming | ${Ee}`},[R.Lists]:{title:`All list | ${Ee}`},[R.Habits]:{title:`Habits | ${Ee}`},[R.Tasks]:{title:`All tasks | ${Ee}`},[R.TaskOverview]:{title:`Task overview | ${Ee}`},error:{title:`Error page | ${Ee}`}},Xt=Fa({history:ja("/projects/planner"),routes:[{path:"/today",alias:"/",name:R.Today,component:dl,meta:{requiredSetup:!0}},{path:"/upcoming",name:R.Upcoming,component:An,meta:{requiredSetup:!0}},{path:"/habits",name:R.Habits,component:pl,meta:{requiredSetup:!0}},{path:"/list/:id",name:R.List,component:vl,meta:{requiredSetup:!0}},{path:"/lists",name:R.Lists,component:kl,meta:{requiredSetup:!0}},{path:"/tomorrow",name:R.Tomorrow,component:An,meta:{requiredSetup:!0}},{path:"/settings",name:R.Settings,component:wl,meta:{requiredSetup:!0}},{path:"/setup",name:R.Setup,component:Cl},{path:"/task/:id",name:R.TaskOverview,component:Ql},{path:"/:pathMatch(.*)*",component:Rl}]});Xt.beforeEach(async(e,t,s)=>{const a=await(await Us.getInstance()).hasDatabase();if(e.name===R.Setup&&a){s(R.Today);return}if(e.meta.requiredSetup&&!a){s(R.Setup);return}s()});class eu{constructor(t){this.db=t}async deleteList(t){await this.db.lists.remove(t),await this.db.tasks.removeTasksByListId(t)}async getList(t){return await this.db.lists.get(t)}async getAllList(t,s){return await this.db.lists.getAll({type:"valid",offset:t,limit:s})}async getTaskForList(t,s,n,a=!1,o=!1){return await this.db.tasks.getAll({type:rt.list,listId:t,offset:s,limit:n,sortByPriority:a,sortByCompletion:o})}async getHabits(t,s,n=!1){return await this.db.tasks.getAll({type:rt.habits,offset:t,limit:s,sortByPriority:n})}async getHabitRecords(t){return await this.db.tasks.getHabitRecords(t)}async getTask(t){return await this.db.tasks.get(t)}async getTodaysList(t,s,n=!1,a=!1){return await this.db.tasks.getAll({type:rt.today,offset:t,limit:s,sortByPriority:n,sortByCompletion:a})}async getTomorrowsList(t,s,n=!1){return await this.db.tasks.getAll({type:rt.tomorrow,offset:t,limit:s,sortByPriority:n})}async getUpcoming(t,s,n=!1){return await this.db.tasks.getAll({type:rt.upcoming,offset:t,limit:s,sortByPriority:n})}async deleteTask(t){await this.db.tasks.remove(t)}async updateTask(t,s=!1){if(s){const n=await this.db.tasks.updateTaskRecord({id:t.statusRecordId,status:t.status||me.Open,taskId:t.id,timestamp:t.statusUpdatedAt});return await this.db.tasks.update({...t,statusRecordId:n.id,statusUpdatedAt:n.timestamp})}return await this.db.tasks.update(t)}async updateList(t){await this.db.lists.update(t),await this.db.tasks.updateAllTasksForList(t)}getRecentLists(){return this.db.lists.getAll({type:"recent"})}async addTask(t){return await this.db.tasks.add(t)}async addList(t){return await this.db.lists.add(t)}cleanOldRecords(){return Promise.all([this.db.cleanup.cleanupLists(),this.db.cleanup.cleanupTasks()])}async getSettings(){return await this.db.settings.get()}async updateSettings(t){const n={...await this.getSettings(),...t};return await this.db.settings.update(n)}async addSettings(t){return await this.db.settings.add(t)}}const tu={install:async e=>{e.config.globalProperties.$api={};const t=Ie();t.setGlobalLoading(!0);const s=await Us.getInstance();e.config.globalProperties.$api.service=new eu(s.repositories()),await t.getSettings(),t.setGlobalLoading(!1)}};/*! @license DOMPurify 3.2.3 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.2.3/LICENSE */const{entries:oa,setPrototypeOf:En,isFrozen:su,getPrototypeOf:nu,getOwnPropertyDescriptor:au}=Object;let{freeze:re,seal:pe,create:ia}=Object,{apply:Ms,construct:Is}=typeof Reflect<"u"&&Reflect;re||(re=function(t){return t});pe||(pe=function(t){return t});Ms||(Ms=function(t,s,n){return t.apply(s,n)});Is||(Is=function(t,s){return new t(...s)});const It=de(Array.prototype.forEach),Ln=de(Array.prototype.pop),ut=de(Array.prototype.push),Ft=de(String.prototype.toLowerCase),$s=de(String.prototype.toString),Cn=de(String.prototype.match),ct=de(String.prototype.replace),ou=de(String.prototype.indexOf),iu=de(String.prototype.trim),ye=de(Object.prototype.hasOwnProperty),ae=de(RegExp.prototype.test),dt=ru(TypeError);function de(e){return function(t){for(var s=arguments.length,n=new Array(s>1?s-1:0),a=1;a<s;a++)n[a-1]=arguments[a];return Ms(e,t,n)}}function ru(e){return function(){for(var t=arguments.length,s=new Array(t),n=0;n<t;n++)s[n]=arguments[n];return Is(e,s)}}function F(e,t){let s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Ft;En&&En(e,null);let n=t.length;for(;n--;){let a=t[n];if(typeof a=="string"){const o=s(a);o!==a&&(su(t)||(t[n]=o),a=o)}e[a]=!0}return e}function lu(e){for(let t=0;t<e.length;t++)ye(e,t)||(e[t]=null);return e}function Ve(e){const t=ia(null);for(const[s,n]of oa(e))ye(e,s)&&(Array.isArray(n)?t[s]=lu(n):n&&typeof n=="object"&&n.constructor===Object?t[s]=Ve(n):t[s]=n);return t}function ft(e,t){for(;e!==null;){const n=au(e,t);if(n){if(n.get)return de(n.get);if(typeof n.value=="function")return de(n.value)}e=nu(e)}function s(){return null}return s}const On=re(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),ws=re(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),Ss=re(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),uu=re(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),As=re(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),cu=re(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),Rn=re(["#text"]),Pn=re(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),Es=re(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),Dn=re(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Nt=re(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),du=pe(/\{\{[\w\W]*|[\w\W]*\}\}/gm),fu=pe(/<%[\w\W]*|[\w\W]*%>/gm),mu=pe(/\$\{[\w\W]*}/gm),pu=pe(/^data-[\-\w.\u00B7-\uFFFF]+$/),gu=pe(/^aria-[\-\w]+$/),ra=pe(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),vu=pe(/^(?:\w+script|data):/i),yu=pe(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),la=pe(/^html$/i),hu=pe(/^[a-z][.\w]*(-[.\w]+)+$/i);var xn=Object.freeze({__proto__:null,ARIA_ATTR:gu,ATTR_WHITESPACE:yu,CUSTOM_ELEMENT:hu,DATA_ATTR:pu,DOCTYPE_NAME:la,ERB_EXPR:fu,IS_ALLOWED_URI:ra,IS_SCRIPT_OR_DATA:vu,MUSTACHE_EXPR:du,TMPLIT_EXPR:mu});const mt={element:1,attribute:2,text:3,cdataSection:4,entityReference:5,entityNode:6,progressingInstruction:7,comment:8,document:9,documentType:10,documentFragment:11,notation:12},bu=function(){return typeof window>"u"?null:window},ku=function(t,s){if(typeof t!="object"||typeof t.createPolicy!="function")return null;let n=null;const a="data-tt-policy-suffix";s&&s.hasAttribute(a)&&(n=s.getAttribute(a));const o="dompurify"+(n?"#"+n:"");try{return t.createPolicy(o,{createHTML(i){return i},createScriptURL(i){return i}})}catch{return console.warn("TrustedTypes policy "+o+" could not be created."),null}},Mn=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function ua(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:bu();const t=D=>ua(D);if(t.version="3.2.3",t.removed=[],!e||!e.document||e.document.nodeType!==mt.document)return t.isSupported=!1,t;let{document:s}=e;const n=s,a=n.currentScript,{DocumentFragment:o,HTMLTemplateElement:i,Node:r,Element:f,NodeFilter:u,NamedNodeMap:p=e.NamedNodeMap||e.MozNamedAttrMap,HTMLFormElement:c,DOMParser:v,trustedTypes:_}=e,g=f.prototype,T=ft(g,"cloneNode"),w=ft(g,"remove"),S=ft(g,"nextSibling"),O=ft(g,"childNodes"),A=ft(g,"parentNode");if(typeof i=="function"){const D=s.createElement("template");D.content&&D.content.ownerDocument&&(s=D.content.ownerDocument)}let k,P="";const{implementation:z,createNodeIterator:B,createDocumentFragment:Q,getElementsByTagName:Ce}=s,{importNode:st}=n;let W=Mn();t.isSupported=typeof oa=="function"&&typeof A=="function"&&z&&z.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:H,ERB_EXPR:K,TMPLIT_EXPR:Oe,DATA_ATTR:St,ARIA_ATTR:is,IS_SCRIPT_OR_DATA:rs,ATTR_WHITESPACE:At,CUSTOM_ELEMENT:ls}=xn;let{IS_ALLOWED_URI:q}=xn,G=null;const ve=F({},[...On,...ws,...Ss,...As,...Rn]);let ee=null;const Fs=F({},[...Pn,...Es,...Dn,...Nt]);let X=Object.seal(ia(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),nt=null,us=null,js=!0,cs=!0,Bs=!1,zs=!0,We=!1,ds=!0,Ue=!1,fs=!1,ms=!1,Ge=!1,Et=!1,Lt=!1,Ws=!0,Gs=!1;const fa="user-content-";let ps=!0,at=!1,qe={},Ye=null;const qs=F({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let Ys=null;const Ks=F({},["audio","video","img","source","image","track"]);let gs=null;const Xs=F({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Ct="http://www.w3.org/1998/Math/MathML",Ot="http://www.w3.org/2000/svg",Se="http://www.w3.org/1999/xhtml";let Ke=Se,vs=!1,ys=null;const ma=F({},[Ct,Ot,Se],$s);let Rt=F({},["mi","mo","mn","ms","mtext"]),Pt=F({},["annotation-xml"]);const pa=F({},["title","style","font","a","script"]);let ot=null;const ga=["application/xhtml+xml","text/html"],va="text/html";let Z=null,Xe=null;const ya=s.createElement("form"),Zs=function(l){return l instanceof RegExp||l instanceof Function},hs=function(){let l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(Xe&&Xe===l)){if((!l||typeof l!="object")&&(l={}),l=Ve(l),ot=ga.indexOf(l.PARSER_MEDIA_TYPE)===-1?va:l.PARSER_MEDIA_TYPE,Z=ot==="application/xhtml+xml"?$s:Ft,G=ye(l,"ALLOWED_TAGS")?F({},l.ALLOWED_TAGS,Z):ve,ee=ye(l,"ALLOWED_ATTR")?F({},l.ALLOWED_ATTR,Z):Fs,ys=ye(l,"ALLOWED_NAMESPACES")?F({},l.ALLOWED_NAMESPACES,$s):ma,gs=ye(l,"ADD_URI_SAFE_ATTR")?F(Ve(Xs),l.ADD_URI_SAFE_ATTR,Z):Xs,Ys=ye(l,"ADD_DATA_URI_TAGS")?F(Ve(Ks),l.ADD_DATA_URI_TAGS,Z):Ks,Ye=ye(l,"FORBID_CONTENTS")?F({},l.FORBID_CONTENTS,Z):qs,nt=ye(l,"FORBID_TAGS")?F({},l.FORBID_TAGS,Z):{},us=ye(l,"FORBID_ATTR")?F({},l.FORBID_ATTR,Z):{},qe=ye(l,"USE_PROFILES")?l.USE_PROFILES:!1,js=l.ALLOW_ARIA_ATTR!==!1,cs=l.ALLOW_DATA_ATTR!==!1,Bs=l.ALLOW_UNKNOWN_PROTOCOLS||!1,zs=l.ALLOW_SELF_CLOSE_IN_ATTR!==!1,We=l.SAFE_FOR_TEMPLATES||!1,ds=l.SAFE_FOR_XML!==!1,Ue=l.WHOLE_DOCUMENT||!1,Ge=l.RETURN_DOM||!1,Et=l.RETURN_DOM_FRAGMENT||!1,Lt=l.RETURN_TRUSTED_TYPE||!1,ms=l.FORCE_BODY||!1,Ws=l.SANITIZE_DOM!==!1,Gs=l.SANITIZE_NAMED_PROPS||!1,ps=l.KEEP_CONTENT!==!1,at=l.IN_PLACE||!1,q=l.ALLOWED_URI_REGEXP||ra,Ke=l.NAMESPACE||Se,Rt=l.MATHML_TEXT_INTEGRATION_POINTS||Rt,Pt=l.HTML_INTEGRATION_POINTS||Pt,X=l.CUSTOM_ELEMENT_HANDLING||{},l.CUSTOM_ELEMENT_HANDLING&&Zs(l.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(X.tagNameCheck=l.CUSTOM_ELEMENT_HANDLING.tagNameCheck),l.CUSTOM_ELEMENT_HANDLING&&Zs(l.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(X.attributeNameCheck=l.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),l.CUSTOM_ELEMENT_HANDLING&&typeof l.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(X.allowCustomizedBuiltInElements=l.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),We&&(cs=!1),Et&&(Ge=!0),qe&&(G=F({},Rn),ee=[],qe.html===!0&&(F(G,On),F(ee,Pn)),qe.svg===!0&&(F(G,ws),F(ee,Es),F(ee,Nt)),qe.svgFilters===!0&&(F(G,Ss),F(ee,Es),F(ee,Nt)),qe.mathMl===!0&&(F(G,As),F(ee,Dn),F(ee,Nt))),l.ADD_TAGS&&(G===ve&&(G=Ve(G)),F(G,l.ADD_TAGS,Z)),l.ADD_ATTR&&(ee===Fs&&(ee=Ve(ee)),F(ee,l.ADD_ATTR,Z)),l.ADD_URI_SAFE_ATTR&&F(gs,l.ADD_URI_SAFE_ATTR,Z),l.FORBID_CONTENTS&&(Ye===qs&&(Ye=Ve(Ye)),F(Ye,l.FORBID_CONTENTS,Z)),ps&&(G["#text"]=!0),Ue&&F(G,["html","head","body"]),G.table&&(F(G,["tbody"]),delete nt.tbody),l.TRUSTED_TYPES_POLICY){if(typeof l.TRUSTED_TYPES_POLICY.createHTML!="function")throw dt('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof l.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw dt('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');k=l.TRUSTED_TYPES_POLICY,P=k.createHTML("")}else k===void 0&&(k=ku(_,a)),k!==null&&typeof P=="string"&&(P=k.createHTML(""));re&&re(l),Xe=l}},Js=F({},[...ws,...Ss,...uu]),Qs=F({},[...As,...cu]),ha=function(l){let $=A(l);(!$||!$.tagName)&&($={namespaceURI:Ke,tagName:"template"});const L=Ft(l.tagName),Y=Ft($.tagName);return ys[l.namespaceURI]?l.namespaceURI===Ot?$.namespaceURI===Se?L==="svg":$.namespaceURI===Ct?L==="svg"&&(Y==="annotation-xml"||Rt[Y]):!!Js[L]:l.namespaceURI===Ct?$.namespaceURI===Se?L==="math":$.namespaceURI===Ot?L==="math"&&Pt[Y]:!!Qs[L]:l.namespaceURI===Se?$.namespaceURI===Ot&&!Pt[Y]||$.namespaceURI===Ct&&!Rt[Y]?!1:!Qs[L]&&(pa[L]||!Js[L]):!!(ot==="application/xhtml+xml"&&ys[l.namespaceURI]):!1},be=function(l){ut(t.removed,{element:l});try{A(l).removeChild(l)}catch{w(l)}},Dt=function(l,$){try{ut(t.removed,{attribute:$.getAttributeNode(l),from:$})}catch{ut(t.removed,{attribute:null,from:$})}if($.removeAttribute(l),l==="is")if(Ge||Et)try{be($)}catch{}else try{$.setAttribute(l,"")}catch{}},en=function(l){let $=null,L=null;if(ms)l="<remove></remove>"+l;else{const te=Cn(l,/^[\r\n\t ]+/);L=te&&te[0]}ot==="application/xhtml+xml"&&Ke===Se&&(l='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+l+"</body></html>");const Y=k?k.createHTML(l):l;if(Ke===Se)try{$=new v().parseFromString(Y,ot)}catch{}if(!$||!$.documentElement){$=z.createDocument(Ke,"template",null);try{$.documentElement.innerHTML=vs?P:Y}catch{}}const se=$.body||$.documentElement;return l&&L&&se.insertBefore(s.createTextNode(L),se.childNodes[0]||null),Ke===Se?Ce.call($,Ue?"html":"body")[0]:Ue?$.documentElement:se},tn=function(l){return B.call(l.ownerDocument||l,l,u.SHOW_ELEMENT|u.SHOW_COMMENT|u.SHOW_TEXT|u.SHOW_PROCESSING_INSTRUCTION|u.SHOW_CDATA_SECTION,null)},bs=function(l){return l instanceof c&&(typeof l.nodeName!="string"||typeof l.textContent!="string"||typeof l.removeChild!="function"||!(l.attributes instanceof p)||typeof l.removeAttribute!="function"||typeof l.setAttribute!="function"||typeof l.namespaceURI!="string"||typeof l.insertBefore!="function"||typeof l.hasChildNodes!="function")},sn=function(l){return typeof r=="function"&&l instanceof r};function Ae(D,l,$){It(D,L=>{L.call(t,l,$,Xe)})}const nn=function(l){let $=null;if(Ae(W.beforeSanitizeElements,l,null),bs(l))return be(l),!0;const L=Z(l.nodeName);if(Ae(W.uponSanitizeElement,l,{tagName:L,allowedTags:G}),l.hasChildNodes()&&!sn(l.firstElementChild)&&ae(/<[/\w]/g,l.innerHTML)&&ae(/<[/\w]/g,l.textContent)||l.nodeType===mt.progressingInstruction||ds&&l.nodeType===mt.comment&&ae(/<[/\w]/g,l.data))return be(l),!0;if(!G[L]||nt[L]){if(!nt[L]&&on(L)&&(X.tagNameCheck instanceof RegExp&&ae(X.tagNameCheck,L)||X.tagNameCheck instanceof Function&&X.tagNameCheck(L)))return!1;if(ps&&!Ye[L]){const Y=A(l)||l.parentNode,se=O(l)||l.childNodes;if(se&&Y){const te=se.length;for(let le=te-1;le>=0;--le){const ke=T(se[le],!0);ke.__removalCount=(l.__removalCount||0)+1,Y.insertBefore(ke,S(l))}}}return be(l),!0}return l instanceof f&&!ha(l)||(L==="noscript"||L==="noembed"||L==="noframes")&&ae(/<\/no(script|embed|frames)/i,l.innerHTML)?(be(l),!0):(We&&l.nodeType===mt.text&&($=l.textContent,It([H,K,Oe],Y=>{$=ct($,Y," ")}),l.textContent!==$&&(ut(t.removed,{element:l.cloneNode()}),l.textContent=$)),Ae(W.afterSanitizeElements,l,null),!1)},an=function(l,$,L){if(Ws&&($==="id"||$==="name")&&(L in s||L in ya))return!1;if(!(cs&&!us[$]&&ae(St,$))){if(!(js&&ae(is,$))){if(!ee[$]||us[$]){if(!(on(l)&&(X.tagNameCheck instanceof RegExp&&ae(X.tagNameCheck,l)||X.tagNameCheck instanceof Function&&X.tagNameCheck(l))&&(X.attributeNameCheck instanceof RegExp&&ae(X.attributeNameCheck,$)||X.attributeNameCheck instanceof Function&&X.attributeNameCheck($))||$==="is"&&X.allowCustomizedBuiltInElements&&(X.tagNameCheck instanceof RegExp&&ae(X.tagNameCheck,L)||X.tagNameCheck instanceof Function&&X.tagNameCheck(L))))return!1}else if(!gs[$]){if(!ae(q,ct(L,At,""))){if(!(($==="src"||$==="xlink:href"||$==="href")&&l!=="script"&&ou(L,"data:")===0&&Ys[l])){if(!(Bs&&!ae(rs,ct(L,At,"")))){if(L)return!1}}}}}}return!0},on=function(l){return l!=="annotation-xml"&&Cn(l,ls)},rn=function(l){Ae(W.beforeSanitizeAttributes,l,null);const{attributes:$}=l;if(!$||bs(l))return;const L={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:ee,forceKeepAttr:void 0};let Y=$.length;for(;Y--;){const se=$[Y],{name:te,namespaceURI:le,value:ke}=se,it=Z(te);let ne=te==="value"?ke:iu(ke);if(L.attrName=it,L.attrValue=ne,L.keepAttr=!0,L.forceKeepAttr=void 0,Ae(W.uponSanitizeAttribute,l,L),ne=L.attrValue,Gs&&(it==="id"||it==="name")&&(Dt(te,l),ne=fa+ne),ds&&ae(/((--!?|])>)|<\/(style|title)/i,ne)){Dt(te,l);continue}if(L.forceKeepAttr||(Dt(te,l),!L.keepAttr))continue;if(!zs&&ae(/\/>/i,ne)){Dt(te,l);continue}We&&It([H,K,Oe],un=>{ne=ct(ne,un," ")});const ln=Z(l.nodeName);if(an(ln,it,ne)){if(k&&typeof _=="object"&&typeof _.getAttributeType=="function"&&!le)switch(_.getAttributeType(ln,it)){case"TrustedHTML":{ne=k.createHTML(ne);break}case"TrustedScriptURL":{ne=k.createScriptURL(ne);break}}try{le?l.setAttributeNS(le,te,ne):l.setAttribute(te,ne),bs(l)?be(l):Ln(t.removed)}catch{}}}Ae(W.afterSanitizeAttributes,l,null)},ba=function D(l){let $=null;const L=tn(l);for(Ae(W.beforeSanitizeShadowDOM,l,null);$=L.nextNode();)Ae(W.uponSanitizeShadowNode,$,null),nn($),rn($),$.content instanceof o&&D($.content);Ae(W.afterSanitizeShadowDOM,l,null)};return t.sanitize=function(D){let l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},$=null,L=null,Y=null,se=null;if(vs=!D,vs&&(D="<!-->"),typeof D!="string"&&!sn(D))if(typeof D.toString=="function"){if(D=D.toString(),typeof D!="string")throw dt("dirty is not a string, aborting")}else throw dt("toString is not a function");if(!t.isSupported)return D;if(fs||hs(l),t.removed=[],typeof D=="string"&&(at=!1),at){if(D.nodeName){const ke=Z(D.nodeName);if(!G[ke]||nt[ke])throw dt("root node is forbidden and cannot be sanitized in-place")}}else if(D instanceof r)$=en("<!---->"),L=$.ownerDocument.importNode(D,!0),L.nodeType===mt.element&&L.nodeName==="BODY"||L.nodeName==="HTML"?$=L:$.appendChild(L);else{if(!Ge&&!We&&!Ue&&D.indexOf("<")===-1)return k&&Lt?k.createHTML(D):D;if($=en(D),!$)return Ge?null:Lt?P:""}$&&ms&&be($.firstChild);const te=tn(at?D:$);for(;Y=te.nextNode();)nn(Y),rn(Y),Y.content instanceof o&&ba(Y.content);if(at)return D;if(Ge){if(Et)for(se=Q.call($.ownerDocument);$.firstChild;)se.appendChild($.firstChild);else se=$;return(ee.shadowroot||ee.shadowrootmode)&&(se=st.call(n,se,!0)),se}let le=Ue?$.outerHTML:$.innerHTML;return Ue&&G["!doctype"]&&$.ownerDocument&&$.ownerDocument.doctype&&$.ownerDocument.doctype.name&&ae(la,$.ownerDocument.doctype.name)&&(le="<!DOCTYPE "+$.ownerDocument.doctype.name+`>
`+le),We&&It([H,K,Oe],ke=>{le=ct(le,ke," ")}),k&&Lt?k.createHTML(le):le},t.setConfig=function(){let D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};hs(D),fs=!0},t.clearConfig=function(){Xe=null,fs=!1},t.isValidAttribute=function(D,l,$){Xe||hs({});const L=Z(D),Y=Z(l);return an(L,Y,$)},t.addHook=function(D,l){typeof l=="function"&&ut(W[D],l)},t.removeHook=function(D){return Ln(W[D])},t.removeHooks=function(D){W[D]=[]},t.removeAllHooks=function(){W=Mn()},t}var _u=ua();function Tu(e,t){const s=e.hooks??{};let n;for(n in s){const a=s[n];a!==void 0&&t.addHook(n,a)}}function ca(){return _u()}function $u(e={},t=ca){const s=t();Tu(e,s);const n=function(a,o){const i=o.value;if(o.oldValue===i)return;const r=`${i}`,f=o.arg,u=e.namedConfigurations,p=e.default??{};if(u&&f!==void 0){a.innerHTML=s.sanitize(r,u[f]??p);return}a.innerHTML=s.sanitize(r,p)};return{mounted:n,updated:n}}const wu={install(e,t={},s=ca){e.directive("dompurify-html",$u(t,s))}},Su=yr(),da=qa();da.use(Ya);await Us.getInstance();xa(Si).use(da).use(tu).use(Xt).use(Su).use(wu).mount("#app");
