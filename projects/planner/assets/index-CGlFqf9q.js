import{d as j,f as b,o as d,g as N,l as C,A as V,i as yt,c as I,R as ht,k as Q,u as p,x as h,B as Jt,S as Nn,m as y,U as Qt,V as Hn,F as U,D as ce,y as E,r as x,p as Cn,z as M,P as ha,b as en,w as re,W as Ms,K as On,v as Is,L as ba,X as _a,n as bt,t as je,Y as Qe,_ as ka,Z as vt,$ as Ta,q as Fe,a0 as $a,j as wa,a1 as Sa,a2 as Aa,a3 as Ea,a4 as La,E as Ca,T as Oa,a5 as Ra,a6 as Pa}from"./RichEditor-DMhdOr4s.js";import{_ as oe,u as Te,a as $e,b as tn,c as Ut,d as Ie,e as ge,f as Da,g as _e,h as Ns,i as Mt,j as Hs,k as et,l as xa,T as Bt,m as Je,n as nn,o as Tt,p as Us,q as Ma,L as Ia,r as Na,s as us,S as Ha,t as Ua,v as Va}from"./component-base-BJacdTA6.js";import{a as de,u as Ne,s as Ce,g as tt,P as gt,p as _t,b as zt,D as me,c as Fa,T as pe,o as ja,d as Vs,f as Fs,e as Ba,N as za,h as Wa,L as Un,F as lt,i as Ga,j as qa}from"./stores-3cOuxS0j.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const r of o.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&s(r)}).observe(document,{childList:!0,subtree:!0});function n(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(a){if(a.ep)return;a.ep=!0;const o=n(a);fetch(a.href,o)}})();const Ya=j({__name:"AppMenuToggle",props:{collasped:{type:Boolean,default:!1}},emits:["collaspe"],setup(e,{emit:t}){const n=t;return(s,a)=>(d(),b("div",{class:"app-menu-toggle",role:"button","data-testid":"collaspe-app-menu","aria-label":"collaspe menu",onClick:a[0]||(a[0]=o=>n("collaspe"))},[e.collasped?(d(),N(oe,{key:0,name:"ChevronRight","aria-hidden":"true"})):C("",!0),e.collasped?C("",!0):(d(),N(oe,{key:1,name:"ChevronLeft","aria-hidden":"true"}))]))}}),Ka=""+new URL("../logo-name-white.svg",import.meta.url).href,Xa=""+new URL("../favicon.png",import.meta.url).href,R={Today:"today",Settings:"settings",Upcoming:"upcoming",Tomorrow:"tomorrow",Lists:"lists",List:"list",Habits:"habits",Setup:"setup",Tasks:"tasks",TaskOverview:"taskOverview"},Za={class:"app-menu-item-count"},Ja=j({__name:"AppMenuItemCount",props:{count:{type:Number,default:0}},setup(e){return(t,n)=>(d(),b("div",Za,V(e.count),1))}}),Qa=["aria-description"],Tn=j({__name:"AppMenuItem",props:{label:{type:String,required:!0},icon:{type:String,required:!0},pageRoute:{type:Object,required:!0},count:{type:Number,default:0}},setup(e){const t=e,n=yt("compact"),s=Te(),a=$e(),o=()=>{s.push({name:t.pageRoute.name,...t.pageRoute.params?{params:t.pageRoute.params}:{}})},r=(m,u=0)=>n?u?`${m} (${u})`:m:"",i=I(()=>t.pageRoute.params?t.pageRoute.params?.id===a.params?.id&&t.pageRoute.name===a.name:a.name===t.pageRoute.name);return(m,u)=>(d(),b("div",{class:Q(["app-menu-item",{"app-menu-item--selected":i.value,"app-menu-item--compact":p(n)}]),"data-testid":"app-menu-item",role:"menuitem",tabindex:"0","aria-description":e.label,onClick:o,onKeydown:[ht(o,["enter"]),ht(o,["space"])]},[h(oe,{name:e.icon,width:28,title:r(e.label,e.count)},null,8,["name","title"]),Jt(y("span",{class:"app-menu-item__label"},V(e.label),513),[[Nn,!p(n)]]),e.count&&!p(n)?(d(),N(Ja,{key:0,count:e.count},null,8,["count"])):C("",!0)],42,Qa))}}),eo={key:0,src:Ka,alt:"Website logo",class:"logo logo--small"},to={key:1,src:Xa,alt:"Website logo",class:"App brand logo"},no={"data-id":"app-menu-item-main-list","aria-label":"MAIN MENU"},so={"aria-labelledby":"menu-recent-lists"},ao={key:1},oo={"aria-labelledby":"menu-personal"},ro=j({__name:"AppMenuItemList",setup(e){const t=yt("compact"),n=de(),s=I(()=>({tasks:[{label:"Today",icon:"today",pageRoute:{name:R.Today}},{label:"Upcoming",icon:"eventUpcoming",pageRoute:{name:R.Tomorrow}},{label:"Habits",icon:"eventRepeat",pageRoute:{name:R.Habits}},{label:"Lists",icon:"list",compactOnly:!0,pageRoute:{name:R.Lists}}],personal:[{label:"Settings",icon:"settings",pageRoute:{name:R.Settings}}]}));return Qt(async()=>{await n.getRecentList()}),(a,o)=>{const r=Hn("router-link");return d(),b("nav",{class:Q(["app-menu-item-list",{"app-menu-item-list--compact":p(t)}])},[p(t)?(d(),b("img",to)):(d(),b("img",eo)),y("section",no,[(d(!0),b(U,null,ce(s.value.tasks,i=>(d(),b(U,{key:i.pageRoute.name},[!i.compactOnly||i.compactOnly&&p(t)?(d(),N(Tn,{key:0,label:i.label,"page-route":i.pageRoute,icon:i.icon,count:i.count},null,8,["label","page-route","icon","count"])):C("",!0)],64))),128))]),y("section",so,[o[1]||(o[1]=y("h3",{id:"menu-recent-lists"},"RECENT LISTS",-1)),p(n).recentList.length&&!p(t)?(d(!0),b(U,{key:0},ce(p(n).recentList,i=>(d(),N(Tn,{key:i.id,label:i.description,"page-route":{name:p(R).List,params:{id:String(i.id)}},icon:"list"},null,8,["label","page-route"]))),128)):!p(n).recentList.length&&!p(t)?(d(),b("i",ao,"No recent lists found")):C("",!0),h(r,{to:{name:p(R).Lists},class:"app-menu-item-list__link","data-testid":"menu-view-lists"},{default:E(()=>o[0]||(o[0]=[y("div",null,"View All List",-1)])),_:1,__:[0]},8,["to"])]),y("section",oo,[o[2]||(o[2]=y("h3",{id:"menu-personal"},"PERSONAL",-1)),(d(!0),b(U,null,ce(s.value.personal,i=>(d(),N(Tn,{key:i.pageRoute.name,label:i.label,"page-route":i.pageRoute,icon:i.icon,count:i.count},null,8,["label","page-route","icon","count"]))),128))])],2)}}}),io={class:"app-menu__content"},lo=j({__name:"AppMenu",emits:["collasped"],setup(e,{emit:t}){const n=t,s=Ne(),{isTablet:a}=Ce(s),o=x(a.value);return n("collasped",o.value),Cn("compact",o),(r,i)=>(d(),b("div",{class:Q(["app-menu",{"app-menu--collasped":o.value}]),role:"menu"},[i[1]||(i[1]=y("div",{class:"app-menu-space"},null,-1)),h(Ya,{collasped:o.value,onCollaspe:i[0]||(i[0]=m=>{o.value=!o.value,r.$emit("collasped",o.value)})},null,8,["collasped"]),y("div",io,[h(ro)])],2))}}),uo={class:"select-item"},co=j({__name:"SelectItem",emits:["close","proceed"],setup(e,{emit:t}){const n=t,s=x("task"),a=()=>{n("proceed",s.value)};return(o,r)=>(d(),N(tn,{"proceed-btn":{isEvent:!0,link:"",disable:!1},onClose:r[3]||(r[3]=i=>o.$emit("close")),onProceed:a},{content:E(()=>[y("div",uo,[r[7]||(r[7]=y("span",{class:"select-item__title"},"Add new item",-1)),r[8]||(r[8]=y("p",null,"Add a habit, day task, or list to level Up Your Routine!",-1)),h(Ut,{modelValue:s.value,"onUpdate:modelValue":r[0]||(r[0]=i=>s.value=i),name:"item-selection",value:"task",class:"select-item__radio"},{label:E(()=>r[4]||(r[4]=[M("Task",-1)])),_:1},8,["modelValue"]),h(Ut,{modelValue:s.value,"onUpdate:modelValue":r[1]||(r[1]=i=>s.value=i),name:"item-selection",value:"habit",class:"select-item__radio"},{label:E(()=>r[5]||(r[5]=[M("Habit",-1)])),_:1},8,["modelValue"]),h(Ut,{modelValue:s.value,"onUpdate:modelValue":r[2]||(r[2]=i=>s.value=i),name:"item-selection",value:"list",class:"select-item__radio"},{label:E(()=>r[6]||(r[6]=[M("List",-1)])),_:1},8,["modelValue"])])]),_:1}))}}),mo=Ie(co,[["__scopeId","data-v-d575ad6a"]]),po=["Enter","enter"," ","space"],fo=j({__name:"DayItem",props:{day:{type:String,required:!0},selected:{type:Boolean,default:!1}},emits:["selected"],setup(e,{emit:t}){const n=e,s=t,a=()=>{s("selected",!n.selected)},o=()=>a(),r=i=>{po.includes(i.key)&&(s("selected",!n.selected),i.target.blur())};return(i,m)=>(d(),b("div",{class:Q(["day-item",{"day-item--selected":e.selected}]),role:"button","aria-labelledby":"day option",tabindex:"0",onClick:o,onKeydown:r},V(e.day),35))}}),go={class:"day-item-list"},vo=j({__name:"DayItemList",props:{days:{type:Array,default:()=>[]}},emits:["input"],setup(e,{emit:t}){const n=e,{days:s}=ha(n),a=en({mon:!1,tue:!1,wed:!1,thu:!1,sat:!1,sun:!1,fri:!1}),o=["mon","tue","wed","thu","fri","sat","sun"],r=t,i=()=>{s.value.forEach(m=>{a[m]=!0})};return i(),re(a,()=>r("input",Object.keys(a).filter(m=>!!a[m]))),re(s,(m,u)=>{u.length||i()}),(m,u)=>(d(),b("div",go,[(d(),b(U,null,ce(o,f=>h(fo,{key:f,day:f,selected:!!a[f],onSelected:c=>a[f]=c},null,8,["day","selected","onSelected"])),64))]))}});var he=(e=>(e.Once="Once",e.All="All days",e.Weekdays="Weekdays",e.Weekends="Weekends",e.Custom="Custom",e))(he||{});function cs(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function kt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?cs(Object(n),!0).forEach(function(s){yo(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cs(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function yo(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Wt(e){return typeof e=="function"}function Rn(e){return e!==null&&typeof e=="object"&&!Array.isArray(e)}function sn(e){return Wt(e.$validator)?kt({},e):{$validator:e}}function js(e){return typeof e=="object"?e.$valid:e}function Bs(e){return e.$validator||e}function ho(e,t){if(!Rn(e))throw new Error(`[@vuelidate/validators]: First parameter to "withParams" should be an object, provided ${typeof e}`);if(!Rn(t)&&!Wt(t))throw new Error("[@vuelidate/validators]: Validator must be a function or object with $validator parameter");const n=sn(t);return n.$params=kt(kt({},n.$params||{}),e),n}function bo(e,t){if(!Wt(e)&&typeof p(e)!="string")throw new Error(`[@vuelidate/validators]: First parameter to "withMessage" should be string or a function returning a string, provided ${typeof e}`);if(!Rn(t)&&!Wt(t))throw new Error("[@vuelidate/validators]: Validator must be a function or object with $validator parameter");const n=sn(t);return n.$message=e,n}function _o(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];const n=sn(e);return kt(kt({},n),{},{$async:!0,$watchTargets:t})}function ko(e){return{$validator(t){for(var n=arguments.length,s=new Array(n>1?n-1:0),a=1;a<n;a++)s[a-1]=arguments[a];return p(t).reduce((o,r,i)=>{const m=Object.entries(r).reduce((u,f)=>{let[c,v]=f;const k=e[c]||{},g=Object.entries(k).reduce((T,w)=>{let[S,O]=w;const _=Bs(O).call(this,v,r,i,...s),D=js(_);if(T.$data[S]=_,T.$data.$invalid=!D||!!T.$data.$invalid,T.$data.$error=T.$data.$invalid,!D){let W=O.$message||"";const z=O.$params||{};typeof W=="function"&&(W=W({$pending:!1,$invalid:!D,$params:z,$model:v,$response:_})),T.$errors.push({$property:c,$message:W,$params:z,$response:_,$model:v,$pending:!1,$validator:S})}return{$valid:T.$valid&&D,$data:T.$data,$errors:T.$errors}},{$valid:!0,$data:{},$errors:[]});return u.$data[c]=g.$data,u.$errors[c]=g.$errors,{$valid:u.$valid&&g.$valid,$data:u.$data,$errors:u.$errors}},{$valid:!0,$data:{},$errors:{}});return{$valid:o.$valid&&m.$valid,$data:o.$data.concat(m.$data),$errors:o.$errors.concat(m.$errors)}},{$valid:!0,$data:[],$errors:[]})},$message:t=>{let{$response:n}=t;return n?n.$errors.map(s=>Object.values(s).map(a=>a.map(o=>o.$message)).reduce((a,o)=>a.concat(o),[])):[]}}}const an=e=>{if(e=p(e),Array.isArray(e))return!!e.length;if(e==null)return!1;if(e===!1)return!0;if(e instanceof Date)return!isNaN(e.getTime());if(typeof e=="object"){for(let t in e)return!0;return!1}return!!String(e).length},zs=e=>(e=p(e),Array.isArray(e)?e.length:typeof e=="object"?Object.keys(e).length:String(e).length);function He(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return s=>(s=p(s),!an(s)||t.every(a=>(a.lastIndex=0,a.test(s))))}var ut=Object.freeze({__proto__:null,forEach:ko,len:zs,normalizeValidatorObject:sn,regex:He,req:an,unwrap:p,unwrapNormalizedValidator:Bs,unwrapValidatorResponse:js,withAsync:_o,withMessage:bo,withParams:ho});He(/^[a-zA-Z]*$/);He(/^[a-zA-Z0-9]*$/);He(/^\d*(\.\d+)?$/);const To=/^(?:[A-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[A-z0-9!#$%&'*+/=?^_`{|}~-]+)*|"(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21\x23-\x5b\x5d-\x7f]|[\x01-\x09\x0b\x0c\x0e-\x7f])*")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9]{2,}(?:[a-z0-9-]*[a-z0-9])?|\[(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?|[a-z0-9-]*[a-z0-9]:(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21-\x5a\x53-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])+)\])$/i;He(To);function $o(e){return t=>!an(t)||zs(t)>=p(e)}function wo(e){return{$validator:$o(e),$message:t=>{let{$params:n}=t;return`This field should be at least ${n.min} characters long`},$params:{min:e,type:"minLength"}}}function So(e){return typeof e=="string"&&(e=e.trim()),an(e)}var Ao={$validator:So,$message:"Value is required",$params:{type:"required"}};const Eo=/^(?:(?:(?:https?|ftp):)?\/\/)(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z0-9\u00a1-\uffff][a-z0-9\u00a1-\uffff_-]{0,62})?[a-z0-9\u00a1-\uffff]\.)+(?:[a-z\u00a1-\uffff]{2,}\.?))(?::\d{2,5})?(?:[/?#]\S*)?$/i;He(Eo);He(/(^[0-9]*$)|(^-[0-9]+$)/);He(/^[-]?\d*(\.\d+)?$/);function ds(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function Pe(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ds(Object(n),!0).forEach(function(s){Lo(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ds(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function Lo(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ms(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return Object.keys(e).reduce((n,s)=>(t.includes(s)||(n[s]=p(e[s])),n),{})}function Gt(e){return typeof e=="function"}function Co(e){return ba(e)||_a(e)}function Ws(e,t,n){let s=e;const a=t.split(".");for(let o=0;o<a.length;o++){if(!s[a[o]])return n;s=s[a[o]]}return s}function $n(e,t,n){return I(()=>e.some(s=>Ws(t,s,{[n]:!1})[n]))}function ps(e,t,n){return I(()=>e.reduce((s,a)=>{const o=Ws(t,a,{[n]:!1})[n]||[];return s.concat(o)},[]))}function Gs(e,t,n,s){return e.call(s,p(t),p(n),s)}function qs(e){return e.$valid!==void 0?!e.$valid:!e}function Oo(e,t,n,s,a,o,r){let{$lazy:i,$rewardEarly:m}=a,u=arguments.length>7&&arguments[7]!==void 0?arguments[7]:[],f=arguments.length>8?arguments[8]:void 0,c=arguments.length>9?arguments[9]:void 0,v=arguments.length>10?arguments[10]:void 0;const k=x(!!s.value),g=x(0);n.value=!1;const T=re([t,s].concat(u,v),()=>{if(i&&!s.value||m&&!c.value&&!n.value)return;let w;try{w=Gs(e,t,f,r)}catch(S){w=Promise.reject(S)}g.value++,n.value=!!g.value,k.value=!1,Promise.resolve(w).then(S=>{g.value--,n.value=!!g.value,o.value=S,k.value=qs(S)}).catch(S=>{g.value--,n.value=!!g.value,o.value=S,k.value=!0})},{immediate:!0,deep:typeof t=="object"});return{$invalid:k,$unwatch:T}}function Ro(e,t,n,s,a,o,r,i){let{$lazy:m,$rewardEarly:u}=s;const f=()=>({}),c=I(()=>{if(m&&!n.value||u&&!i.value)return!1;let v=!0;try{const k=Gs(e,t,r,o);a.value=k,v=qs(k)}catch(k){a.value=k}return v});return{$unwatch:f,$invalid:c}}function Po(e,t,n,s,a,o,r,i,m,u,f){const c=x(!1),v=e.$params||{},k=x(null);let g,T;e.$async?{$invalid:g,$unwatch:T}=Oo(e.$validator,t,c,n,s,k,a,e.$watchTargets,m,u,f):{$invalid:g,$unwatch:T}=Ro(e.$validator,t,n,s,k,a,m,u);const w=e.$message;return{$message:Gt(w)?I(()=>w(ms({$pending:c,$invalid:g,$params:ms(v),$model:t,$response:k,$validator:o,$propertyPath:i,$property:r}))):w||"",$params:v,$pending:c,$invalid:g,$response:k,$unwatch:T}}function Do(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const t=p(e),n=Object.keys(t),s={},a={},o={};let r=null;return n.forEach(i=>{const m=t[i];switch(!0){case Gt(m.$validator):s[i]=m;break;case Gt(m):s[i]={$validator:m};break;case i==="$validationGroups":r=m;break;case i.startsWith("$"):o[i]=m;break;default:a[i]=m}}),{rules:s,nestedValidators:a,config:o,validationGroups:r}}const xo="__root";function Mo(e,t,n,s,a,o,r,i,m){const u=Object.keys(e),f=s.get(a,e),c=x(!1),v=x(!1),k=x(0);if(f){if(!f.$partial)return f;f.$unwatch(),c.value=f.$dirty.value}const g={$dirty:c,$path:a,$touch:()=>{c.value||(c.value=!0)},$reset:()=>{c.value&&(c.value=!1)},$commit:()=>{}};return u.length?(u.forEach(T=>{g[T]=Po(e[T],t,g.$dirty,o,r,T,n,a,m,v,k)}),g.$externalResults=I(()=>i.value?[].concat(i.value).map((T,w)=>({$propertyPath:a,$property:n,$validator:"$externalResults",$uid:`${a}-externalResult-${w}`,$message:T,$params:{},$response:null,$pending:!1})):[]),g.$invalid=I(()=>{const T=u.some(w=>p(g[w].$invalid));return v.value=T,!!g.$externalResults.value.length||T}),g.$pending=I(()=>u.some(T=>p(g[T].$pending))),g.$error=I(()=>g.$dirty.value?g.$pending.value||g.$invalid.value:!1),g.$silentErrors=I(()=>u.filter(T=>p(g[T].$invalid)).map(T=>{const w=g[T];return en({$propertyPath:a,$property:n,$validator:T,$uid:`${a}-${T}`,$message:w.$message,$params:w.$params,$response:w.$response,$pending:w.$pending})}).concat(g.$externalResults.value)),g.$errors=I(()=>g.$dirty.value?g.$silentErrors.value:[]),g.$unwatch=()=>u.forEach(T=>{g[T].$unwatch()}),g.$commit=()=>{v.value=!0,k.value=Date.now()},s.set(a,e,g),g):(f&&s.set(a,e,g),g)}function Io(e,t,n,s,a,o,r){const i=Object.keys(e);return i.length?i.reduce((m,u)=>(m[u]=Pn({validations:e[u],state:t,key:u,parentKey:n,resultsCache:s,globalConfig:a,instance:o,externalResults:r}),m),{}):{}}function No(e,t,n){const s=I(()=>[t,n].filter(g=>g).reduce((g,T)=>g.concat(Object.values(p(T))),[])),a=I({get(){return e.$dirty.value||(s.value.length?s.value.every(g=>g.$dirty):!1)},set(g){e.$dirty.value=g}}),o=I(()=>{const g=p(e.$silentErrors)||[],T=s.value.filter(w=>(p(w).$silentErrors||[]).length).reduce((w,S)=>w.concat(...S.$silentErrors),[]);return g.concat(T)}),r=I(()=>{const g=p(e.$errors)||[],T=s.value.filter(w=>(p(w).$errors||[]).length).reduce((w,S)=>w.concat(...S.$errors),[]);return g.concat(T)}),i=I(()=>s.value.some(g=>g.$invalid)||p(e.$invalid)||!1),m=I(()=>s.value.some(g=>p(g.$pending))||p(e.$pending)||!1),u=I(()=>s.value.some(g=>g.$dirty)||s.value.some(g=>g.$anyDirty)||a.value),f=I(()=>a.value?m.value||i.value:!1),c=()=>{e.$touch(),s.value.forEach(g=>{g.$touch()})},v=()=>{e.$commit(),s.value.forEach(g=>{g.$commit()})},k=()=>{e.$reset(),s.value.forEach(g=>{g.$reset()})};return s.value.length&&s.value.every(g=>g.$dirty)&&c(),{$dirty:a,$errors:r,$invalid:i,$anyDirty:u,$error:f,$pending:m,$touch:c,$reset:k,$silentErrors:o,$commit:v}}function Pn(e){let{validations:t,state:n,key:s,parentKey:a,childResults:o,resultsCache:r,globalConfig:i={},instance:m,externalResults:u}=e;const f=a?`${a}.${s}`:s,{rules:c,nestedValidators:v,config:k,validationGroups:g}=Do(t),T=Pe(Pe({},i),k),w=s?I(()=>{const q=p(n);return q?p(q[s]):void 0}):n,S=Pe({},p(u)||{}),O=I(()=>{const q=p(u);return s?q?p(q[s]):void 0:q}),A=Mo(c,w,s,r,f,T,m,O,n),_=Io(v,w,f,r,T,m,O),D={};g&&Object.entries(g).forEach(q=>{let[G,ve]=q;D[G]={$invalid:$n(ve,_,"$invalid"),$error:$n(ve,_,"$error"),$pending:$n(ve,_,"$pending"),$errors:ps(ve,_,"$errors"),$silentErrors:ps(ve,_,"$silentErrors")}});const{$dirty:W,$errors:z,$invalid:ee,$anyDirty:Oe,$error:st,$pending:B,$touch:H,$reset:K,$silentErrors:Re,$commit:At}=No(A,_,o),ln=s?I({get:()=>p(w),set:q=>{W.value=!0;const G=p(n),ve=p(u);ve&&(ve[s]=S[s]),On(G[s])?G[s].value=q:G[s]=q}}):null;s&&T.$autoDirty&&re(w,()=>{W.value||H();const q=p(u);q&&(q[s]=S[s])},{flush:"sync"});async function un(){return H(),T.$rewardEarly&&(At(),await bt()),await bt(),new Promise(q=>{if(!B.value)return q(!ee.value);const G=re(B,()=>{q(!ee.value),G()})})}function Et(q){return(o.value||{})[q]}function cn(){On(u)?u.value=S:Object.keys(S).length===0?Object.keys(u).forEach(q=>{delete u[q]}):Object.assign(u,S)}return en(Pe(Pe(Pe({},A),{},{$model:ln,$dirty:W,$error:st,$errors:z,$invalid:ee,$anyDirty:Oe,$pending:B,$touch:H,$reset:K,$path:f||xo,$silentErrors:Re,$validate:un,$commit:At},o&&{$getResultsForChild:Et,$clearExternalResults:cn,$validationGroups:D}),_))}class Ho{constructor(){this.storage=new Map}set(t,n,s){this.storage.set(t,{rules:n,result:s})}checkRulesValidity(t,n,s){const a=Object.keys(s),o=Object.keys(n);return o.length!==a.length||!o.every(i=>a.includes(i))?!1:o.every(i=>n[i].$params?Object.keys(n[i].$params).every(m=>p(s[i].$params[m])===p(n[i].$params[m])):!0)}get(t,n){const s=this.storage.get(t);if(!s)return;const{rules:a,result:o}=s,r=this.checkRulesValidity(t,n,a),i=o.$unwatch?o.$unwatch:()=>({});return r?o:{$dirty:o.$dirty,$partial:!0,$unwatch:i}}}const Vt={COLLECT_ALL:!0,COLLECT_NONE:!1},fs=Symbol("vuelidate#injectChildResults"),gs=Symbol("vuelidate#removeChildResults");function Uo(e){let{$scope:t,instance:n}=e;const s={},a=x([]),o=I(()=>a.value.reduce((f,c)=>(f[c]=p(s[c]),f),{}));function r(f,c){let{$registerAs:v,$scope:k,$stopPropagation:g}=c;g||t===Vt.COLLECT_NONE||k===Vt.COLLECT_NONE||t!==Vt.COLLECT_ALL&&t!==k||(s[v]=f,a.value.push(v))}n.__vuelidateInjectInstances=[].concat(n.__vuelidateInjectInstances||[],r);function i(f){a.value=a.value.filter(c=>c!==f),delete s[f]}n.__vuelidateRemoveInstances=[].concat(n.__vuelidateRemoveInstances||[],i);const m=yt(fs,[]);Cn(fs,n.__vuelidateInjectInstances);const u=yt(gs,[]);return Cn(gs,n.__vuelidateRemoveInstances),{childResults:o,sendValidationResultsToParent:m,removeValidationResultsFromParent:u}}function Ys(e){return new Proxy(e,{get(t,n){return typeof t[n]=="object"?Ys(t[n]):I(()=>t[n])}})}let vs=0;function Vo(e,t){var n;let s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};arguments.length===1&&(s=e,e=void 0,t=void 0);let{$registerAs:a,$scope:o=Vt.COLLECT_ALL,$stopPropagation:r,$externalResults:i,currentVueInstance:m}=s;const u=m||((n=Ms())===null||n===void 0?void 0:n.proxy),f=u?u.$options:{};a||(vs+=1,a=`_vuelidate_${vs}`);const c=x({}),v=new Ho,{childResults:k,sendValidationResultsToParent:g,removeValidationResultsFromParent:T}=u?Uo({$scope:o,instance:u}):{childResults:x({})};if(!e&&f.validations){const w=f.validations;t=x({}),Qt(()=>{t.value=u,re(()=>Gt(w)?w.call(t.value,new Ys(t.value)):w,S=>{c.value=Pn({validations:S,state:t,childResults:k,resultsCache:v,globalConfig:s,instance:u,externalResults:i||u.vuelidateExternalResults})},{immediate:!0})}),s=f.validationsConfig||s}else{const w=On(e)||Co(e)?e:en(e||{});re(w,S=>{c.value=Pn({validations:S,state:t,childResults:k,resultsCache:v,globalConfig:s,instance:u??{},externalResults:i})},{immediate:!0})}return u&&(g.forEach(w=>w(c,{$registerAs:a,$scope:o,$stopPropagation:r})),Is(()=>T.forEach(w=>w(a)))),I(()=>Pe(Pe({},p(c.value)),k.value))}const Fo=(e,t,n,s)=>{const a=Object.assign({},e);return a.days=[...a.days],t===he.Weekdays?a.days=["mon","tue","wed","thu","fri"]:t===he.Weekends?a.days=["sat","sun"]:t!==he.Once&&e.days.length===0&&(a.days=["mon","tue","wed","thu","fri","sat","sun"]),a.startDate||(a.startDate=new Date(Date.now()).toISOString().split("T")[0]),a.priority=Number(a.priority),n||(a.endDate=void 0),s||(a.startTime=void 0,a.endTime=void 0),a};function jo(e){e.scrollIntoView({behavior:"smooth"})}const Bo={key:1},zo={key:2},Wo={key:0,class:"task-form__optional"},Go={class:"task-form__optional"},qo={key:0,class:"task-form__time"},Yo={key:1,class:"task-form__optional"},Ko={key:2,class:"task-form__optional"},Xo={class:"task-form__additional"},Zo=j({__name:"TaskForm",props:{listId:{type:Number,default:void 0},selectedTask:{type:Object,default:void 0},isHabit:{type:Boolean,default:!1},isToday:{type:Boolean,default:!1},minStartDate:{type:String,default:""}},emits:["submitted"],setup(e,{emit:t}){const n=e,s=x(!1),a=x(!1),o=x(!1),r=ge(),i=de(),m=x(he.Once),u=x(null),f=I(()=>n.listId||n.selectedTask?.listId);je(()=>{m.value=n.isHabit?he.All:he.Once,n.selectedTask?.days?.length&&(m.value=he.Custom),n.selectedTask&&(s.value=!!n.selectedTask.startTime||!!n.selectedTask.endTime,a.value=!!n.selectedTask.endDate)});const c=t,v=()=>({description:n.selectedTask?.description||"",note:n.selectedTask?.note||"",startTime:n.selectedTask?.startTime||"",endTime:n.selectedTask?.endTime||"",endDate:n.selectedTask?.endDate||"",carryOver:n.selectedTask?.carryOver||!1,priority:n.selectedTask?.priority||gt.Normal,days:n.selectedTask?.days||[],startDate:n.selectedTask?.startDate||(n.minStartDate?n.minStartDate:tt()),order:0,archiveDate:0,listId:n.selectedTask?.listId||n.listId,isArchived:!1}),k={description:{required:Ao,maxLength:wo(4)},startTime:{minTime:ut.withMessage("The start time must have a minimum value of 06:00",{$validator:A=>!A||A>="06:00"}),maxTime:ut.withMessage("The start time must have a value less than 21:00",{$validator:A=>!A||A<="21:00"})},endTime:{minTime:ut.withMessage("The end time must have a minimum value of 06:00",{$validator:A=>!A||A>="06:00"}),lessThanStart:ut.withMessage("The end time must be greater than the start time",{$validator:A=>!A||!!g.value.startTime&&A>g.value.startTime}),maxTime:ut.withMessage("The end time must have a value less than 22:00",{$validator:A=>!A||A<="22:00"})}},g=x(v()),T=Vo(k,g),w=x(!1);re(g,()=>{w.value=!1},{deep:!0});const S=async()=>{if(T.value.$validate(),T.value.$error)return;const A=Fo(g.value,m.value,a.value,s.value);try{n.selectedTask?await i.updateTask({...n.selectedTask,...A}):await i.addTask(A),T.value.$reset(),u.value&&jo(u.value),o.value?(g.value=v(),w.value=!0):c("submitted")}catch{const _=n.selectedTask?"The task failed to save.":"Failed to create new task.";r.error({title:"Error",text:_+" Please try again."})}},O=Object.keys(_t).map(A=>({value:Number(A),label:_t[Number(A)]}));return(A,_)=>g.value?(d(),b("form",{key:0,id:"task-form",class:"task-form",novalidate:"","aria-label":"Todo task form",onSubmit:vt(S,["prevent"])},[w.value?(d(),N(Da,{key:0,type:"success",onClose:_[0]||(_[0]=D=>w.value=!0)},{default:E(()=>_[16]||(_[16]=[y("span",null,"New task was added successfully",-1)])),_:1,__:[16]})):C("",!0),y("fieldset",{ref_key:"topOfForm",ref:u},[_[18]||(_[18]=y("legend",null,"Title & note",-1)),h(_e,{modelValue:g.value.description,"onUpdate:modelValue":_[1]||(_[1]=D=>g.value.description=D),class:"task-form__field"},Qe({label:E(()=>[_[17]||(_[17]=M("Title",-1))]),_:2},[p(T).description.$error?{name:"error",fn:E(()=>[M(V(p(T).description.$errors[0].$message),1)]),key:"0"}:void 0]),1032,["modelValue"]),h(ka,{"model-value":g.value.note,"onUpdate:modelValue":_[2]||(_[2]=D=>g.value.note=D),label:"Note"},null,8,["model-value"])],512),y("fieldset",null,[_[19]||(_[19]=y("legend",null,"Select Priority",-1)),h(Ns,{modelValue:g.value.priority,"onUpdate:modelValue":_[3]||(_[3]=D=>g.value.priority=D),class:"task-form__field",options:p(O)},null,8,["modelValue","options"])]),n.isHabit&&!n.selectedTask?(d(),b("fieldset",Bo,[_[20]||(_[20]=y("legend",null,"Repeat",-1)),(d(!0),b(U,null,ce(Object.values(p(he)),D=>(d(),b(U,{key:D},[D===p(he).Once&&e.isHabit?C("",!0):(d(),b("div",{key:D,class:"task-form__frequency-item"},[h(Ut,{modelValue:m.value,"onUpdate:modelValue":_[4]||(_[4]=W=>m.value=W),name:"repeatFrequency","data-testid":"freq-"+D,value:D},{label:E(()=>[M(V(D),1)]),_:2},1032,["modelValue","data-testid","value"])]))],64))),128))])):C("",!0),m.value==="Custom"?(d(),b("fieldset",zo,[_[21]||(_[21]=y("legend",null,"Select days",-1)),h(vo,{days:g.value.days,onInput:_[5]||(_[5]=D=>g.value.days=D)},null,8,["days"])])):C("",!0),y("fieldset",null,[_[26]||(_[26]=y("legend",null,"Optional",-1)),!f.value&&m.value==="Once"?(d(),b("div",Wo,[h(Mt,{modelValue:g.value.carryOver,"onUpdate:modelValue":_[6]||(_[6]=D=>g.value.carryOver=D),label:"Carry over"},null,8,["modelValue"])])):C("",!0),y("div",Go,[h(Mt,{modelValue:s.value,"onUpdate:modelValue":_[7]||(_[7]=D=>s.value=D),label:"Add start and end time"},null,8,["modelValue"]),s.value?(d(),b("div",qo,[h(_e,{modelValue:g.value.startTime,"onUpdate:modelValue":_[8]||(_[8]=D=>g.value.startTime=D),type:"time",class:"task-form__field"},Qe({label:E(()=>[_[22]||(_[22]=M("Start",-1))]),_:2},[p(T).startTime.$error?{name:"error",fn:E(()=>[M(V(p(T).startTime.$errors[0].$message),1)]),key:"0"}:void 0]),1032,["modelValue"]),h(_e,{modelValue:g.value.endTime,"onUpdate:modelValue":_[9]||(_[9]=D=>g.value.endTime=D),type:"time",class:"task-form__field",disabled:!g.value.startTime},Qe({label:E(()=>[_[23]||(_[23]=M("End",-1))]),_:2},[p(T).endTime.$error?{name:"error",fn:E(()=>[M(V(p(T).endTime.$errors[0].$message),1)]),key:"0"}:void 0]),1032,["modelValue","disabled"])])):C("",!0)]),!f.value&&m.value!=="Once"?(d(),b("div",Yo,[h(Mt,{modelValue:a.value,"onUpdate:modelValue":_[10]||(_[10]=D=>a.value=D),label:"Add end date"},null,8,["modelValue"]),a.value?(d(),N(_e,{key:0,modelValue:g.value.endDate,"onUpdate:modelValue":_[11]||(_[11]=D=>g.value.endDate=D),type:"date",class:"task-form__field task-form__end-date",min:p(zt)(new Date(Date.now()+3600*24*1e3)),onKeydown:_[12]||(_[12]=vt(()=>{},["prevent"]))},{label:E(()=>_[24]||(_[24]=[M("End date",-1)])),_:1},8,["modelValue","min"])):C("",!0)])):C("",!0),!f.value&&m.value===p(he).Once&&!n.isToday?(d(),b("div",Ko,[h(_e,{modelValue:g.value.startDate,"onUpdate:modelValue":_[13]||(_[13]=D=>g.value.startDate=D),type:"date",class:"task-form__field task-form__end-date",min:e.minStartDate||p(tt)(),onKeydown:_[14]||(_[14]=vt(()=>{},["prevent"]))},{label:E(()=>_[25]||(_[25]=[M("Start date",-1)])),_:1},8,["modelValue","min"])])):C("",!0)]),y("div",Xo,[f.value?(d(),N(Mt,{key:0,modelValue:o.value,"onUpdate:modelValue":_[15]||(_[15]=D=>o.value=D),label:"Add another task to the list"},null,8,["modelValue"])):C("",!0)])],32)):C("",!0)}}),nt=j({__name:"TaskFormModal",props:{listId:{type:Number,default:void 0},selectedTask:{type:Object,default:void 0},isHabit:{type:Boolean,default:!1},isToday:{type:Boolean,default:!1},minStartDate:{type:String,default:""}},emits:["close","submitted"],setup(e){const t=e,n=I(()=>{const s=t.selectedTask?"Edit":"Add",a=t.isHabit?"Habit":"Task";return s+" "+a});return(s,a)=>(d(),N(Hs,{onClose:a[1]||(a[1]=o=>s.$emit("close"))},{header:E(()=>[M(V(n.value),1)]),main:E(()=>[h(Zo,Ta(t,{onSubmitted:a[0]||(a[0]=o=>{s.$emit("submitted"),s.$emit("close")})}),null,16)]),"footer-buttons":E(()=>[h(et,{form:"task-form"},{default:E(()=>a[2]||(a[2]=[M("Submit",-1)])),_:1,__:[2]})]),_:1}))}}),Jo={key:0},Qo={key:1},er={key:0},Vn=j({__name:"TaskListForm",props:{item:{type:Object,default:null}},emits:["done","addTask","close"],setup(e,{emit:t}){const n=e,s=t,a=ge(),o=de(),r=x(zt(new Date(Date.now()+3600*24*1e3))),i=x({description:n.item?.description||"",startDate:n.item?.startDate||tt(),endDate:n.item?.endDate||""}),m=I(()=>Object.values(i.value).includes("")),u=I(()=>!!n.item);re(()=>i.value.startDate,()=>{try{const c=new Date(i.value.startDate);i.value.endDate||(r.value=zt(new Date(c.getTime()+3600*24*1e3)))}catch{a.error({text:"Fatal error occurred"})}});const f=async()=>{try{if(u.value){const c={id:n.item.id,createdDate:n.item.createdDate,lastModifiedDate:n.item.lastModifiedDate,...i.value,isArchived:!1,isDeleted:!1};await o.updateList(c)}else await o.addList(i.value);s("done")}catch{const c=u.value?"Failed to save changes for list.":"Failed to create new list";a.error({title:"An error occurred",text:c})}};return(c,v)=>(d(),N(Hs,{onClose:v[3]||(v[3]=k=>c.$emit("close"))},{header:E(()=>[e.item?(d(),b("span",Jo,"Edit List")):(d(),b("span",Qo,"Add List"))]),main:E(()=>[y("form",{id:"task-list-form",class:"task-list-form",novalidate:"",onSubmit:vt(f,["prevent"])},[y("div",null,[h(_e,{modelValue:i.value.description,"onUpdate:modelValue":v[0]||(v[0]=k=>i.value.description=k),maxlength:150,"data-testid":"task-list-form-description"},{label:E(()=>v[4]||(v[4]=[M("Description",-1)])),_:1},8,["modelValue"])]),u.value?C("",!0):(d(),b("div",er,[h(_e,{modelValue:i.value.startDate,"onUpdate:modelValue":v[1]||(v[1]=k=>i.value.startDate=k),type:"date","data-testid":"task-list-form-start",min:new Date(Date.now()).toISOString().split("T")[0]},{label:E(()=>v[5]||(v[5]=[M("Start date",-1)])),_:1},8,["modelValue","min"])])),y("div",null,[h(_e,{modelValue:i.value.endDate,"onUpdate:modelValue":v[2]||(v[2]=k=>i.value.endDate=k),type:"date","data-testid":"task-list-form-end",min:r.value,disabled:!i.value.startDate},{label:E(()=>v[6]||(v[6]=[M("End date",-1)])),_:1},8,["modelValue","min","disabled"])])],32)]),"footer-buttons":E(()=>[h(et,{form:"task-list-form",disabled:m.value},{default:E(()=>[e.item?(d(),b(U,{key:0},[M("Edit")],64)):(d(),b(U,{key:1},[M("Create")],64))]),_:1},8,["disabled"])]),_:1}))}}),tr={class:"mobile-header"},nr={class:"mobile-header__menu"},sr={"aria-label":"settings"},ar=j({__name:"MobileHeader",setup(e){const t=Te(),n=$e(),s=ge(),a=de(),o=x("task"),{lists:r,habits:i,allUpcomingTasks:m,tomorrowsTasks:u,todaysTasks:f}=Ce(a),c=x(!1),v=x(!1),k=x(!1),g=x(!1),T=O=>{c.value=!1,o.value=O,O==="task"||O==="habit"?(g.value=O==="habit",v.value=!0):k.value=!0},w=()=>{if(k.value=!1,s.success({text:"You successfully added a new task."}),n.name===R.Lists&&o.value==="list"){a.getAllList(r.value.pagination.page);return}if(n.name===R.Habits&&o.value==="habit"){a.getHabits(i.value.pagination.page);return}if(n.name===R.Today&&o.value==="task"){a.getTodaysTasks(f.value.pagination.page);return}if(n.name===R.Tomorrow&&o.value==="task"){a.getTomorrowTasks(u.value.pagination.page);return}if(n.name===R.Upcoming&&o.value==="task"){a.getUpcoming(m.value.pagination.page);return}},S=()=>{v.value=!1,s.success({text:"You successfully added a new list."}),n.name===R.Lists&&a.getAllList(r.value.pagination.page)};return(O,A)=>(d(),b("div",tr,[y("button",{class:"mobile-header__back-button","aria-label":"Back button",onClick:A[0]||(A[0]=_=>p(t).go(-1))},[h(oe,{name:"chevronLeft"})]),A[6]||(A[6]=y("span",{class:"mobile-header__app-title"},"planner.",-1)),y("div",nr,[y("button",{class:"mobile-header__menu-item","aria-label":"add new item","aria-description":"a button to add a day task, list or habit",onClick:A[1]||(A[1]=_=>c.value=!0)},[h(oe,{name:"addBox"})]),y("button",sr,[h(oe,{name:"settings",onClick:A[2]||(A[2]=_=>p(t).push({name:p(R).Settings}))})]),c.value?(d(),N(mo,{key:0,onClose:A[3]||(A[3]=_=>c.value=!1),onProceed:T})):C("",!0),v.value?(d(),N(nt,{key:1,"is-habit":g.value,onClose:A[4]||(A[4]=_=>v.value=!1),onSubmitted:w},null,8,["is-habit"])):C("",!0),k.value?(d(),N(Vn,{key:2,onDone:S,onClose:A[5]||(A[5]=_=>k.value=!1)})):C("",!0)])]))}}),or={FILE_SIZE:"file_size"},rr={key:0,class:"profile-image__image"},ir=["src"],lr=["src"],ur={key:1,class:"profile-image__svg"},cr={key:2,role:"button",class:"profile-image__add",tabindex:"1"},qt=j({__name:"ProfileImage",props:{src:{type:String,default:""},modelValue:{type:String,default:""},size:{type:String,default:"normal"},viewOnly:{type:Boolean,default:!0}},emits:["error","update:modelValue"],setup(e,{emit:t}){const n=x(),s=x(),a=ge(),o=e,r=t,i=()=>{o.viewOnly||n.value?.click()},m=f=>new Promise((c,v)=>{const k=new FileReader;k.readAsDataURL(f),k.onerror=()=>{a.error({text:"Error occurred processing image."}),v(null)},k.onload=()=>{c(k.result)}}),u=async f=>{const c=f.target;if(!c.files?.length)return;await bt();const v=c.files[0];if(v.size>1024*1024*2){r("error",or.FILE_SIZE),a.error({title:"Error",text:"Image is too large. Maximum image size is 5mb"});return}const k=await m(v);r("update:modelValue",k)};return(f,c)=>(d(),b("div",{class:Q(["profile-image",{"profile-image--borderless":e.modelValue||e.src,[`profile-image--${e.size}`]:!0}]),onClick:i,onKeydown:ht(i,["enter"])},[e.modelValue||e.src?(d(),b("div",rr,[!e.viewOnly&&e.modelValue?(d(),b("img",{key:0,ref_key:"image",ref:s,src:e.modelValue,alt:"your profile image"},null,8,ir)):e.src?(d(),b("img",{key:1,src:e.src,alt:"your profile image"},null,8,lr)):C("",!0)])):(d(),b("div",ur,[h(oe,{name:"person"})])),e.viewOnly?C("",!0):(d(),b("div",cr,[h(oe,{name:"add"}),y("input",{ref_key:"input",ref:n,type:"file",style:{display:"none"},name:"image",accept:"image/gif,image/jpeg,image/jpg,image/png","data-original-title":"upload photos",onChange:c[0]||(c[0]=v=>u(v))},null,544)]))],34))}}),dr={key:0,class:"main-content__profile"},mr={class:"setting-name"},pr={key:1,class:"mobile-main-content__personal"},fr=j({__name:"MainContent",props:{isMobile:{type:Boolean,default:!1},collaspedMenu:{type:Boolean,default:!1}},setup(e){const t=Ne(),n=de(),s=I(()=>`You have ${n.countTodaysTask} tasks today and ${n.countList} active lists.`);return(a,o)=>(d(),b("div",{class:Q({"collasped-menu":e.collaspedMenu,"main-content":!e.isMobile,"mobile-main-content":e.isMobile}),role:"main",tabindex:"0"},[y("div",{class:Q({"main-content__container":!e.isMobile})},[e.isMobile?(d(),b("div",pr,[h(qt,{class:"main-content__profile-image",src:p(t).settings.image,size:"small"},null,8,["src"]),y("div",null,[o[1]||(o[1]=M(" Hello ",-1)),y("strong",null,V(p(t).settings.name),1),o[2]||(o[2]=y("br",null,null,-1)),M(" "+V(s.value),1)])])):(d(),b("div",dr,[y("div",null,V(s.value),1),y("div",null,[y("span",mr,[o[0]||(o[0]=M("Hello ",-1)),y("strong",null,V(p(t).settings.name),1)]),h(qt,{class:"main-content__profile-image",src:p(t).settings.image,size:"small"},null,8,["src"])])])),Fe(a.$slots,"default")],2)],2))}}),ys=()=>{const e=window.navigator.userAgent.toLowerCase();return e.includes("iphone")||e.includes("android")&&e.includes("mobile safari")||e.includes("samsung")&&e.includes("mobile safari")},gr=()=>{const e=Ne(),t=window.matchMedia("(min-width: 768px) and (max-width: 1024px)"),n=window.matchMedia("(min-width: 768px) and (max-width: 1024px) and (orientation: landscape)"),s=window.matchMedia("(min-width: 320px) and (max-width: 480px)"),a=window.matchMedia("(min-width: 481px) and (max-width: 767px)"),o=(r,i)=>{if(r===me.isTabletPortrait&&ys()){e.setMediaMatch(me.isMobilePortrait,i);return}if(r===me.isTabletPortrait&&ys()){e.setMediaMatch(me.isMobileLandscape,i);return}e.setMediaMatch(r,i)};n.matches&&o(me.isTabletLandscape,n.matches),t.matches&&o(me.isTabletPortrait,t.matches),a.matches&&o(me.isMobileLandscape,a.matches),s.matches&&o(me.isMobilePortrait,s.matches),t.addEventListener("change",r=>{o(me.isTabletPortrait,r.matches)}),n.addEventListener("change",r=>{o(me.isTabletLandscape,r.matches)}),a.addEventListener("change",r=>{o(me.isMobileLandscape,r.matches)}),s.addEventListener("change",r=>{o(me.isMobilePortrait,r.matches)})},vr={class:"mobile-footer-menu-count"},yr=j({__name:"MobileFooterMenuCount",props:{count:{type:Number,default:0}},setup(e){return(t,n)=>(d(),b("div",vr,V(e.count),1))}}),hr=["id"],br=j({__name:"MobileFooterMenuItem",props:{item:{type:Object,required:!0}},setup(e){const t=Te(),n=$e();return(s,a)=>(d(),b("div",{class:Q(["mobile-footer-menu-item",{"mobile-footer-menu-item--selected":p(n).name===e.item.pageRoute.name}]),role:"button",tabindex:"0",onClick:a[0]||(a[0]=o=>p(t).push({name:e.item.pageRoute.name}))},[y("div",null,[h(oe,{name:e.item.icon,"aria-labelledby":"menu-footer-"+e.item.label},null,8,["name","aria-labelledby"]),y("div",{id:"menu-footer-"+e.item.label},V(e.item.label),9,hr)]),e.item.count?(d(),N(yr,{key:0,class:"mobile-footer-menu-item__count",count:e.item.count},null,8,["count"])):C("",!0)],2))}}),_r={class:"mobile-footer"},kr=j({__name:"MobileFooter",setup(e){const t=[{label:"Today",icon:"today",pageRoute:{name:R.Today}},{label:"Upcoming",icon:"eventUpcoming",pageRoute:{name:R.Upcoming}},{label:"Habits",icon:"eventRepeat",pageRoute:{name:R.Habits}},{label:"Lists",icon:"list",pageRoute:{name:R.Lists}}];return(n,s)=>(d(),b("div",_r,[(d(),b(U,null,ce(t,a=>h(br,{key:a.pageRoute.name,item:a},null,8,["item"])),64))]))}});function Tr(e){return new Worker(""+new URL("cleanup-9w_CdboO.js",import.meta.url).href,{name:e?.name})}function $r(){if(window.Worker){const e=new Tr;e.onmessage=t=>{console.log(t.data)},e.postMessage("start cleanup worker")}}const wr=j({__name:"App",setup(e){const t=$e(),n=I(()=>!!t.name),s=I(()=>t.name===R.Setup),a=Ne(),o=de(),{isMobile:r}=Ce(a);$r(),je(async()=>{gr(),await bt(),o.getCount()});const i=x(!1),m=f=>{i.value=f},u=I(()=>r.value?ar:lo);return(f,c)=>{const v=Hn("router-view");return d(),b("div",{class:Q({"theme-fun-cat":p(a).settings?.theme==="fun-cat"})},[p(a).globalLoading?(d(),b(U,{key:0},[M("Loading...")],64)):n.value?(d(),b(U,{key:1},[s.value?(d(),N(v,{key:0})):(d(),b("div",{key:1,class:Q({"page-container":!p(r)})},[(d(),N(wa(u.value),{onCollasped:c[0]||(c[0]=k=>m(k))},null,32)),$a([i.value,p(r)],()=>h(fr,{"collasped-menu":i.value,"is-mobile":p(r)},{default:E(()=>[h(v)]),_:1},8,["collasped-menu","is-mobile"]),c,1),p(r)?(d(),N(kr,{key:0})):C("",!0)],2))],64)):(d(),N(v,{key:2})),h(xa)],2)}}}),Sr=new Set(["title","titleTemplate","script","style","noscript"]),Ft=new Set(["base","meta","link","style","script","noscript"]),Ar=new Set(["title","titleTemplate","templateParams","base","htmlAttrs","bodyAttrs","meta","link","style","script","noscript"]),Er=new Set(["base","title","titleTemplate","bodyAttrs","htmlAttrs","templateParams"]),Ks=new Set(["tagPosition","tagPriority","tagDuplicateStrategy","children","innerHTML","textContent","processTemplateParams"]),Lr=typeof window<"u";function Yt(e){let t=9;for(let n=0;n<e.length;)t=Math.imul(t^e.charCodeAt(n++),9**9);return((t^t>>>9)+65536).toString(16).substring(1,8).toLowerCase()}function Dn(e){if(e._h)return e._h;if(e._d)return Yt(e._d);let t=`${e.tag}:${e.textContent||e.innerHTML||""}:`;for(const n in e.props)t+=`${n}:${String(e.props[n])},`;return Yt(t)}function Cr(e,t){return e instanceof Promise?e.then(t):t(e)}function xn(e,t,n,s){const a=s||Zs(typeof t=="object"&&typeof t!="function"&&!(t instanceof Promise)?{...t}:{[e==="script"||e==="noscript"||e==="style"?"innerHTML":"textContent"]:t},e==="templateParams"||e==="titleTemplate");if(a instanceof Promise)return a.then(r=>xn(e,t,n,r));const o={tag:e,props:a};for(const r of Ks){const i=o.props[r]!==void 0?o.props[r]:n[r];i!==void 0&&((!(r==="innerHTML"||r==="textContent"||r==="children")||Sr.has(o.tag))&&(o[r==="children"?"innerHTML":r]=i),delete o.props[r])}return o.props.body&&(o.tagPosition="bodyClose",delete o.props.body),o.tag==="script"&&typeof o.innerHTML=="object"&&(o.innerHTML=JSON.stringify(o.innerHTML),o.props.type=o.props.type||"application/json"),Array.isArray(o.props.content)?o.props.content.map(r=>({...o,props:{...o.props,content:r}})):o}function Or(e,t){const n=e==="class"?" ":";";return t&&typeof t=="object"&&!Array.isArray(t)&&(t=Object.entries(t).filter(([,s])=>s).map(([s,a])=>e==="style"?`${s}:${a}`:s)),String(Array.isArray(t)?t.join(n):t)?.split(n).filter(s=>!!s.trim()).join(n)}function Xs(e,t,n,s){for(let a=s;a<n.length;a+=1){const o=n[a];if(o==="class"||o==="style"){e[o]=Or(o,e[o]);continue}if(e[o]instanceof Promise)return e[o].then(r=>(e[o]=r,Xs(e,t,n,a)));if(!t&&!Ks.has(o)){const r=String(e[o]),i=o.startsWith("data-");r==="true"||r===""?e[o]=i?"true":!0:e[o]||(i&&r==="false"?e[o]="false":delete e[o])}}}function Zs(e,t=!1){const n=Xs(e,t,Object.keys(e),0);return n instanceof Promise?n.then(()=>e):e}const Rr=10;function Js(e,t,n){for(let s=n;s<t.length;s+=1){const a=t[s];if(a instanceof Promise)return a.then(o=>(t[s]=o,Js(e,t,s)));Array.isArray(a)?e.push(...a):e.push(a)}}function Pr(e){const t=[],n=e.resolvedInput;for(const a in n){if(!Object.prototype.hasOwnProperty.call(n,a))continue;const o=n[a];if(!(o===void 0||!Ar.has(a))){if(Array.isArray(o)){for(const r of o)t.push(xn(a,r,e));continue}t.push(xn(a,o,e))}}if(t.length===0)return[];const s=[];return Cr(Js(s,t,0),()=>s.map((a,o)=>(a._e=e._i,e.mode&&(a._m=e.mode),a._p=(e._i<<Rr)+o,a)))}const hs=new Set(["onload","onerror","onabort","onprogress","onloadstart"]),bs={base:-10,title:10},_s={critical:-80,high:-10,low:20};function Kt(e){const t=e.tagPriority;if(typeof t=="number")return t;let n=100;return e.tag==="meta"?e.props["http-equiv"]==="content-security-policy"?n=-30:e.props.charset?n=-20:e.props.name==="viewport"&&(n=-15):e.tag==="link"&&e.props.rel==="preconnect"?n=20:e.tag in bs&&(n=bs[e.tag]),t&&t in _s?n+_s[t]:n}const Dr=[{prefix:"before:",offset:-1},{prefix:"after:",offset:1}],xr=["name","property","http-equiv"];function Qs(e){const{props:t,tag:n}=e;if(Er.has(n))return n;if(n==="link"&&t.rel==="canonical")return"canonical";if(t.charset)return"charset";if(t.id)return`${n}:id:${t.id}`;for(const s of xr)if(t[s]!==void 0)return`${n}:${s}:${t[s]}`;return!1}const De="%separator";function Mr(e,t,n=!1){let s;if(t==="s"||t==="pageTitle")s=e.pageTitle;else if(t.includes(".")){const a=t.indexOf(".");s=e[t.substring(0,a)]?.[t.substring(a+1)]}else s=e[t];if(s!==void 0)return n?(s||"").replace(/"/g,'\\"'):s||""}const Ir=new RegExp(`${De}(?:\\s*${De})*`,"g");function It(e,t,n,s=!1){if(typeof e!="string"||!e.includes("%"))return e;let a=e;try{a=decodeURI(e)}catch{}const o=a.match(/%\w+(?:\.\w+)?/g);if(!o)return e;const r=e.includes(De);return e=e.replace(/%\w+(?:\.\w+)?/g,i=>{if(i===De||!o.includes(i))return i;const m=Mr(t,i.slice(1),s);return m!==void 0?m:i}).trim(),r&&(e.endsWith(De)&&(e=e.slice(0,-De.length)),e.startsWith(De)&&(e=e.slice(De.length)),e=e.replace(Ir,n).trim()),e}function ks(e,t){return e==null?t||null:typeof e=="function"?e(t):e}async function Nr(e,t={}){const n=t.document||e.resolvedOptions.document;if(!n||!e.dirty)return;const s={shouldRender:!0,tags:[]};if(await e.hooks.callHook("dom:beforeRender",s),!!s.shouldRender)return e._domUpdatePromise||(e._domUpdatePromise=new Promise(async a=>{const o=(await e.resolveTags()).map(c=>({tag:c,id:Ft.has(c.tag)?Dn(c):c.tag,shouldRender:!0}));let r=e._dom;if(!r){r={elMap:{htmlAttrs:n.documentElement,bodyAttrs:n.body}};const c=new Set;for(const v of["body","head"]){const k=n[v]?.children;for(const g of k){const T=g.tagName.toLowerCase();if(!Ft.has(T))continue;const w={tag:T,props:await Zs(g.getAttributeNames().reduce((_,D)=>({..._,[D]:g.getAttribute(D)}),{})),innerHTML:g.innerHTML},S=Qs(w);let O=S,A=1;for(;O&&c.has(O);)O=`${S}:${A++}`;O&&(w._d=O,c.add(O)),r.elMap[g.getAttribute("data-hid")||Dn(w)]=g}}}r.pendingSideEffects={...r.sideEffects},r.sideEffects={};function i(c,v,k){const g=`${c}:${v}`;r.sideEffects[g]=k,delete r.pendingSideEffects[g]}function m({id:c,$el:v,tag:k}){const g=k.tag.endsWith("Attrs");if(r.elMap[c]=v,g||(k.textContent&&k.textContent!==v.textContent&&(v.textContent=k.textContent),k.innerHTML&&k.innerHTML!==v.innerHTML&&(v.innerHTML=k.innerHTML),i(c,"el",()=>{r.elMap[c]?.remove(),delete r.elMap[c]})),k._eventHandlers)for(const T in k._eventHandlers)Object.prototype.hasOwnProperty.call(k._eventHandlers,T)&&v.getAttribute(`data-${T}`)!==""&&((k.tag==="bodyAttrs"?n.defaultView:v).addEventListener(T.substring(2),k._eventHandlers[T].bind(v)),v.setAttribute(`data-${T}`,""));for(const T in k.props){if(!Object.prototype.hasOwnProperty.call(k.props,T))continue;const w=k.props[T],S=`attr:${T}`;if(T==="class"){if(!w)continue;for(const O of w.split(" "))g&&i(c,`${S}:${O}`,()=>v.classList.remove(O)),!v.classList.contains(O)&&v.classList.add(O)}else if(T==="style"){if(!w)continue;for(const O of w.split(";")){const A=O.indexOf(":"),_=O.substring(0,A).trim(),D=O.substring(A+1).trim();i(c,`${S}:${_}`,()=>{v.style.removeProperty(_)}),v.style.setProperty(_,D)}}else v.getAttribute(T)!==w&&v.setAttribute(T,w===!0?"":String(w)),g&&i(c,S,()=>v.removeAttribute(T))}}const u=[],f={bodyClose:void 0,bodyOpen:void 0,head:void 0};for(const c of o){const{tag:v,shouldRender:k,id:g}=c;if(k){if(v.tag==="title"){n.title=v.textContent;continue}c.$el=c.$el||r.elMap[g],c.$el?m(c):Ft.has(v.tag)&&u.push(c)}}for(const c of u){const v=c.tag.tagPosition||"head";c.$el=n.createElement(c.tag.tag),m(c),f[v]=f[v]||n.createDocumentFragment(),f[v].appendChild(c.$el)}for(const c of o)await e.hooks.callHook("dom:renderTag",c,n,i);f.head&&n.head.appendChild(f.head),f.bodyOpen&&n.body.insertBefore(f.bodyOpen,n.body.firstChild),f.bodyClose&&n.body.appendChild(f.bodyClose);for(const c in r.pendingSideEffects)r.pendingSideEffects[c]();e._dom=r,await e.hooks.callHook("dom:rendered",{renders:o}),a()}).finally(()=>{e._domUpdatePromise=void 0,e.dirty=!1})),e._domUpdatePromise}function Hr(e,t={}){const n=t.delayFn||(s=>setTimeout(s,10));return e._domDebouncedUpdatePromise=e._domDebouncedUpdatePromise||new Promise(s=>n(()=>Nr(e,t).then(()=>{delete e._domDebouncedUpdatePromise,s()})))}function Ur(e){return t=>{const n=t.resolvedOptions.document?.head.querySelector('script[id="unhead:payload"]')?.innerHTML||!1;return n&&t.push(JSON.parse(n)),{mode:"client",hooks:{"entries:updated":s=>{Hr(s,e)}}}}}const Vr=new Set(["templateParams","htmlAttrs","bodyAttrs"]),Fr={hooks:{"tag:normalise":({tag:e})=>{e.props.hid&&(e.key=e.props.hid,delete e.props.hid),e.props.vmid&&(e.key=e.props.vmid,delete e.props.vmid),e.props.key&&(e.key=e.props.key,delete e.props.key);const t=Qs(e);t&&!t.startsWith("meta:og:")&&!t.startsWith("meta:twitter:")&&delete e.key;const n=t||(e.key?`${e.tag}:${e.key}`:!1);n&&(e._d=n)},"tags:resolve":e=>{const t=Object.create(null);for(const s of e.tags){const a=(s.key?`${s.tag}:${s.key}`:s._d)||Dn(s),o=t[a];if(o){let i=s?.tagDuplicateStrategy;if(!i&&Vr.has(s.tag)&&(i="merge"),i==="merge"){const m=o.props;m.style&&s.props.style&&(m.style[m.style.length-1]!==";"&&(m.style+=";"),s.props.style=`${m.style} ${s.props.style}`),m.class&&s.props.class?s.props.class=`${m.class} ${s.props.class}`:m.class&&(s.props.class=m.class),t[a].props={...m,...s.props};continue}else if(s._e===o._e){o._duped=o._duped||[],s._d=`${o._d}:${o._duped.length+1}`,o._duped.push(s);continue}else if(Kt(s)>Kt(o))continue}if(!(s.innerHTML||s.textContent||Object.keys(s.props).length!==0)&&Ft.has(s.tag)){delete t[a];continue}t[a]=s}const n=[];for(const s in t){const a=t[s],o=a._duped;n.push(a),o&&(delete a._duped,n.push(...o))}e.tags=n,e.tags=e.tags.filter(s=>!(s.tag==="meta"&&(s.props.name||s.props.property)&&!s.props.content))}}},jr=new Set(["script","link","bodyAttrs"]),Br=e=>({hooks:{"tags:resolve":t=>{for(const n of t.tags){if(!jr.has(n.tag))continue;const s=n.props;for(const a in s){if(a[0]!=="o"||a[1]!=="n"||!Object.prototype.hasOwnProperty.call(s,a))continue;const o=s[a];typeof o=="function"&&(e.ssr&&hs.has(a)?s[a]=`this.dataset.${a}fired = true`:delete s[a],n._eventHandlers=n._eventHandlers||{},n._eventHandlers[a]=o)}e.ssr&&n._eventHandlers&&(n.props.src||n.props.href)&&(n.key=n.key||Yt(n.props.src||n.props.href))}},"dom:renderTag":({$el:t,tag:n})=>{const s=t?.dataset;if(s)for(const a in s){if(!a.endsWith("fired"))continue;const o=a.slice(0,-5);hs.has(o)&&n._eventHandlers?.[o]?.call(t,new Event(o.substring(2)))}}}}),zr=new Set(["link","style","script","noscript"]),Wr={hooks:{"tag:normalise":({tag:e})=>{e.key&&zr.has(e.tag)&&(e.props["data-hid"]=e._h=Yt(e.key))}}},Gr={mode:"server",hooks:{"tags:beforeResolve":e=>{const t={};let n=!1;for(const s of e.tags)s._m!=="server"||s.tag!=="titleTemplate"&&s.tag!=="templateParams"&&s.tag!=="title"||(t[s.tag]=s.tag==="title"||s.tag==="titleTemplate"?s.textContent:s.props,n=!0);n&&e.tags.push({tag:"script",innerHTML:JSON.stringify(t),props:{id:"unhead:payload",type:"application/json"}})}}},qr={hooks:{"tags:resolve":e=>{for(const t of e.tags)if(typeof t.tagPriority=="string")for(const{prefix:n,offset:s}of Dr){if(!t.tagPriority.startsWith(n))continue;const a=t.tagPriority.substring(n.length),o=e.tags.find(r=>r._d===a)?._p;if(o!==void 0){t._p=o+s;break}}e.tags.sort((t,n)=>{const s=Kt(t),a=Kt(n);return s<a?-1:s>a?1:t._p-n._p})}}},Yr={meta:"content",link:"href",htmlAttrs:"lang"},Kr=["innerHTML","textContent"],Xr=e=>({hooks:{"tags:resolve":t=>{const{tags:n}=t;let s;for(let r=0;r<n.length;r+=1)n[r].tag==="templateParams"&&(s=t.tags.splice(r,1)[0].props,r-=1);const a=s||{},o=a.separator||"|";delete a.separator,a.pageTitle=It(a.pageTitle||n.find(r=>r.tag==="title")?.textContent||"",a,o);for(const r of n){if(r.processTemplateParams===!1)continue;const i=Yr[r.tag];if(i&&typeof r.props[i]=="string")r.props[i]=It(r.props[i],a,o);else if(r.processTemplateParams||r.tag==="titleTemplate"||r.tag==="title")for(const m of Kr)typeof r[m]=="string"&&(r[m]=It(r[m],a,o,r.tag==="script"&&r.props.type.endsWith("json")))}e._templateParams=a,e._separator=o},"tags:afterResolve":({tags:t})=>{let n;for(let s=0;s<t.length;s+=1){const a=t[s];a.tag==="title"&&a.processTemplateParams!==!1&&(n=a)}n?.textContent&&(n.textContent=It(n.textContent,e._templateParams,e._separator))}}}),Zr={hooks:{"tags:resolve":e=>{const{tags:t}=e;let n,s;for(let a=0;a<t.length;a+=1){const o=t[a];o.tag==="title"?n=o:o.tag==="titleTemplate"&&(s=o)}if(s&&n){const a=ks(s.textContent,n.textContent);a!==null?n.textContent=a||n.textContent:e.tags.splice(e.tags.indexOf(n),1)}else if(s){const a=ks(s.textContent);a!==null&&(s.textContent=a,s.tag="title",s=void 0)}s&&e.tags.splice(e.tags.indexOf(s),1)}}},Jr={hooks:{"tags:afterResolve":e=>{for(const t of e.tags)typeof t.innerHTML=="string"&&(t.innerHTML&&(t.props.type==="application/ld+json"||t.props.type==="application/json")?t.innerHTML=t.innerHTML.replace(/</g,"\\u003C"):t.innerHTML=t.innerHTML.replace(new RegExp(`</${t.tag}`,"g"),`<\\/${t.tag}`))}}};let ea;function Qr(e={}){const t=ei(e);return t.use(Ur()),ea=t}function Ts(e,t){return!e||e==="server"&&t||e==="client"&&!t}function ei(e={}){const t=Fa();t.addHooks(e.hooks||{}),e.document=e.document||(Lr?document:void 0);const n=!e.document,s=()=>{i.dirty=!0,t.callHook("entries:updated",i)};let a=0,o=[];const r=[],i={plugins:r,dirty:!1,resolvedOptions:e,hooks:t,headEntries(){return o},use(m){const u=typeof m=="function"?m(i):m;(!u.key||!r.some(f=>f.key===u.key))&&(r.push(u),Ts(u.mode,n)&&t.addHooks(u.hooks||{}))},push(m,u){delete u?.head;const f={_i:a++,input:m,...u};return Ts(f.mode,n)&&(o.push(f),s()),{dispose(){o=o.filter(c=>c._i!==f._i),s()},patch(c){for(const v of o)v._i===f._i&&(v.input=f.input=c);s()}}},async resolveTags(){const m={tags:[],entries:[...o]};await t.callHook("entries:resolve",m);for(const u of m.entries){const f=u.resolvedInput||u.input;if(u.resolvedInput=await(u.transform?u.transform(f):f),u.resolvedInput)for(const c of await Pr(u)){const v={tag:c,entry:u,resolvedOptions:i.resolvedOptions};await t.callHook("tag:normalise",v),m.tags.push(v.tag)}}return await t.callHook("tags:beforeResolve",m),await t.callHook("tags:resolve",m),await t.callHook("tags:afterResolve",m),m.tags},ssr:n};return[Fr,Gr,Br,Wr,qr,Xr,Zr,Jr,...e?.plugins||[]].forEach(m=>i.use(m)),i.hooks.callHook("init",i),i}function ti(){return ea}const ni=Sa[0]==="3";function si(e){return typeof e=="function"?e():p(e)}function Xt(e){if(e instanceof Promise||e instanceof Date||e instanceof RegExp)return e;const t=si(e);if(!e||!t)return t;if(Array.isArray(t))return t.map(n=>Xt(n));if(typeof t=="object"){const n={};for(const s in t)if(Object.prototype.hasOwnProperty.call(t,s)){if(s==="titleTemplate"||s[0]==="o"&&s[1]==="n"){n[s]=p(t[s]);continue}n[s]=Xt(t[s])}return n}return t}const ai={hooks:{"entries:resolve":e=>{for(const t of e.entries)t.resolvedInput=Xt(t.input)}}},ta="usehead";function oi(e){return{install(n){ni&&(n.config.globalProperties.$unhead=e,n.config.globalProperties.$head=e,n.provide(ta,e))}}.install}function ri(e={}){e.domDelayFn=e.domDelayFn||(n=>bt(()=>setTimeout(()=>n(),0)));const t=Qr(e);return t.use(ai),t.install=oi(t),t}const $s=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ws="__unhead_injection_handler__";function ii(){return ws in $s?$s[ws]():yt(ta)||ti()}function Ue(e,t={}){const n=t.head||ii();if(n)return n.ssr?n.push(e,t):li(n,e,t)}function li(e,t,n={}){const s=x(!1),a=x({});Aa(()=>{a.value=s.value?{}:Xt(t)});const o=e.push(a.value,n);return re(a,i=>{o.patch(i)}),Ms()&&(Is(()=>{o.dispose()}),Ea(()=>{s.value=!0}),La(()=>{s.value=!1})),o}function ui(e){const t=e;return t.headTags=e.resolveTags,t.addEntry=e.push,t.addHeadObjs=e.push,t.addReactiveEntry=(n,s)=>{const a=Ue(n,s);return a!==void 0?a.dispose:()=>{}},t.removeHeadObjs=()=>{},t.updateDOM=()=>{e.hooks.callHook("entries:updated",e)},t.unhead=e,t}function ci(e,t){const n=ri({});return ui(n)}const di={class:"page-title__main"},mi={class:"page-title__main-content"},pi={class:"page-title__actions"},fi={key:0,class:"page-title__date","data-testid":"page-date"},gi={key:1,class:"page-title__subtitle","data-testid":"page-subtitle"},Be=j({__name:"PageTitle",props:{id:{type:Number,default:0},date:{type:String,default:""},title:{type:String,required:!0},subtitle:{type:String,default:""}},setup(e){return(t,n)=>(d(),b("header",{class:Q(["page-title",{"page-title--has-date":!!e.date}])},[y("div",di,[y("div",mi,[y("h1",null,[M(V(e.title)+" ",1),y("span",pi,[Fe(t.$slots,"actions")])]),e.date?(d(),b("p",fi,V(e.date),1)):C("",!0),e.subtitle||t.$slots.subtitle?(d(),b("p",gi,[Fe(t.$slots,"subtitle"),t.$slots.subtitle?C("",!0):(d(),b(U,{key:0},[M(V(e.subtitle),1)],64))])):C("",!0)])]),Fe(t.$slots,"additional")],2))}}),vi=""+new URL("../empty-list-missing-cat.png",import.meta.url).href,yi=""+new URL("../empty-list.svg",import.meta.url).href,hi={class:"empty-list"},bi={key:0},_i={key:1},ki=j({__name:"EmptyList",props:{isTaskList:{type:Boolean,default:!0}},setup(e){return(t,n)=>(d(),b("div",hi,[n[0]||(n[0]=y("img",{class:"empty-list--fun-cat",src:vi,alt:"empty list"},null,-1)),n[1]||(n[1]=y("img",{class:"empty-list--default-image",src:yi,alt:"empty list"},null,-1)),y("p",null,[e.isTaskList?(d(),b("span",bi,"You have no tasks in this list.")):(d(),b("span",_i,"You have no lists at the moment."))])]))}}),$t=Ie(ki,[["__scopeId","data-v-e140825f"]]),Ti={class:"progress-bar"},$i={class:"progress-bar__progress"},wi={class:"progress-bar__info"},Si=j({__name:"ProgressBar",props:{completed:{type:Number,default:0},length:{type:Number,default:0}},setup(e){const t=e,n=I(()=>t.completed>t.length||t.completed===0?"0%":t.completed/t.length*100+"%");return(s,a)=>(d(),b("div",Ti,[y("div",$i,[y("div",{class:"progress-bar--progress-complete",style:Ca({width:n.value})},null,4)]),y("span",wi,[e.completed===e.length?(d(),N(oe,{key:0,name:"doneAll"})):C("",!0),y("span",null,V(e.completed)+" / "+V(e.length)+" Tasks done",1)])]))}}),Ai={},Ei={class:"task-group"};function Li(e,t){return d(),b("div",Ei,[y("ul",null,[Fe(e.$slots,"default")])])}const on=Ie(Ai,[["render",Li]]),Ci=""+new URL("../cat_done.png",import.meta.url).href,Oi=""+new URL("../cat_open.png",import.meta.url).href,Ri=["aria-label"],Pi=j({__name:"ModifyButton",props:{label:{type:String,default:""},icon:{type:String,required:!0,validator:e=>["edit","trash","chevronRight","progress"].includes(e)}},setup(e){const t=e,n=I(()=>t.label?t.label:t.icon);return(s,a)=>(d(),b("button",{class:Q(["modify-button",{"modify-button--delete":e.icon==="trash"}]),"aria-label":n.value},[h(oe,{"aria-hidden":"true",name:e.icon},null,8,["name"])],10,Ri))}}),ke=Ie(Pi,[["__scopeId","data-v-b7eab975"]]),Di={class:"task__content"},xi={key:0,src:Ci,style:{width:"40px",height:"40px"},alt:""},Mi={key:1,src:Oi,alt:"",style:{width:"40px",height:"40px"}},Ii={class:"task__main"},Ni={class:"task__title"},Hi={class:"task__details"},Ui={key:0,class:"task__time"},Vi={key:0},Fi={class:"task__labels"},ji={key:0},Bi={key:0},zi={key:1},Wi={class:"task__goto"},rn=j({__name:"TaskItem",props:{task:{type:Object,required:!0},editable:{type:Boolean,default:!0},editState:{type:Boolean,default:!1},showChips:{type:Boolean,default:!0},isToday:{type:Boolean,default:!1},returnUrl:{type:String,default:""}},emits:["status-toggle"],setup(e){const t=e,n=Te(),s=m=>_t[m],a=Ne(),o={[gt.Trivial]:"var(--color-grey-200)",[gt.Normal]:"var(--color-blue-200)",[gt.Medium]:"var(--color-orange-200)",[gt.High]:"var(--color-red-200)"},r=m=>{n.push({name:R.TaskOverview,params:{id:m},query:{returnUrl:t.returnUrl}})},i=m=>Fs(m);return(m,u)=>(d(),b("li",{class:Q(["task",{"task--done":e.task.status===p(pe).Done}])},[y("div",Di,[Fe(m.$slots,"toggle-checkbox",{},()=>[e.editState&&p(a).settings.theme==="fun-cat"?(d(),b("button",{key:0,"aria-label":"item state toggle",onClick:u[0]||(u[0]=f=>m.$emit("status-toggle"))},[e.task.status===p(pe).Done?(d(),b("img",xi)):(d(),b("img",Mi))])):e.editState?(d(),b("div",{key:1,class:"task__state",role:"button","aria-label":"item state toggle",onClick:u[1]||(u[1]=f=>m.$emit("status-toggle")),onKeydown:u[2]||(u[2]=ht(f=>m.$emit("status-toggle"),["enter"]))},null,32)):C("",!0)]),y("div",Ii,[y("p",Ni,V(e.task.description),1),y("div",Hi,[e.task.startTime?(d(),b("span",Ui,[h(Bt,null,{default:E(()=>[M(V(e.task.startTime),1)]),_:1}),e.task.endTime?(d(),b("span",Vi,[u[4]||(u[4]=M("- ",-1)),h(Bt,null,{default:E(()=>[M(V(e.task.endTime),1)]),_:1})])):C("",!0)])):C("",!0)]),y("div",Fi,[h(Je,{"background-color":o[e.task.priority],class:Q([`task__priority--${s(e.task.priority).toLowerCase()}`]),label:s(e.task.priority)},null,8,["background-color","class","label"]),e.showChips?(d(),b(U,{key:0},[e.task.status===p(pe).Progress?(d(),N(Je,{key:0,label:"In progress","background-color":"var(--color-yellow-300)"})):C("",!0),e.task.carryOver?(d(),N(Je,{key:1,label:"CarryOver","background-color":"var(--color-teal-300)"})):C("",!0),e.task.days?.length?(d(),N(Je,{key:2,label:"Habit","background-color":"var(--color-rose-300)"})):C("",!0),e.editState&&e.task.endTime&&p(ja)(e.task.endTime)?(d(),N(Je,{key:3,label:"Overdue",class:"task__labels--overdue"})):C("",!0)],64)):C("",!0)]),!e.showChips&&e.task.days?(d(),b("div",ji,[y("small",null,[u[5]||(u[5]=y("strong",null,"Days: ",-1)),(d(!0),b(U,null,ce(e.task.days,(f,c)=>(d(),b(U,{key:f},[y("span",null,V(p(Vs)[f]),1),c<e.task.days.length-1?(d(),b("span",Bi,", ")):C("",!0)],64))),128))]),u[6]||(u[6]=y("br",null,null,-1))])):C("",!0),e.editState?C("",!0):(d(),b("div",zi,[y("small",null,[u[7]||(u[7]=y("strong",null,"Start date: ",-1)),M(V(i(e.task.startDate)),1)])]))]),y("div",Wi,[h(ke,{icon:"chevronRight",label:"go to item "+e.task.description,onClick:u[3]||(u[3]=()=>r(e.task.id))},null,8,["label"])])])],2))}}),wt=()=>{const e=ge(),t=de(),n=Te(),s=$e(),a=I(()=>s.query.sort==="priority"),o=I(()=>s.query.sort==="completion"),r=I(()=>s.query.sort==="action"),i=async(f,c)=>{try{await t.changeTaskStatus(f,c)}catch(v){throw e.error({title:"Error changing the status",text:"There was an error changing the status of the selected task."}),v}};return{byPriority:a,byCompletion:o,sortBy:f=>{const c=s.query;!f||c.sort===f?n.push({query:{...c,sort:void 0}}):n.push({query:{...c,sort:f}})},byAction:r,changeStatus:i,toggleProgress:f=>{f.status!==pe.Progress?i(f,pe.Progress):i(f,pe.Open)}}},Gi={},qi={class:"page-controls"},Yi={class:"page-controls__content"};function Ki(e,t){return d(),b("div",qi,[y("div",Yi,[Fe(e.$slots,"default")])])}const xe=Ie(Gi,[["render",Ki]]),Xi={class:"add-button"},Zi=j({__name:"AddButton",props:{label:{type:String,default:""}},setup(e){return(t,n)=>(d(),b("button",Xi,[h(oe,{"aria-hidden":"true",name:"add"}),M(" Add"+V(e.label?` ${e.label}`:""),1)]))}}),St=Ie(Zi,[["__scopeId","data-v-3c7ca739"]]),Ji=["aria-label"],Qi={"aria-hidden":"true"},el=j({__name:"ActionButton",props:{label:{type:String,required:!0},unSelectedLabel:{type:String,default:""},selected:{type:Boolean,default:!1},a11yLabel:{type:String,default:""},icon:{type:String,default:""}},setup(e){return(t,n)=>(d(),b("button",{class:Q(["action-button",{"action-button--selected":e.selected}]),"aria-label":e.a11yLabel||e.label},[e.icon?(d(),N(oe,{key:0,"aria-hidden":"true",name:e.icon},null,8,["name"])):C("",!0),y("span",Qi,V(e.label),1)],10,Ji))}}),Me=Ie(el,[["__scopeId","data-v-1b92d8e6"]]),tl={class:"today-view"},nl={class:"today-view__content"},sl="Today",al=j({__name:"TodayView",setup(e){Ue({title:ze[R.Today].title});const t=$e(),n=de(),{todaysTasks:s}=Ce(n),{changeStatus:a,toggleProgress:o,sortBy:r,byPriority:i,byCompletion:m,byAction:u}=wt(),f=ge(),c=x(!1),v=x([]),k=I(()=>v.value.map(W=>s.value.data.find(z=>z.id===Number(W)))),g=new Date().toDateString(),T=x(0),w=I(()=>{const W=s.value.data.filter(z=>z.status===pe.Done).length;return T.value+W});je(async()=>{await S(nn(t))});const S=async W=>{await n.getTodaysTasks(W,i.value,m.value)};re([i,m],()=>{S(s.value.pagination.page)});const O=async W=>{try{await S(W)}catch{f.error({text:"Could not fetch next page. Please try again later."})}},A=()=>{c.value=!1,S(s.value.pagination.page),f.success({text:"You successfully added a new task."})},_=()=>{k.value.length!==0&&(k.value.forEach(W=>{W&&o(W)}),v.value.length=0)},D=async()=>{const W=[];if(k.value.length!==0){k.value.forEach(z=>{z&&W.push(n.deleteTask(z.id))});try{await Promise.all(W)}catch{f.success({text:"Successfully deleted selected tasks"})}S(1),v.value.length=0}};return(W,z)=>(d(),b(U,null,[y("div",tl,[h(Be,{title:sl,date:p(g)},Qe({_:2},[p(s).pagination.total?{name:"additional",fn:E(()=>[h(Si,{completed:w.value,length:p(s).pagination.total},null,8,["completed","length"])]),key:"0"}:void 0]),1032,["date"]),h(xe,null,{default:E(()=>[h(St,{label:"task",onClick:z[0]||(z[0]=ee=>c.value=!0)}),z[7]||(z[7]=y("span",{class:"sorting-divider"},"|",-1)),h(Me,{"a11y-label":"Sort by Priority",icon:"sort",label:"Priority",selected:p(i),onClick:z[1]||(z[1]=ee=>p(r)("priority"))},null,8,["selected"]),h(Me,{"a11y-label":"Order by completion",icon:"sort",label:"Incomplete first",selected:p(m),onClick:z[2]||(z[2]=()=>p(r)("completion"))},null,8,["selected"]),h(Me,{"a11y-label":"Actions: delete and mark as progress",icon:"sort",label:"Actions",selected:p(u),onClick:z[3]||(z[3]=()=>p(r)("action"))},null,8,["selected"])]),_:1,__:[7]}),Jt(h(xe,null,{default:E(()=>[h(ke,{icon:"progress",label:"mark as progress",onClick:_}),h(ke,{icon:"trash",label:"trash items",onClick:D})]),_:1},512),[[Nn,p(u)]]),y("article",nl,[p(s).pagination.total?(d(),b(U,{key:0},[h(on,null,{default:E(()=>[(d(!0),b(U,null,ce(p(s).data,ee=>(d(),N(rn,{key:ee.id,task:ee,"is-today":!0,"edit-state":!0,"return-url":"/today",onStatusToggle:()=>p(a)(ee),onStatusProgress:()=>p(o)(ee),onRefresh:z[5]||(z[5]=Oe=>S(p(s).pagination.page))},Qe({_:2},[p(u)?{name:"toggle-checkbox",fn:E(()=>[h(Us,{id:"task"+ee.id,modelValue:v.value,"onUpdate:modelValue":z[4]||(z[4]=Oe=>v.value=Oe),value:ee.id},null,8,["id","modelValue","value"])]),key:"0"}:void 0]),1032,["task","onStatusToggle","onStatusProgress"]))),128))]),_:1}),h(Tt,{"current-page":p(s).pagination.page,"total-pages":p(s).pagination.totalPages,onSelected:O},null,8,["current-page","total-pages"])],64)):(d(),N($t,{key:1}))])]),c.value?(d(),N(nt,{key:0,"is-today":!0,onClose:z[6]||(z[6]=ee=>c.value=!1),onSubmitted:A})):C("",!0)],64))}}),ol="Habits",rl=`
Stay consistent without relying on your willpower and motivation. Manage all your habits and stay productive.
`,il=j({__name:"HabitsView",setup(e){Ue({title:ze[R.Habits].title});const{byPriority:t,sortBy:n}=wt(),s=de(),a=ge(),o=$e(),r=x(!1),{habits:i}=Ce(s),m=c=>s.getHabits(c,t.value);Qt(()=>{m(nn(o))});const u=async c=>{try{await m(c)}catch{a.error({text:"Could not fetch next page. Please try again later."})}};re(t,()=>{m(i.value.pagination.page)});const f=()=>{r.value=!1,m(i.value.pagination.page)};return(c,v)=>(d(),b(U,null,[h(Be,{title:ol,subtitle:rl}),h(xe,null,{default:E(()=>[h(St,{label:"habit",onClick:v[0]||(v[0]=k=>r.value=!0)}),v[4]||(v[4]=y("span",{class:"sorting-divider"},"|",-1)),h(Me,{label:"Priority","a11y-label":"Sort by priority",icon:"sort",selected:p(t),onClick:v[1]||(v[1]=k=>p(n)("priority"))},null,8,["selected"])]),_:1,__:[4]}),p(i).pagination.total?(d(),b(U,{key:0},[h(on,null,{default:E(()=>[(d(!0),b(U,null,ce(p(i).data,k=>(d(),N(rn,{key:k.id,task:k,"show-chips":!1,"return-url":"/habits",onRefresh:v[2]||(v[2]=g=>m(p(i).pagination.page))},null,8,["task"]))),128))]),_:1}),h(Tt,{"total-pages":p(i).pagination.totalPages,onSelected:u},null,8,["total-pages"])],64)):(d(),N($t,{key:1})),r.value?(d(),N(nt,{key:2,"is-habit":!0,onClose:v[3]||(v[3]=k=>r.value=!1),onSubmitted:f})):C("",!0)],64))}}),ll={key:0,class:"upcoming-view"},Ss=j({__name:"UpcomingView",setup(e){Ue({title:ze[R.Upcoming].title});const t=ge(),n=$e(),s=Te(),a=de(),{byPriority:o,sortBy:r}=wt(),{allUpcomingTasks:i,tomorrowsTasks:m}=Ce(a),u=x("mode1"),f=I(()=>u.value==="mode1"?m.value:i.value),c=x(!1),v=async w=>{u.value==="mode1"?await a.getTomorrowTasks(w,o.value):await a.getUpcoming(w,o.value)};je(async()=>{try{n.name===R.Tomorrow?u.value="mode1":u.value="mode2",await v(nn(n))}catch{t.error({text:"There was an error fetching the list. Please refresh and try again."})}}),re(o,()=>{v(f.value.pagination.page)});const k=async w=>{try{await v(w)}catch{t.error({text:"Could not fetch next page. Please try again later."})}},g=async w=>{w==="mode1"?(s.push({name:R.Tomorrow}),u.value=w):(s.push({name:R.Upcoming}),u.value=w),await v(void 0)},T=()=>{c.value=!1,v(f.value.pagination.page),t.success({text:"You've successfully added a new task"})};return(w,S)=>{const O=Hn("router-link");return d(),b(U,null,[h(Be,{title:"All tasks"},{subtitle:E(()=>[S[6]||(S[6]=M(" Discover your all upcoming tasks. You can view your ",-1)),h(O,{to:{name:p(R).Habits}},{default:E(()=>S[4]||(S[4]=[M("habits",-1)])),_:1,__:[4]},8,["to"]),S[7]||(S[7]=M(" and ",-1)),h(O,{to:{name:p(R).Today}},{default:E(()=>S[5]||(S[5]=[M("today's",-1)])),_:1,__:[5]},8,["to"]),S[8]||(S[8]=M(" tasks. ",-1))]),_:1}),h(Ma,{mode1:"Tomorrow",mode2:"Upcoming",selected:u.value,onSelect:g},null,8,["selected"]),h(xe,null,{default:E(()=>[h(St,{label:"task",onClick:S[0]||(S[0]=A=>c.value=!0)}),S[9]||(S[9]=y("span",{class:"sorting-divider"},"|",-1)),h(Me,{label:"Priority","a11y-label":"sort by priority",icon:"sort",selected:p(o),onClick:S[1]||(S[1]=A=>p(r)("priority"))},null,8,["selected"])]),_:1,__:[9]}),f.value?(d(),b("article",ll,[f.value.pagination.total?(d(),b(U,{key:0},[h(on,null,{default:E(()=>[(d(!0),b(U,null,ce(f.value.data,A=>(d(),N(rn,{key:A.id,task:A,"show-chips":!0,onRefresh:S[2]||(S[2]=_=>v(f.value.pagination.page))},null,8,["task"]))),128))]),_:1}),h(Tt,{"total-pages":f.value.pagination.totalPages,onSelected:k},null,8,["total-pages"])],64)):(d(),N($t,{key:1})),c.value?(d(),N(nt,{key:2,"min-start-date":p(Ba)(),onClose:S[3]||(S[3]=A=>c.value=!1),onSubmitted:T},null,8,["min-start-date"])):C("",!0)])):C("",!0)],64)}}}),ul=j({__name:"ListView",setup(e){Ue({title:ze[R.Lists].title});const t=$e(),n=ge(),s=de(),{selectedPageList:a,selectedListTasks:o,recentList:r}=Ce(s),i=x(!1),{changeStatus:m,toggleProgress:u,byPriority:f,byCompletion:c,sortBy:v,byAction:k}=wt(),g=x(!1),T=x(!1),w=x(!1),S=I(()=>a.value&&a.value.startDate<=tt()),O=x([]),A=I(()=>O.value.map(B=>o.value.data.find(H=>H.id===Number(B)))),_=async B=>{i.value=!0;try{const H=Number(t.params.id);s.setPageListId(H);const K=await s.getList(H);if(await s.getTaskForList(H,B,f.value,c.value),!K)throw new za}catch{n.error({title:"Fatal error",text:"An error occurred trying to get the list"}),Zt.push({name:R.Lists})}i.value=!1};Qt(()=>{_(nn(t))}),re(t,()=>{_(o.value.pagination.page)}),re(f,()=>{_(o.value.pagination.page)});const D=async B=>{_(B)},W=async()=>{if(a.value)try{await s.deleteList(a.value.id),Zt.push({name:R.Lists})}catch{n.error({text:"Failed to delete list"})}},z=()=>{w.value=!1,_(o.value.pagination.page),n.success({text:"You have successfully added a new task."})},ee=()=>{T.value=!1,r.value.find(H=>H.id===a.value?.id)&&s.getRecentList()},Oe=()=>{A.value.length!==0&&(A.value.forEach(B=>{B&&u(B)}),O.value.length=0)},st=async()=>{const B=[];if(A.value.length!==0){A.value.forEach(H=>{H&&B.push(s.deleteTask(H.id))});try{await Promise.all(B)}catch{n.success({text:"Successfully deleted selected tasks."})}_(1),O.value.length=0}};return(B,H)=>(d(),b(U,null,[i.value?(d(),b(U,{key:0},[M("Loading...")],64)):p(a)?(d(),b(U,{key:1},[h(Be,{title:p(a).description,date:"Ends: "+new Date(p(a).endDate).toDateString()},{actions:E(()=>[h(xe,null,{default:E(()=>[h(ke,{icon:"edit",onClick:H[0]||(H[0]=K=>T.value=!0)}),h(ke,{icon:"trash",onClick:H[1]||(H[1]=K=>g.value=!0)})]),_:1})]),_:1},8,["title","date"]),h(xe,null,{default:E(()=>[h(St,{label:"to list",onClick:H[2]||(H[2]=K=>w.value=!0)}),H[11]||(H[11]=y("span",{class:"sorting-divider"},"|",-1)),h(Me,{label:"Priority","a11y-label":"Sort by Priority",icon:"sort",selected:p(f),onClick:H[3]||(H[3]=K=>p(v)("priority"))},null,8,["selected"]),h(Me,{"a11y-label":"Order by completion",icon:"sort",label:"Incomplete first",selected:p(c),onClick:H[4]||(H[4]=K=>p(v)("completion"))},null,8,["selected"]),h(Me,{"a11y-label":"Actions: delete and mark as progress",icon:"sort",label:"Actions",selected:p(k),onClick:H[5]||(H[5]=()=>p(v)("action"))},null,8,["selected"])]),_:1,__:[11]}),Jt(h(xe,null,{default:E(()=>[h(ke,{icon:"progress",label:"mark as progress",onClick:Oe}),h(ke,{icon:"trash",label:"trash items",onClick:st})]),_:1},512),[[Nn,p(k)]]),p(o).data.length?(d(),b(U,{key:0},[h(on,null,{default:E(()=>[(d(!0),b(U,null,ce(p(o).data,K=>(d(),N(rn,{key:K.id,task:K,"edit-state":S.value,"return-url":"/list/"+p(a).id,onStatusToggle:()=>p(m)(K),onStatusProgress:()=>p(u)(K),onRefresh:H[7]||(H[7]=Re=>_(p(o).pagination.page))},Qe({_:2},[p(k)?{name:"toggle-checkbox",fn:E(()=>[h(Us,{id:"task"+K.id,modelValue:O.value,"onUpdate:modelValue":H[6]||(H[6]=Re=>O.value=Re),value:K.id},null,8,["id","modelValue","value"])]),key:"0"}:void 0]),1032,["task","edit-state","return-url","onStatusToggle","onStatusProgress"]))),128))]),_:1}),h(Tt,{"total-pages":p(o).pagination.totalPages,onSelected:D},null,8,["total-pages"])],64)):(d(),N($t,{key:1}))],64)):C("",!0),w.value&&p(a)?(d(),N(nt,{key:2,"list-id":p(a).id,onClose:H[8]||(H[8]=K=>w.value=!1),onSubmitted:z},null,8,["list-id"])):C("",!0),T.value?(d(),N(Vn,{key:3,item:p(a),onDone:ee,onClose:H[9]||(H[9]=K=>T.value=!1)},null,8,["item"])):C("",!0),g.value?(d(),N(tn,{key:4,"proceed-btn":{isEvent:!0,link:"",disable:!1,alternativeName:"Delete",isRed:!0},onClose:H[10]||(H[10]=K=>g.value=!1),onProceed:W},{content:E(()=>H[12]||(H[12]=[M("Are you sure you want to delete this list? Doing so will delete all the tasks that are associated with this list.",-1)])),_:1})):C("",!0)],64))}}),cl={class:"list-item__date"},dl={class:"list-item__date"},ml=j({__name:"AllListsView",setup(e){Ue({title:ze[R.Lists].title});const t=de(),n=Te(),{lists:s}=Ce(t),a=x(!1);je(async()=>{t.getAllList()});const o=m=>{n.push({name:R.List,params:{id:m}})},r=async()=>{a.value=!1,t.getAllList(s.value.pagination.page),t.getRecentList()},i=m=>Fs(m);return(m,u)=>(d(),b(U,null,[h(Be,{title:"Lists"}),h(St,{label:"list",onClick:u[0]||(u[0]=f=>a.value=!0)}),p(s).pagination.total?(d(),b(U,{key:0},[h(Ia,null,{default:E(()=>[(d(!0),b(U,null,ce(p(s).data,(f,c)=>(d(),N(Na,{key:f.id,alternate:c%2===0},{main:E(()=>[M(V(f.description),1),u[2]||(u[2]=y("br",null,null,-1)),y("span",cl," Duration: "+V(i(f.startDate))+" to "+V(i(f.endDate)),1),u[3]||(u[3]=y("br",null,null,-1)),y("span",dl," Created date: "+V(i(f.createdDate)),1)]),controls:E(()=>[h(ke,{icon:"chevronRight",label:"go to list "+f.description,onClick:()=>o(f.id),onKeydown:ht(()=>o(f.id),["enter"])},null,8,["label","onClick","onKeydown"])]),_:2},1032,["alternate"]))),128))]),_:1}),h(Tt,{"current-page":p(s).pagination.page,"total-pages":p(s).pagination.totalPages},null,8,["current-page","total-pages"])],64)):(d(),N($t,{key:1,"is-task-list":!1})),a.value?(d(),N(Vn,{key:2,onDone:r,onClose:u[1]||(u[1]=f=>a.value=!1)})):C("",!0)],64))}}),pl=Ie(ml,[["__scopeId","data-v-79d63adf"]]),fl={class:"settings__personal"},gl={class:"settings__theme"},vl="Settings",yl=j({__name:"SettingsView",setup(e){Ue({title:ze[R.Settings].title});const t=Ne(),n=ge(),s=x(!1),a=x(!1),o=x({name:t.settings.name,image:t.settings.image,theme:t.settings.theme||"default"}),r=x({archiveFor:t.settings.archiveFor||30,archive:t.settings.archive||!1}),i=async()=>{try{a.value=!0,await t.deleteApp(),window.location.reload()}catch(f){if(f.message.includes("blocked")){window.location.reload();return}n.error({title:"Fatal error",text:`Failed to delete account: ${f?.message}. Please try again.`})}finally{a.value=!1}};je(()=>{o.value.image=t.settings.image,o.value.name=t.settings.name,r.value.archiveFor=t.settings.archiveFor,r.value.archive=t.settings.archive});const m=async f=>{a.value=!0;try{f==="personal"&&await t.updateSettings({...o.value}),n.success({text:"Successful update"})}catch{n.error({title:"Fatal error",text:"Could not save data."})}a.value=!1},u=[{value:"default",label:"Default"},{value:"fun-cat",label:"Fun cat"}];return(f,c)=>(d(),b(U,null,[h(Be,{title:vl}),h(us,{class:"settings__section--spacing",title:"Personal"},{content:E(()=>[y("div",fl,[h(qt,{"model-value":o.value.image,"onUpdate:modelValue":c[0]||(c[0]=v=>o.value.image=v),"view-only":!1},null,8,["model-value"]),h(_e,{modelValue:o.value.name,"onUpdate:modelValue":c[1]||(c[1]=v=>o.value.name=v)},{label:E(()=>c[9]||(c[9]=[M("Full name",-1)])),_:1},8,["modelValue"])]),y("div",gl,[h(Ns,{modelValue:o.value.theme,"onUpdate:modelValue":c[2]||(c[2]=v=>o.value.theme=v),options:u,label:"Theme"},null,8,["modelValue"])]),h(et,{variant:"secondary",disabled:!o.value.name,loading:a.value,onClick:c[3]||(c[3]=()=>m("personal"))},{default:E(()=>c[10]||(c[10]=[M(" Save changes ",-1)])),_:1,__:[10]},8,["disabled","loading"])]),_:1}),C("",!0),h(us,{class:"settings__section--spacing",title:"Advanced"},{content:E(()=>[c[14]||(c[14]=y("p",null," Deleting your account all personal data, tasks, reports, lists and archives. ",-1)),h(et,{class:"settings__delete-app-btn",variant:"secondary",loading:a.value,onClick:c[7]||(c[7]=v=>s.value=!0)},{default:E(()=>c[13]||(c[13]=[M(" Delete account ",-1)])),_:1,__:[13]},8,["loading"])]),_:1}),s.value?(d(),N(tn,{key:1,"proceed-btn":{isEvent:!0,link:"",disable:!1},loading:a.value,onProceed:i,onClose:c[8]||(c[8]=v=>s.value=!1)},{content:E(()=>c[15]||(c[15]=[M(" Are you sure you want to delete your account? This deletion cannot be undone. ",-1)])),_:1},8,["loading"])):C("",!0)],64))}}),na=""+new URL("../logo-name.svg",import.meta.url).href,hl={class:"setup-view"},bl={class:"setup-view__personal"},_l={class:"setup-view__personal-content"},kl={class:"get-started"},Tl=j({__name:"SetupView",setup(e){const t=x(!1),n=ge(),s=Ne(),a=Te(),o=x({image:"",name:"",archive:!1,archiveFor:30,theme:"default"}),r=I(()=>!o.value.name),i=()=>{t.value=!0,setTimeout(async()=>{try{await s.addSettings({...o.value}),a.push({name:R.Today})}catch{n.error({title:"Fatal Error",text:"An error occurred while trying to setup the work space."})}t.value=!1},2e3)};return(m,u)=>(d(),b("div",hl,[y("form",{id:"setup-view-form",class:"setup-view__content",onSubmit:vt(i,["prevent"])},[u[6]||(u[6]=y("div",{class:"setup-view__content text-center"},[y("img",{src:na,alt:"app brand planner",class:"logo logo--highlight"}),y("h1",null,"Youre one step away from less busywork"),y("p",{class:"text-center"}," Setup your planner and make it easier to plan your work, days or special events. ")],-1)),h(Ha),y("section",bl,[y("div",_l,[y("fieldset",null,[u[2]||(u[2]=y("legend",null,"Select profile picture (optional)",-1)),h(qt,{"model-value":o.value.image,"onUpdate:modelValue":u[0]||(u[0]=f=>o.value.image=f),"view-only":!1},null,8,["model-value"])]),h(_e,{modelValue:o.value.name,"onUpdate:modelValue":u[1]||(u[1]=f=>o.value.name=f),"input-id":"setup-full-name"},{label:E(()=>u[3]||(u[3]=[M("Full name (required)",-1)])),_:1},8,["modelValue"])])]),y("div",kl,[h(et,{form:"setup-view-form",disabled:r.value,loading:t.value},{default:E(()=>u[4]||(u[4]=[M("GET STARTED",-1)])),_:1,__:[4]},8,["disabled","loading"])]),(d(),N(Oa,{to:"#app"},[u[5]||(u[5]=y("div",{class:"shape-divider"},[y("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1440 320"},[y("path",{fill:"#60A5FA","fill-opacity":"1",d:"M0,128L60,154.7C120,181,240,235,360,218.7C480,203,600,117,720,96C840,75,960,117,1080,122.7C1200,128,1320,96,1380,80L1440,64L1440,320L1380,320C1320,320,1200,320,1080,320C960,320,840,320,720,320C600,320,480,320,360,320C240,320,120,320,60,320L0,320Z"})]),y("div",{class:"shape-divider__empty-space"}," Copyright planner., UcheCodes.dev 2025 ")],-1))]))],32)]))}}),$l={class:"error-view"},wl=j({__name:"ErrorView",setup(e){Ue({title:ze.error.title});const t=Te();return(n,s)=>(d(),b("div",$l,[s[2]||(s[2]=y("img",{src:na,alt:"Website logo",class:"logo logo--highlight"},null,-1)),s[3]||(s[3]=y("h1",null,"404",-1)),s[4]||(s[4]=y("h2",null,"Page not found",-1)),s[5]||(s[5]=y("p",null," The link for the page clicked on is broken or the page no longer exists. ",-1)),h(et,{onClick:s[0]||(s[0]=a=>p(t).back())},{default:E(()=>[h(oe,{name:"arrowBack",width:24}),s[1]||(s[1]=M("Go back ",-1))]),_:1,__:[1]})]))}}),Sl={id:"habit-counter"},Al={class:"habit-counter__month"},El={class:"habit-counter__container"},Ll=["aria-label"],Cl=j({__name:"HabitCounter",props:{records:{type:Array,required:!0},defaultNumberOfDays:{type:Number,default:0},defaultCurrentMonthString:{type:String,default:""},defaultCurrentMonth:{type:Number,default:0}},setup(e){const t=e,n=Wa(),s=I(()=>t.defaultNumberOfDays||n.numberOfDays),a=I(()=>t.defaultCurrentMonthString||n.monthString),o=I(()=>t.defaultCurrentMonth||n.month),r=I(()=>{const i=[];for(let m=1;m<=s.value;m++){const u=zt(new Date(n.fullYear,o.value-1,m)),f=t.records.find(v=>v.timestamp===u),c={date:m,className:u>tt()||u===tt()?"open":"not-done",label:`${u}: task not done`};f&&(f.status===pe.Done&&(c.className="done"),c.label=`${u}: task ${f.status===pe.Done?"completed":"not done"}`),i.push(c)}return i});return(i,m)=>(d(),b("div",Sl,[y("h3",Al,"Habit counter for month of "+V(a.value),1),y("div",El,[(d(!0),b(U,null,ce(r.value,u=>(d(),b("div",{key:u.date,class:Q(["habit-counter__date",u.className]),"aria-label":u.label},V(u.date),11,Ll))),128))])]))}}),Ol={class:"task-overview"},Rl={class:"task-overview__details"},Pl={class:"task-overview__details-row"},Dl={class:"task-overview__details-col"},xl={key:0,class:"task-overview__details-row"},Ml={class:"task-overview__details-col"},Il={key:1,class:"task-overview__details-row"},Nl={class:"task-overview__details-col"},Hl={key:2,class:"task-overview__details-row"},Ul={class:"task-overview__details-col"},Vl={key:0},Fl={key:1},jl={class:"task-overview__note-content"},Bl=j({__name:"TaskOverview",props:{task:{type:Object,required:!0},records:{type:Array,default:()=>[]}},setup(e){return(t,n)=>{const s=Ra("dompurify-html");return d(),b("article",Ol,[y("div",Rl,[y("div",Pl,[n[0]||(n[0]=y("div",{class:"task-overview__details-col task-overview__details-heading"}," Priority ",-1)),y("div",Dl,[y("span",{class:Q("task-overview__priority--"+p(_t)[e.task.priority].toLowerCase())},V(p(_t)[e.task.priority]),3)])]),e.task.days.length?(d(),b("div",xl,[n[1]||(n[1]=y("div",{class:"task-overview__details-col task-overview__details-heading"}," Days ",-1)),y("div",Ml,[(d(!0),b(U,null,ce(e.task.days,a=>(d(),N(Je,{key:a,class:"task-overview__chip",label:p(Vs)[a]},null,8,["label"]))),128))])])):C("",!0),e.task.startTime?(d(),b("div",Il,[n[3]||(n[3]=y("div",{class:"task-overview__details-col task-overview__details-heading"}," Time ",-1)),y("div",Nl,[h(Bt,null,{default:E(()=>[M(V(e.task.startTime),1)]),_:1}),e.task.endTime?(d(),b(U,{key:0},[n[2]||(n[2]=M(" - ",-1)),h(Bt,null,{default:E(()=>[M(V(e.task.endTime),1)]),_:1})],64)):C("",!0)])])):C("",!0),e.task.startDate||e.task.endDate?(d(),b("div",Hl,[n[4]||(n[4]=y("div",{class:"task-overview__details-col task-overview__details-heading"}," Duration ",-1)),y("div",Ul,[M(V(new Date(e.task.startDate).toLocaleDateString())+" - ",1),e.task.endDate?(d(),b("span",Vl,V(new Date(e.task.endDate).toLocaleDateString()),1)):(d(),b("span",Fl,"Indefinite"))])])):C("",!0)]),e.task.days&&e.task.days.length?(d(),N(Cl,{key:0,records:e.records},null,8,["records"])):C("",!0),e.task.note?(d(),b(U,{key:1},[n[5]||(n[5]=y("h3",null,"Note",-1)),Jt(y("div",jl,null,512),[[s,e.task.note]])],64)):C("",!0)])}}}),zl={key:0},Wl={class:"task-progress"},Gl=j({__name:"TaskOverviewView",setup(e){const t=x(!0),n=x(!1),s=x(!1),a=de(),o=de(),{params:r,query:i}=$e(),{replace:m}=Te(),{currentSelectedTask:u}=Ce(a),f=ge(),{toggleProgress:c}=wt(),v=async()=>{n.value=!1,f.success({text:"You successfully updated the task information."}),await a.getCurrentlySelectedTast(k)};let k;try{k=Number(r.id)}catch{k=0}je(async()=>{await a.getCurrentlySelectedTast(k),t.value=!1});const g=I(()=>u.value.taskItem?.status===pe.Progress?"In progress":"Mark as progress"),T=async()=>{try{await o.deleteTask(k),i?.returnUrl?m(i.returnUrl):m({name:R.Today})}catch{f.error({text:"Something happened. Please try again."})}},w=async()=>{u.value.taskItem&&c(u.value.taskItem)};return(S,O)=>(d(),b(U,null,[p(u).taskItem?(d(),b(U,{key:1},[h(Be,{title:p(u).taskItem.description},{actions:E(()=>[h(xe,null,{default:E(()=>[h(ke,{icon:"edit",onClick:O[0]||(O[0]=A=>n.value=!0)}),h(ke,{icon:"trash",onClick:O[1]||(O[1]=A=>s.value=!0)}),y("div",Wl,[y("button",{class:Q({on:p(u).taskItem.status===p(pe).Progress}),onClick:w},[h(oe,{name:"progress"}),O[5]||(O[5]=M()),y("span",null,V(g.value),1)],2)])]),_:1})]),_:1},8,["title"]),h(Bl,{task:p(u).taskItem,records:p(u).records,onRefresh:O[2]||(O[2]=A=>p(a).getCurrentlySelectedTast(p(k)))},null,8,["task","records"])],64)):(d(),b("div",zl,"Nothing found")),n.value&&p(u).taskItem?(d(),N(nt,{key:2,"selected-task":p(u).taskItem,"is-habit":!!p(u).taskItem.days.length,onClose:O[3]||(O[3]=A=>n.value=!1),onSubmitted:v},null,8,["selected-task","is-habit"])):C("",!0),s.value?(d(),N(tn,{key:3,"proceed-btn":{isEvent:!0,link:"",disable:!1,alternativeName:"Delete",isRed:!0},onClose:O[4]||(O[4]=A=>s.value=!1),onProceed:T},{content:E(()=>O[6]||(O[6]=[M(" Are you sure you want to delete this tasks? ",-1)])),_:1})):C("",!0)],64))}}),Ee="planner.",ze={[R.Today]:{title:`Today | ${Ee}`},[R.Tomorrow]:{title:`Tomorrow | ${Ee}`},[R.Settings]:{title:`Settings | ${Ee}`},[R.Upcoming]:{title:`Upcoming | ${Ee}`},[R.Lists]:{title:`All list | ${Ee}`},[R.Habits]:{title:`Habits | ${Ee}`},[R.Tasks]:{title:`All tasks | ${Ee}`},[R.TaskOverview]:{title:`Task overview | ${Ee}`},error:{title:`Error page | ${Ee}`}},Zt=Ua({history:Va("/projects/planner"),routes:[{path:"/today",alias:"/",name:R.Today,component:al,meta:{requiredSetup:!0}},{path:"/upcoming",name:R.Upcoming,component:Ss,meta:{requiredSetup:!0}},{path:"/habits",name:R.Habits,component:il,meta:{requiredSetup:!0}},{path:"/list/:id",name:R.List,component:ul,meta:{requiredSetup:!0}},{path:"/lists",name:R.Lists,component:pl,meta:{requiredSetup:!0}},{path:"/tomorrow",name:R.Tomorrow,component:Ss,meta:{requiredSetup:!0}},{path:"/settings",name:R.Settings,component:yl,meta:{requiredSetup:!0}},{path:"/setup",name:R.Setup,component:Tl},{path:"/task/:id",name:R.TaskOverview,component:Gl},{path:"/:pathMatch(.*)*",component:wl}]});Zt.beforeEach(async(e,t,n)=>{const a=await(await Un.getInstance()).hasDatabase();if(e.name===R.Setup&&a){n(R.Today);return}if(e.meta.requiredSetup&&!a){n(R.Setup);return}n()});class ql{constructor(t){this.db=t}async deleteList(t){await this.db.lists.remove(t),await this.db.tasks.removeTasksByListId(t)}async getList(t){return await this.db.lists.get(t)}async getAllList(t,n){return await this.db.lists.getAll({type:"valid",offset:t,limit:n})}async getTaskForList(t,n,s,a=!1,o=!1){return await this.db.tasks.getAll({type:lt.list,listId:t,offset:n,limit:s,sortByPriority:a,sortByCompletion:o})}async getHabits(t,n,s=!1){return await this.db.tasks.getAll({type:lt.habits,offset:t,limit:n,sortByPriority:s})}async getHabitRecords(t){return await this.db.tasks.getHabitRecords(t)}async getTask(t){return await this.db.tasks.get(t)}async getTodaysList(t,n,s=!1,a=!1){return await this.db.tasks.getAll({type:lt.today,offset:t,limit:n,sortByPriority:s,sortByCompletion:a})}async getTomorrowsList(t,n,s=!1){return await this.db.tasks.getAll({type:lt.tomorrow,offset:t,limit:n,sortByPriority:s})}async getUpcoming(t,n,s=!1){return await this.db.tasks.getAll({type:lt.upcoming,offset:t,limit:n,sortByPriority:s})}async deleteTask(t){await this.db.tasks.remove(t)}async updateTask(t,n=!1){if(n){const s=await this.db.tasks.updateTaskRecord({id:t.statusRecordId,status:t.status||pe.Open,taskId:t.id,timestamp:t.statusUpdatedAt});return await this.db.tasks.update({...t,statusRecordId:s.id,statusUpdatedAt:s.timestamp})}return await this.db.tasks.update(t)}async updateList(t){await this.db.lists.update(t),await this.db.tasks.updateAllTasksForList(t)}getRecentLists(){return this.db.lists.getAll({type:"recent"})}async addTask(t){return await this.db.tasks.add(t)}async addList(t){return await this.db.lists.add(t)}cleanOldRecords(){return Promise.all([this.db.cleanup.cleanupLists(),this.db.cleanup.cleanupTasks()])}async getSettings(){return await this.db.settings.get()}async updateSettings(t){const s={...await this.getSettings(),...t};return await this.db.settings.update(s)}async addSettings(t){return await this.db.settings.add(t)}}const Yl={install:async e=>{e.config.globalProperties.$api={};const t=Ne();t.setGlobalLoading(!0);const n=await Un.getInstance();e.config.globalProperties.$api.service=new ql(n.repositories()),await t.getSettings(),t.setGlobalLoading(!1)}};/*! @license DOMPurify 3.2.6 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.2.6/LICENSE */const{entries:sa,setPrototypeOf:As,isFrozen:Kl,getPrototypeOf:Xl,getOwnPropertyDescriptor:Zl}=Object;let{freeze:ie,seal:fe,create:aa}=Object,{apply:Mn,construct:In}=typeof Reflect<"u"&&Reflect;ie||(ie=function(t){return t});fe||(fe=function(t){return t});Mn||(Mn=function(t,n,s){return t.apply(n,s)});In||(In=function(t,n){return new t(...n)});const Nt=le(Array.prototype.forEach),Jl=le(Array.prototype.lastIndexOf),Es=le(Array.prototype.pop),ct=le(Array.prototype.push),Ql=le(Array.prototype.splice),jt=le(String.prototype.toLowerCase),wn=le(String.prototype.toString),Ls=le(String.prototype.match),dt=le(String.prototype.replace),eu=le(String.prototype.indexOf),tu=le(String.prototype.trim),ye=le(Object.prototype.hasOwnProperty),ae=le(RegExp.prototype.test),mt=nu(TypeError);function le(e){return function(t){t instanceof RegExp&&(t.lastIndex=0);for(var n=arguments.length,s=new Array(n>1?n-1:0),a=1;a<n;a++)s[a-1]=arguments[a];return Mn(e,t,s)}}function nu(e){return function(){for(var t=arguments.length,n=new Array(t),s=0;s<t;s++)n[s]=arguments[s];return In(e,n)}}function F(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:jt;As&&As(e,null);let s=t.length;for(;s--;){let a=t[s];if(typeof a=="string"){const o=n(a);o!==a&&(Kl(t)||(t[s]=o),a=o)}e[a]=!0}return e}function su(e){for(let t=0;t<e.length;t++)ye(e,t)||(e[t]=null);return e}function Le(e){const t=aa(null);for(const[n,s]of sa(e))ye(e,n)&&(Array.isArray(s)?t[n]=su(s):s&&typeof s=="object"&&s.constructor===Object?t[n]=Le(s):t[n]=s);return t}function pt(e,t){for(;e!==null;){const s=Zl(e,t);if(s){if(s.get)return le(s.get);if(typeof s.value=="function")return le(s.value)}e=Xl(e)}function n(){return null}return n}const Cs=ie(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),Sn=ie(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),An=ie(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),au=ie(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),En=ie(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),ou=ie(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),Os=ie(["#text"]),Rs=ie(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),Ln=ie(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),Ps=ie(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Ht=ie(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),ru=fe(/\{\{[\w\W]*|[\w\W]*\}\}/gm),iu=fe(/<%[\w\W]*|[\w\W]*%>/gm),lu=fe(/\$\{[\w\W]*/gm),uu=fe(/^data-[\-\w.\u00B7-\uFFFF]+$/),cu=fe(/^aria-[\-\w]+$/),oa=fe(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),du=fe(/^(?:\w+script|data):/i),mu=fe(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),ra=fe(/^html$/i),pu=fe(/^[a-z][.\w]*(-[.\w]+)+$/i);var Ds=Object.freeze({__proto__:null,ARIA_ATTR:cu,ATTR_WHITESPACE:mu,CUSTOM_ELEMENT:pu,DATA_ATTR:uu,DOCTYPE_NAME:ra,ERB_EXPR:iu,IS_ALLOWED_URI:oa,IS_SCRIPT_OR_DATA:du,MUSTACHE_EXPR:ru,TMPLIT_EXPR:lu});const ft={element:1,text:3,progressingInstruction:7,comment:8,document:9},fu=function(){return typeof window>"u"?null:window},gu=function(t,n){if(typeof t!="object"||typeof t.createPolicy!="function")return null;let s=null;const a="data-tt-policy-suffix";n&&n.hasAttribute(a)&&(s=n.getAttribute(a));const o="dompurify"+(s?"#"+s:"");try{return t.createPolicy(o,{createHTML(r){return r},createScriptURL(r){return r}})}catch{return console.warn("TrustedTypes policy "+o+" could not be created."),null}},xs=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function ia(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:fu();const t=P=>ia(P);if(t.version="3.2.6",t.removed=[],!e||!e.document||e.document.nodeType!==ft.document||!e.Element)return t.isSupported=!1,t;let{document:n}=e;const s=n,a=s.currentScript,{DocumentFragment:o,HTMLTemplateElement:r,Node:i,Element:m,NodeFilter:u,NamedNodeMap:f=e.NamedNodeMap||e.MozNamedAttrMap,HTMLFormElement:c,DOMParser:v,trustedTypes:k}=e,g=m.prototype,T=pt(g,"cloneNode"),w=pt(g,"remove"),S=pt(g,"nextSibling"),O=pt(g,"childNodes"),A=pt(g,"parentNode");if(typeof r=="function"){const P=n.createElement("template");P.content&&P.content.ownerDocument&&(n=P.content.ownerDocument)}let _,D="";const{implementation:W,createNodeIterator:z,createDocumentFragment:ee,getElementsByTagName:Oe}=n,{importNode:st}=s;let B=xs();t.isSupported=typeof sa=="function"&&typeof A=="function"&&W&&W.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:H,ERB_EXPR:K,TMPLIT_EXPR:Re,DATA_ATTR:At,ARIA_ATTR:ln,IS_SCRIPT_OR_DATA:un,ATTR_WHITESPACE:Et,CUSTOM_ELEMENT:cn}=Ds;let{IS_ALLOWED_URI:q}=Ds,G=null;const ve=F({},[...Cs,...Sn,...An,...En,...Os]);let te=null;const Fn=F({},[...Rs,...Ln,...Ps,...Ht]);let X=Object.seal(aa(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),at=null,dn=null,jn=!0,mn=!0,Bn=!1,zn=!0,We=!1,Lt=!0,Ve=!1,pn=!1,fn=!1,Ge=!1,Ct=!1,Ot=!1,Wn=!0,Gn=!1;const ca="user-content-";let gn=!0,ot=!1,qe={},Ye=null;const qn=F({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let Yn=null;const Kn=F({},["audio","video","img","source","image","track"]);let vn=null;const Xn=F({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Rt="http://www.w3.org/1998/Math/MathML",Pt="http://www.w3.org/2000/svg",we="http://www.w3.org/1999/xhtml";let Ke=we,yn=!1,hn=null;const da=F({},[Rt,Pt,we],wn);let Dt=F({},["mi","mo","mn","ms","mtext"]),xt=F({},["annotation-xml"]);const ma=F({},["title","style","font","a","script"]);let rt=null;const pa=["application/xhtml+xml","text/html"],fa="text/html";let J=null,Xe=null;const ga=n.createElement("form"),Zn=function(l){return l instanceof RegExp||l instanceof Function},bn=function(){let l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(Xe&&Xe===l)){if((!l||typeof l!="object")&&(l={}),l=Le(l),rt=pa.indexOf(l.PARSER_MEDIA_TYPE)===-1?fa:l.PARSER_MEDIA_TYPE,J=rt==="application/xhtml+xml"?wn:jt,G=ye(l,"ALLOWED_TAGS")?F({},l.ALLOWED_TAGS,J):ve,te=ye(l,"ALLOWED_ATTR")?F({},l.ALLOWED_ATTR,J):Fn,hn=ye(l,"ALLOWED_NAMESPACES")?F({},l.ALLOWED_NAMESPACES,wn):da,vn=ye(l,"ADD_URI_SAFE_ATTR")?F(Le(Xn),l.ADD_URI_SAFE_ATTR,J):Xn,Yn=ye(l,"ADD_DATA_URI_TAGS")?F(Le(Kn),l.ADD_DATA_URI_TAGS,J):Kn,Ye=ye(l,"FORBID_CONTENTS")?F({},l.FORBID_CONTENTS,J):qn,at=ye(l,"FORBID_TAGS")?F({},l.FORBID_TAGS,J):Le({}),dn=ye(l,"FORBID_ATTR")?F({},l.FORBID_ATTR,J):Le({}),qe=ye(l,"USE_PROFILES")?l.USE_PROFILES:!1,jn=l.ALLOW_ARIA_ATTR!==!1,mn=l.ALLOW_DATA_ATTR!==!1,Bn=l.ALLOW_UNKNOWN_PROTOCOLS||!1,zn=l.ALLOW_SELF_CLOSE_IN_ATTR!==!1,We=l.SAFE_FOR_TEMPLATES||!1,Lt=l.SAFE_FOR_XML!==!1,Ve=l.WHOLE_DOCUMENT||!1,Ge=l.RETURN_DOM||!1,Ct=l.RETURN_DOM_FRAGMENT||!1,Ot=l.RETURN_TRUSTED_TYPE||!1,fn=l.FORCE_BODY||!1,Wn=l.SANITIZE_DOM!==!1,Gn=l.SANITIZE_NAMED_PROPS||!1,gn=l.KEEP_CONTENT!==!1,ot=l.IN_PLACE||!1,q=l.ALLOWED_URI_REGEXP||oa,Ke=l.NAMESPACE||we,Dt=l.MATHML_TEXT_INTEGRATION_POINTS||Dt,xt=l.HTML_INTEGRATION_POINTS||xt,X=l.CUSTOM_ELEMENT_HANDLING||{},l.CUSTOM_ELEMENT_HANDLING&&Zn(l.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(X.tagNameCheck=l.CUSTOM_ELEMENT_HANDLING.tagNameCheck),l.CUSTOM_ELEMENT_HANDLING&&Zn(l.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(X.attributeNameCheck=l.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),l.CUSTOM_ELEMENT_HANDLING&&typeof l.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(X.allowCustomizedBuiltInElements=l.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),We&&(mn=!1),Ct&&(Ge=!0),qe&&(G=F({},Os),te=[],qe.html===!0&&(F(G,Cs),F(te,Rs)),qe.svg===!0&&(F(G,Sn),F(te,Ln),F(te,Ht)),qe.svgFilters===!0&&(F(G,An),F(te,Ln),F(te,Ht)),qe.mathMl===!0&&(F(G,En),F(te,Ps),F(te,Ht))),l.ADD_TAGS&&(G===ve&&(G=Le(G)),F(G,l.ADD_TAGS,J)),l.ADD_ATTR&&(te===Fn&&(te=Le(te)),F(te,l.ADD_ATTR,J)),l.ADD_URI_SAFE_ATTR&&F(vn,l.ADD_URI_SAFE_ATTR,J),l.FORBID_CONTENTS&&(Ye===qn&&(Ye=Le(Ye)),F(Ye,l.FORBID_CONTENTS,J)),gn&&(G["#text"]=!0),Ve&&F(G,["html","head","body"]),G.table&&(F(G,["tbody"]),delete at.tbody),l.TRUSTED_TYPES_POLICY){if(typeof l.TRUSTED_TYPES_POLICY.createHTML!="function")throw mt('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof l.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw mt('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');_=l.TRUSTED_TYPES_POLICY,D=_.createHTML("")}else _===void 0&&(_=gu(k,a)),_!==null&&typeof D=="string"&&(D=_.createHTML(""));ie&&ie(l),Xe=l}},Jn=F({},[...Sn,...An,...au]),Qn=F({},[...En,...ou]),va=function(l){let $=A(l);(!$||!$.tagName)&&($={namespaceURI:Ke,tagName:"template"});const L=jt(l.tagName),Y=jt($.tagName);return hn[l.namespaceURI]?l.namespaceURI===Pt?$.namespaceURI===we?L==="svg":$.namespaceURI===Rt?L==="svg"&&(Y==="annotation-xml"||Dt[Y]):!!Jn[L]:l.namespaceURI===Rt?$.namespaceURI===we?L==="math":$.namespaceURI===Pt?L==="math"&&xt[Y]:!!Qn[L]:l.namespaceURI===we?$.namespaceURI===Pt&&!xt[Y]||$.namespaceURI===Rt&&!Dt[Y]?!1:!Qn[L]&&(ma[L]||!Jn[L]):!!(rt==="application/xhtml+xml"&&hn[l.namespaceURI]):!1},be=function(l){ct(t.removed,{element:l});try{A(l).removeChild(l)}catch{w(l)}},Ze=function(l,$){try{ct(t.removed,{attribute:$.getAttributeNode(l),from:$})}catch{ct(t.removed,{attribute:null,from:$})}if($.removeAttribute(l),l==="is")if(Ge||Ct)try{be($)}catch{}else try{$.setAttribute(l,"")}catch{}},es=function(l){let $=null,L=null;if(fn)l="<remove></remove>"+l;else{const Z=Ls(l,/^[\r\n\t ]+/);L=Z&&Z[0]}rt==="application/xhtml+xml"&&Ke===we&&(l='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+l+"</body></html>");const Y=_?_.createHTML(l):l;if(Ke===we)try{$=new v().parseFromString(Y,rt)}catch{}if(!$||!$.documentElement){$=W.createDocument(Ke,"template",null);try{$.documentElement.innerHTML=yn?D:Y}catch{}}const ne=$.body||$.documentElement;return l&&L&&ne.insertBefore(n.createTextNode(L),ne.childNodes[0]||null),Ke===we?Oe.call($,Ve?"html":"body")[0]:Ve?$.documentElement:ne},ts=function(l){return z.call(l.ownerDocument||l,l,u.SHOW_ELEMENT|u.SHOW_COMMENT|u.SHOW_TEXT|u.SHOW_PROCESSING_INSTRUCTION|u.SHOW_CDATA_SECTION,null)},_n=function(l){return l instanceof c&&(typeof l.nodeName!="string"||typeof l.textContent!="string"||typeof l.removeChild!="function"||!(l.attributes instanceof f)||typeof l.removeAttribute!="function"||typeof l.setAttribute!="function"||typeof l.namespaceURI!="string"||typeof l.insertBefore!="function"||typeof l.hasChildNodes!="function")},ns=function(l){return typeof i=="function"&&l instanceof i};function Se(P,l,$){Nt(P,L=>{L.call(t,l,$,Xe)})}const ss=function(l){let $=null;if(Se(B.beforeSanitizeElements,l,null),_n(l))return be(l),!0;const L=J(l.nodeName);if(Se(B.uponSanitizeElement,l,{tagName:L,allowedTags:G}),Lt&&l.hasChildNodes()&&!ns(l.firstElementChild)&&ae(/<[/\w!]/g,l.innerHTML)&&ae(/<[/\w!]/g,l.textContent)||l.nodeType===ft.progressingInstruction||Lt&&l.nodeType===ft.comment&&ae(/<[/\w]/g,l.data))return be(l),!0;if(!G[L]||at[L]){if(!at[L]&&os(L)&&(X.tagNameCheck instanceof RegExp&&ae(X.tagNameCheck,L)||X.tagNameCheck instanceof Function&&X.tagNameCheck(L)))return!1;if(gn&&!Ye[L]){const Y=A(l)||l.parentNode,ne=O(l)||l.childNodes;if(ne&&Y){const Z=ne.length;for(let ue=Z-1;ue>=0;--ue){const Ae=T(ne[ue],!0);Ae.__removalCount=(l.__removalCount||0)+1,Y.insertBefore(Ae,S(l))}}}return be(l),!0}return l instanceof m&&!va(l)||(L==="noscript"||L==="noembed"||L==="noframes")&&ae(/<\/no(script|embed|frames)/i,l.innerHTML)?(be(l),!0):(We&&l.nodeType===ft.text&&($=l.textContent,Nt([H,K,Re],Y=>{$=dt($,Y," ")}),l.textContent!==$&&(ct(t.removed,{element:l.cloneNode()}),l.textContent=$)),Se(B.afterSanitizeElements,l,null),!1)},as=function(l,$,L){if(Wn&&($==="id"||$==="name")&&(L in n||L in ga))return!1;if(!(mn&&!dn[$]&&ae(At,$))){if(!(jn&&ae(ln,$))){if(!te[$]||dn[$]){if(!(os(l)&&(X.tagNameCheck instanceof RegExp&&ae(X.tagNameCheck,l)||X.tagNameCheck instanceof Function&&X.tagNameCheck(l))&&(X.attributeNameCheck instanceof RegExp&&ae(X.attributeNameCheck,$)||X.attributeNameCheck instanceof Function&&X.attributeNameCheck($))||$==="is"&&X.allowCustomizedBuiltInElements&&(X.tagNameCheck instanceof RegExp&&ae(X.tagNameCheck,L)||X.tagNameCheck instanceof Function&&X.tagNameCheck(L))))return!1}else if(!vn[$]){if(!ae(q,dt(L,Et,""))){if(!(($==="src"||$==="xlink:href"||$==="href")&&l!=="script"&&eu(L,"data:")===0&&Yn[l])){if(!(Bn&&!ae(un,dt(L,Et,"")))){if(L)return!1}}}}}}return!0},os=function(l){return l!=="annotation-xml"&&Ls(l,cn)},rs=function(l){Se(B.beforeSanitizeAttributes,l,null);const{attributes:$}=l;if(!$||_n(l))return;const L={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:te,forceKeepAttr:void 0};let Y=$.length;for(;Y--;){const ne=$[Y],{name:Z,namespaceURI:ue,value:Ae}=ne,it=J(Z),kn=Ae;let se=Z==="value"?kn:tu(kn);if(L.attrName=it,L.attrValue=se,L.keepAttr=!0,L.forceKeepAttr=void 0,Se(B.uponSanitizeAttribute,l,L),se=L.attrValue,Gn&&(it==="id"||it==="name")&&(Ze(Z,l),se=ca+se),Lt&&ae(/((--!?|])>)|<\/(style|title)/i,se)){Ze(Z,l);continue}if(L.forceKeepAttr)continue;if(!L.keepAttr){Ze(Z,l);continue}if(!zn&&ae(/\/>/i,se)){Ze(Z,l);continue}We&&Nt([H,K,Re],ls=>{se=dt(se,ls," ")});const is=J(l.nodeName);if(!as(is,it,se)){Ze(Z,l);continue}if(_&&typeof k=="object"&&typeof k.getAttributeType=="function"&&!ue)switch(k.getAttributeType(is,it)){case"TrustedHTML":{se=_.createHTML(se);break}case"TrustedScriptURL":{se=_.createScriptURL(se);break}}if(se!==kn)try{ue?l.setAttributeNS(ue,Z,se):l.setAttribute(Z,se),_n(l)?be(l):Es(t.removed)}catch{Ze(Z,l)}}Se(B.afterSanitizeAttributes,l,null)},ya=function P(l){let $=null;const L=ts(l);for(Se(B.beforeSanitizeShadowDOM,l,null);$=L.nextNode();)Se(B.uponSanitizeShadowNode,$,null),ss($),rs($),$.content instanceof o&&P($.content);Se(B.afterSanitizeShadowDOM,l,null)};return t.sanitize=function(P){let l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},$=null,L=null,Y=null,ne=null;if(yn=!P,yn&&(P="<!-->"),typeof P!="string"&&!ns(P))if(typeof P.toString=="function"){if(P=P.toString(),typeof P!="string")throw mt("dirty is not a string, aborting")}else throw mt("toString is not a function");if(!t.isSupported)return P;if(pn||bn(l),t.removed=[],typeof P=="string"&&(ot=!1),ot){if(P.nodeName){const Ae=J(P.nodeName);if(!G[Ae]||at[Ae])throw mt("root node is forbidden and cannot be sanitized in-place")}}else if(P instanceof i)$=es("<!---->"),L=$.ownerDocument.importNode(P,!0),L.nodeType===ft.element&&L.nodeName==="BODY"||L.nodeName==="HTML"?$=L:$.appendChild(L);else{if(!Ge&&!We&&!Ve&&P.indexOf("<")===-1)return _&&Ot?_.createHTML(P):P;if($=es(P),!$)return Ge?null:Ot?D:""}$&&fn&&be($.firstChild);const Z=ts(ot?P:$);for(;Y=Z.nextNode();)ss(Y),rs(Y),Y.content instanceof o&&ya(Y.content);if(ot)return P;if(Ge){if(Ct)for(ne=ee.call($.ownerDocument);$.firstChild;)ne.appendChild($.firstChild);else ne=$;return(te.shadowroot||te.shadowrootmode)&&(ne=st.call(s,ne,!0)),ne}let ue=Ve?$.outerHTML:$.innerHTML;return Ve&&G["!doctype"]&&$.ownerDocument&&$.ownerDocument.doctype&&$.ownerDocument.doctype.name&&ae(ra,$.ownerDocument.doctype.name)&&(ue="<!DOCTYPE "+$.ownerDocument.doctype.name+`>
`+ue),We&&Nt([H,K,Re],Ae=>{ue=dt(ue,Ae," ")}),_&&Ot?_.createHTML(ue):ue},t.setConfig=function(){let P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};bn(P),pn=!0},t.clearConfig=function(){Xe=null,pn=!1},t.isValidAttribute=function(P,l,$){Xe||bn({});const L=J(P),Y=J(l);return as(L,Y,$)},t.addHook=function(P,l){typeof l=="function"&&ct(B[P],l)},t.removeHook=function(P,l){if(l!==void 0){const $=Jl(B[P],l);return $===-1?void 0:Ql(B[P],$,1)[0]}return Es(B[P])},t.removeHooks=function(P){B[P]=[]},t.removeAllHooks=function(){B=xs()},t}var vu=ia();function yu(e,t){const n=e.hooks??{};let s;for(s in n){const a=n[s];a!==void 0&&t.addHook(s,a)}}function la(){return vu()}function hu(e={},t=la){const n=t();yu(e,n);const s=function(r){const i=r.value;if(r.oldValue===i)return;const m=`${i}`,u=r.arg,f=e.namedConfigurations,c=e.default??{};return f&&u!==void 0?n.sanitize(m,f[u]??c):n.sanitize(m,c)},a=function(r,i){const m=s(i);m!==void 0&&(r.innerHTML=m)},o={mounted:a,updated:a};return e.enableSSRPropsSupport?{...o,getSSRProps(r){return{innerHTML:s(r)}}}:o}const bu={install(e,t={},n=la){e.directive("dompurify-html",hu(t,n))}},_u=ci(),ua=Ga();ua.use(qa);await Un.getInstance();Pa(wr).use(ua).use(Yl).use(Zt).use(_u).use(bu).mount("#app");
