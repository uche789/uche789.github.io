import{d as X,c as ee,t as We,n as Vs,b as B,e as k,u as h,F as H,z as U,f as M,g as Ae,j as On,a0 as Mn,l as O,x as y,V as js,o as d,y as E,i as xn,a1 as In,a2 as $n,w as Be,v as Nn,a3 as Hn,a4 as Un,W as Fn,m as v,E as Bn,A as V,q as Zt,S as qs,D as Se,Y as Vt,B as Jt,R as Ys,U as Ks,Z as Wn,a5 as zn,a6 as Gn}from"./RichEditor-DQzkoqnZ.js";import{a as Ee,l as Vn,d as Le,_ as ze,u as Pe,T as vt,m as Fe,e as ke,n as At,o as tt,p as Xs,q as jn,c as Qt,L as qn,r as Yn,s as Es,g as Zs,h as Kn,k as _t,t as Xn,v as Zn}from"./component-base-BtZq3Ax7.js";import{s as Ce,_ as Jn,r as L,e as Qn,h as eo,i as to,T as fe,j as Js,p as Qs,f as en,k as Re,l as st,b as so,m as tn,g as no,n as sn,F as Ke,o as oo}from"./layout-ChbXxXJa.js";import{u as Ge,D as ie,a as he,o as ao,N as io,L as es,p as ro}from"./stores-DPqU8rgR.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))n(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const r of a.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&n(r)}).observe(document,{childList:!0,subtree:!0});function s(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(o){if(o.ep)return;o.ep=!0;const a=s(o);fetch(o.href,a)}})();const Ls=()=>{const t=window.navigator.userAgent.toLowerCase();return t.includes("iphone")||t.includes("android")&&t.includes("mobile safari")||t.includes("samsung")&&t.includes("mobile safari")},lo=()=>{const t=Ge(),e=window.matchMedia("(min-width: 768px) and (max-width: 1024px)"),s=window.matchMedia("(min-width: 768px) and (max-width: 1024px) and (orientation: landscape)"),n=window.matchMedia("(min-width: 320px) and (max-width: 480px)"),o=window.matchMedia("(min-width: 481px) and (max-width: 767px)"),a=(r,c)=>{if(r===ie.isTabletPortrait&&Ls()){t.setMediaMatch(ie.isMobilePortrait,c);return}if(r===ie.isTabletPortrait&&Ls()){t.setMediaMatch(ie.isMobileLandscape,c);return}t.setMediaMatch(r,c)};s.matches&&a(ie.isTabletLandscape,s.matches),e.matches&&a(ie.isTabletPortrait,e.matches),o.matches&&a(ie.isMobileLandscape,o.matches),n.matches&&a(ie.isMobilePortrait,n.matches),e.addEventListener("change",r=>{a(ie.isTabletPortrait,r.matches)}),s.addEventListener("change",r=>{a(ie.isTabletLandscape,r.matches)}),o.addEventListener("change",r=>{a(ie.isMobileLandscape,r.matches)}),n.addEventListener("change",r=>{a(ie.isMobilePortrait,r.matches)})};function co(t){return new Worker(""+new URL("cleanup-CFxxlDiW.js",import.meta.url).href,{name:t?.name})}function uo(){if(window.Worker){const t=new co;t.onmessage=e=>{console.log(e.data)},t.postMessage("start cleanup worker")}}const fo=X({__name:"App",setup(t){const e=Ee(),s=ee(()=>!!e.name),n=ee(()=>e.name===L.Setup),o=Ge(),a=he(),{isMobile:r}=Ce(o);uo(),We(async()=>{lo(),await Vs(),a.getCount()});const c=B(!1),f=m=>{c.value=m},u=ee(()=>r.value?Qn:eo);return(m,l)=>{const g=js("router-view");return d(),k("div",{class:Ae({"theme-fun-cat":h(o).settings?.theme==="fun-cat"})},[h(o).globalLoading?(d(),k(H,{key:0},[U("Loading...")],64)):s.value?(d(),k(H,{key:1},[n.value?(d(),M(g,{key:0})):(d(),k("div",{key:1,class:Ae({"page-container":!h(r)})},[(d(),M(On(u.value),{onCollasped:l[0]||(l[0]=b=>f(b))},null,32)),Mn([c.value,h(r)],()=>y(Jn,{"collasped-menu":c.value,"is-mobile":h(r)},{default:E(()=>[y(g)]),_:1},8,["collasped-menu","is-mobile"]),l,1),h(r)?(d(),M(to,{key:0})):O("",!0)],2))],64)):(d(),M(g,{key:2})),y(Vn)],2)}}}),po=new Set(["title","titleTemplate","script","style","noscript"]),ht=new Set(["base","meta","link","style","script","noscript"]),mo=new Set(["title","titleTemplate","templateParams","base","htmlAttrs","bodyAttrs","meta","link","style","script","noscript"]),go=new Set(["base","title","titleTemplate","bodyAttrs","htmlAttrs","templateParams"]),nn=new Set(["tagPosition","tagPriority","tagDuplicateStrategy","children","innerHTML","textContent","processTemplateParams"]),ho=typeof window<"u";function kt(t){let e=9;for(let s=0;s<t.length;)e=Math.imul(e^t.charCodeAt(s++),9**9);return((e^e>>>9)+65536).toString(16).substring(1,8).toLowerCase()}function jt(t){if(t._h)return t._h;if(t._d)return kt(t._d);let e=`${t.tag}:${t.textContent||t.innerHTML||""}:`;for(const s in t.props)e+=`${s}:${String(t.props[s])},`;return kt(e)}function yo(t,e){return t instanceof Promise?t.then(e):e(t)}function qt(t,e,s,n){const o=n||an(typeof e=="object"&&typeof e!="function"&&!(e instanceof Promise)?{...e}:{[t==="script"||t==="noscript"||t==="style"?"innerHTML":"textContent"]:e},t==="templateParams"||t==="titleTemplate");if(o instanceof Promise)return o.then(r=>qt(t,e,s,r));const a={tag:t,props:o};for(const r of nn){const c=a.props[r]!==void 0?a.props[r]:s[r];c!==void 0&&((!(r==="innerHTML"||r==="textContent"||r==="children")||po.has(a.tag))&&(a[r==="children"?"innerHTML":r]=c),delete a.props[r])}return a.props.body&&(a.tagPosition="bodyClose",delete a.props.body),a.tag==="script"&&typeof a.innerHTML=="object"&&(a.innerHTML=JSON.stringify(a.innerHTML),a.props.type=a.props.type||"application/json"),Array.isArray(a.props.content)?a.props.content.map(r=>({...a,props:{...a.props,content:r}})):a}function vo(t,e){const s=t==="class"?" ":";";return e&&typeof e=="object"&&!Array.isArray(e)&&(e=Object.entries(e).filter(([,n])=>n).map(([n,o])=>t==="style"?`${n}:${o}`:n)),String(Array.isArray(e)?e.join(s):e)?.split(s).filter(n=>!!n.trim()).join(s)}function on(t,e,s,n){for(let o=n;o<s.length;o+=1){const a=s[o];if(a==="class"||a==="style"){t[a]=vo(a,t[a]);continue}if(t[a]instanceof Promise)return t[a].then(r=>(t[a]=r,on(t,e,s,o)));if(!e&&!nn.has(a)){const r=String(t[a]),c=a.startsWith("data-");r==="true"||r===""?t[a]=c?"true":!0:t[a]||(c&&r==="false"?t[a]="false":delete t[a])}}}function an(t,e=!1){const s=on(t,e,Object.keys(t),0);return s instanceof Promise?s.then(()=>t):t}const _o=10;function rn(t,e,s){for(let n=s;n<e.length;n+=1){const o=e[n];if(o instanceof Promise)return o.then(a=>(e[n]=a,rn(t,e,n)));Array.isArray(o)?t.push(...o):t.push(o)}}function ko(t){const e=[],s=t.resolvedInput;for(const o in s){if(!Object.prototype.hasOwnProperty.call(s,o))continue;const a=s[o];if(!(a===void 0||!mo.has(o))){if(Array.isArray(a)){for(const r of a)e.push(qt(o,r,t));continue}e.push(qt(o,a,t))}}if(e.length===0)return[];const n=[];return yo(rn(n,e,0),()=>n.map((o,a)=>(o._e=t._i,t.mode&&(o._m=t.mode),o._p=(t._i<<_o)+a,o)))}const Ps=new Set(["onload","onerror","onabort","onprogress","onloadstart"]),Cs={base:-10,title:10},Rs={critical:-80,high:-10,low:20};function Tt(t){const e=t.tagPriority;if(typeof e=="number")return e;let s=100;return t.tag==="meta"?t.props["http-equiv"]==="content-security-policy"?s=-30:t.props.charset?s=-20:t.props.name==="viewport"&&(s=-15):t.tag==="link"&&t.props.rel==="preconnect"?s=20:t.tag in Cs&&(s=Cs[t.tag]),e&&e in Rs?s+Rs[e]:s}const To=[{prefix:"before:",offset:-1},{prefix:"after:",offset:1}],bo=["name","property","http-equiv"];function ln(t){const{props:e,tag:s}=t;if(go.has(s))return s;if(s==="link"&&e.rel==="canonical")return"canonical";if(e.charset)return"charset";if(e.id)return`${s}:id:${e.id}`;for(const n of bo)if(e[n]!==void 0)return`${s}:${n}:${e[n]}`;return!1}const ye="%separator";function wo(t,e,s=!1){let n;if(e==="s"||e==="pageTitle")n=t.pageTitle;else if(e.includes(".")){const o=e.indexOf(".");n=t[e.substring(0,o)]?.[e.substring(o+1)]}else n=t[e];if(n!==void 0)return s?(n||"").replace(/"/g,'\\"'):n||""}const Ao=new RegExp(`${ye}(?:\\s*${ye})*`,"g");function pt(t,e,s,n=!1){if(typeof t!="string"||!t.includes("%"))return t;let o=t;try{o=decodeURI(t)}catch{}const a=o.match(/%\w+(?:\.\w+)?/g);if(!a)return t;const r=t.includes(ye);return t=t.replace(/%\w+(?:\.\w+)?/g,c=>{if(c===ye||!a.includes(c))return c;const f=wo(e,c.slice(1),n);return f!==void 0?f:c}).trim(),r&&(t.endsWith(ye)&&(t=t.slice(0,-ye.length)),t.startsWith(ye)&&(t=t.slice(ye.length)),t=t.replace(Ao,s).trim()),t}function Ds(t,e){return t==null?e||null:typeof t=="function"?t(e):t}async function So(t,e={}){const s=e.document||t.resolvedOptions.document;if(!s||!t.dirty)return;const n={shouldRender:!0,tags:[]};if(await t.hooks.callHook("dom:beforeRender",n),!!n.shouldRender)return t._domUpdatePromise||(t._domUpdatePromise=new Promise(async o=>{const a=(await t.resolveTags()).map(l=>({tag:l,id:ht.has(l.tag)?jt(l):l.tag,shouldRender:!0}));let r=t._dom;if(!r){r={elMap:{htmlAttrs:s.documentElement,bodyAttrs:s.body}};const l=new Set;for(const g of["body","head"]){const b=s[g]?.children;for(const C of b){const x=C.tagName.toLowerCase();if(!ht.has(x))continue;const R={tag:x,props:await an(C.getAttributeNames().reduce((D,se)=>({...D,[se]:C.getAttribute(se)}),{})),innerHTML:C.innerHTML},S=ln(R);let w=S,I=1;for(;w&&l.has(w);)w=`${S}:${I++}`;w&&(R._d=w,l.add(w)),r.elMap[C.getAttribute("data-hid")||jt(R)]=C}}}r.pendingSideEffects={...r.sideEffects},r.sideEffects={};function c(l,g,b){const C=`${l}:${g}`;r.sideEffects[C]=b,delete r.pendingSideEffects[C]}function f({id:l,$el:g,tag:b}){const C=b.tag.endsWith("Attrs");if(r.elMap[l]=g,C||(b.textContent&&b.textContent!==g.textContent&&(g.textContent=b.textContent),b.innerHTML&&b.innerHTML!==g.innerHTML&&(g.innerHTML=b.innerHTML),c(l,"el",()=>{r.elMap[l]?.remove(),delete r.elMap[l]})),b._eventHandlers)for(const x in b._eventHandlers)Object.prototype.hasOwnProperty.call(b._eventHandlers,x)&&g.getAttribute(`data-${x}`)!==""&&((b.tag==="bodyAttrs"?s.defaultView:g).addEventListener(x.substring(2),b._eventHandlers[x].bind(g)),g.setAttribute(`data-${x}`,""));for(const x in b.props){if(!Object.prototype.hasOwnProperty.call(b.props,x))continue;const R=b.props[x],S=`attr:${x}`;if(x==="class"){if(!R)continue;for(const w of R.split(" "))C&&c(l,`${S}:${w}`,()=>g.classList.remove(w)),!g.classList.contains(w)&&g.classList.add(w)}else if(x==="style"){if(!R)continue;for(const w of R.split(";")){const I=w.indexOf(":"),D=w.substring(0,I).trim(),se=w.substring(I+1).trim();c(l,`${S}:${D}`,()=>{g.style.removeProperty(D)}),g.style.setProperty(D,se)}}else g.getAttribute(x)!==R&&g.setAttribute(x,R===!0?"":String(R)),C&&c(l,S,()=>g.removeAttribute(x))}}const u=[],m={bodyClose:void 0,bodyOpen:void 0,head:void 0};for(const l of a){const{tag:g,shouldRender:b,id:C}=l;if(b){if(g.tag==="title"){s.title=g.textContent;continue}l.$el=l.$el||r.elMap[C],l.$el?f(l):ht.has(g.tag)&&u.push(l)}}for(const l of u){const g=l.tag.tagPosition||"head";l.$el=s.createElement(l.tag.tag),f(l),m[g]=m[g]||s.createDocumentFragment(),m[g].appendChild(l.$el)}for(const l of a)await t.hooks.callHook("dom:renderTag",l,s,c);m.head&&s.head.appendChild(m.head),m.bodyOpen&&s.body.insertBefore(m.bodyOpen,s.body.firstChild),m.bodyClose&&s.body.appendChild(m.bodyClose);for(const l in r.pendingSideEffects)r.pendingSideEffects[l]();t._dom=r,await t.hooks.callHook("dom:rendered",{renders:a}),o()}).finally(()=>{t._domUpdatePromise=void 0,t.dirty=!1})),t._domUpdatePromise}function Eo(t,e={}){const s=e.delayFn||(n=>setTimeout(n,10));return t._domDebouncedUpdatePromise=t._domDebouncedUpdatePromise||new Promise(n=>s(()=>So(t,e).then(()=>{delete t._domDebouncedUpdatePromise,n()})))}function Lo(t){return e=>{const s=e.resolvedOptions.document?.head.querySelector('script[id="unhead:payload"]')?.innerHTML||!1;return s&&e.push(JSON.parse(s)),{mode:"client",hooks:{"entries:updated":n=>{Eo(n,t)}}}}}function Yt(t,e={},s){for(const n in t){const o=t[n],a=s?`${s}:${n}`:n;typeof o=="object"&&o!==null?Yt(o,e,a):typeof o=="function"&&(e[a]=o)}return e}const Po={run:t=>t()},Co=()=>Po,cn=typeof console.createTask<"u"?console.createTask:Co;function Ro(t,e){const s=e.shift(),n=cn(s);return t.reduce((o,a)=>o.then(()=>n.run(()=>a(...e))),Promise.resolve())}function Do(t,e){const s=e.shift(),n=cn(s);return Promise.all(t.map(o=>n.run(()=>o(...e))))}function Ut(t,e){for(const s of[...t])s(e)}class Oo{constructor(){this._hooks={},this._before=void 0,this._after=void 0,this._deprecatedMessages=void 0,this._deprecatedHooks={},this.hook=this.hook.bind(this),this.callHook=this.callHook.bind(this),this.callHookWith=this.callHookWith.bind(this)}hook(e,s,n={}){if(!e||typeof s!="function")return()=>{};const o=e;let a;for(;this._deprecatedHooks[e];)a=this._deprecatedHooks[e],e=a.to;if(a&&!n.allowDeprecated){let r=a.message;r||(r=`${o} hook has been deprecated`+(a.to?`, please use ${a.to}`:"")),this._deprecatedMessages||(this._deprecatedMessages=new Set),this._deprecatedMessages.has(r)||(console.warn(r),this._deprecatedMessages.add(r))}if(!s.name)try{Object.defineProperty(s,"name",{get:()=>"_"+e.replace(/\W+/g,"_")+"_hook_cb",configurable:!0})}catch{}return this._hooks[e]=this._hooks[e]||[],this._hooks[e].push(s),()=>{s&&(this.removeHook(e,s),s=void 0)}}hookOnce(e,s){let n,o=(...a)=>(typeof n=="function"&&n(),n=void 0,o=void 0,s(...a));return n=this.hook(e,o),n}removeHook(e,s){if(this._hooks[e]){const n=this._hooks[e].indexOf(s);n!==-1&&this._hooks[e].splice(n,1),this._hooks[e].length===0&&delete this._hooks[e]}}deprecateHook(e,s){this._deprecatedHooks[e]=typeof s=="string"?{to:s}:s;const n=this._hooks[e]||[];delete this._hooks[e];for(const o of n)this.hook(e,o)}deprecateHooks(e){Object.assign(this._deprecatedHooks,e);for(const s in e)this.deprecateHook(s,e[s])}addHooks(e){const s=Yt(e),n=Object.keys(s).map(o=>this.hook(o,s[o]));return()=>{for(const o of n.splice(0,n.length))o()}}removeHooks(e){const s=Yt(e);for(const n in s)this.removeHook(n,s[n])}removeAllHooks(){for(const e in this._hooks)delete this._hooks[e]}callHook(e,...s){return s.unshift(e),this.callHookWith(Ro,e,...s)}callHookParallel(e,...s){return s.unshift(e),this.callHookWith(Do,e,...s)}callHookWith(e,s,...n){const o=this._before||this._after?{name:s,args:n,context:{}}:void 0;this._before&&Ut(this._before,o);const a=e(s in this._hooks?[...this._hooks[s]]:[],n);return a instanceof Promise?a.finally(()=>{this._after&&o&&Ut(this._after,o)}):(this._after&&o&&Ut(this._after,o),a)}beforeEach(e){return this._before=this._before||[],this._before.push(e),()=>{if(this._before!==void 0){const s=this._before.indexOf(e);s!==-1&&this._before.splice(s,1)}}}afterEach(e){return this._after=this._after||[],this._after.push(e),()=>{if(this._after!==void 0){const s=this._after.indexOf(e);s!==-1&&this._after.splice(s,1)}}}}function Mo(){return new Oo}const xo=new Set(["templateParams","htmlAttrs","bodyAttrs"]),Io={hooks:{"tag:normalise":({tag:t})=>{t.props.hid&&(t.key=t.props.hid,delete t.props.hid),t.props.vmid&&(t.key=t.props.vmid,delete t.props.vmid),t.props.key&&(t.key=t.props.key,delete t.props.key);const e=ln(t);e&&!e.startsWith("meta:og:")&&!e.startsWith("meta:twitter:")&&delete t.key;const s=e||(t.key?`${t.tag}:${t.key}`:!1);s&&(t._d=s)},"tags:resolve":t=>{const e=Object.create(null);for(const n of t.tags){const o=(n.key?`${n.tag}:${n.key}`:n._d)||jt(n),a=e[o];if(a){let c=n?.tagDuplicateStrategy;if(!c&&xo.has(n.tag)&&(c="merge"),c==="merge"){const f=a.props;f.style&&n.props.style&&(f.style[f.style.length-1]!==";"&&(f.style+=";"),n.props.style=`${f.style} ${n.props.style}`),f.class&&n.props.class?n.props.class=`${f.class} ${n.props.class}`:f.class&&(n.props.class=f.class),e[o].props={...f,...n.props};continue}else if(n._e===a._e){a._duped=a._duped||[],n._d=`${a._d}:${a._duped.length+1}`,a._duped.push(n);continue}else if(Tt(n)>Tt(a))continue}if(!(n.innerHTML||n.textContent||Object.keys(n.props).length!==0)&&ht.has(n.tag)){delete e[o];continue}e[o]=n}const s=[];for(const n in e){const o=e[n],a=o._duped;s.push(o),a&&(delete o._duped,s.push(...a))}t.tags=s,t.tags=t.tags.filter(n=>!(n.tag==="meta"&&(n.props.name||n.props.property)&&!n.props.content))}}},$o=new Set(["script","link","bodyAttrs"]),No=t=>({hooks:{"tags:resolve":e=>{for(const s of e.tags){if(!$o.has(s.tag))continue;const n=s.props;for(const o in n){if(o[0]!=="o"||o[1]!=="n"||!Object.prototype.hasOwnProperty.call(n,o))continue;const a=n[o];typeof a=="function"&&(t.ssr&&Ps.has(o)?n[o]=`this.dataset.${o}fired = true`:delete n[o],s._eventHandlers=s._eventHandlers||{},s._eventHandlers[o]=a)}t.ssr&&s._eventHandlers&&(s.props.src||s.props.href)&&(s.key=s.key||kt(s.props.src||s.props.href))}},"dom:renderTag":({$el:e,tag:s})=>{const n=e?.dataset;if(n)for(const o in n){if(!o.endsWith("fired"))continue;const a=o.slice(0,-5);Ps.has(a)&&s._eventHandlers?.[a]?.call(e,new Event(a.substring(2)))}}}}),Ho=new Set(["link","style","script","noscript"]),Uo={hooks:{"tag:normalise":({tag:t})=>{t.key&&Ho.has(t.tag)&&(t.props["data-hid"]=t._h=kt(t.key))}}},Fo={mode:"server",hooks:{"tags:beforeResolve":t=>{const e={};let s=!1;for(const n of t.tags)n._m!=="server"||n.tag!=="titleTemplate"&&n.tag!=="templateParams"&&n.tag!=="title"||(e[n.tag]=n.tag==="title"||n.tag==="titleTemplate"?n.textContent:n.props,s=!0);s&&t.tags.push({tag:"script",innerHTML:JSON.stringify(e),props:{id:"unhead:payload",type:"application/json"}})}}},Bo={hooks:{"tags:resolve":t=>{for(const e of t.tags)if(typeof e.tagPriority=="string")for(const{prefix:s,offset:n}of To){if(!e.tagPriority.startsWith(s))continue;const o=e.tagPriority.substring(s.length),a=t.tags.find(r=>r._d===o)?._p;if(a!==void 0){e._p=a+n;break}}t.tags.sort((e,s)=>{const n=Tt(e),o=Tt(s);return n<o?-1:n>o?1:e._p-s._p})}}},Wo={meta:"content",link:"href",htmlAttrs:"lang"},zo=["innerHTML","textContent"],Go=t=>({hooks:{"tags:resolve":e=>{const{tags:s}=e;let n;for(let r=0;r<s.length;r+=1)s[r].tag==="templateParams"&&(n=e.tags.splice(r,1)[0].props,r-=1);const o=n||{},a=o.separator||"|";delete o.separator,o.pageTitle=pt(o.pageTitle||s.find(r=>r.tag==="title")?.textContent||"",o,a);for(const r of s){if(r.processTemplateParams===!1)continue;const c=Wo[r.tag];if(c&&typeof r.props[c]=="string")r.props[c]=pt(r.props[c],o,a);else if(r.processTemplateParams||r.tag==="titleTemplate"||r.tag==="title")for(const f of zo)typeof r[f]=="string"&&(r[f]=pt(r[f],o,a,r.tag==="script"&&r.props.type.endsWith("json")))}t._templateParams=o,t._separator=a},"tags:afterResolve":({tags:e})=>{let s;for(let n=0;n<e.length;n+=1){const o=e[n];o.tag==="title"&&o.processTemplateParams!==!1&&(s=o)}s?.textContent&&(s.textContent=pt(s.textContent,t._templateParams,t._separator))}}}),Vo={hooks:{"tags:resolve":t=>{const{tags:e}=t;let s,n;for(let o=0;o<e.length;o+=1){const a=e[o];a.tag==="title"?s=a:a.tag==="titleTemplate"&&(n=a)}if(n&&s){const o=Ds(n.textContent,s.textContent);o!==null?s.textContent=o||s.textContent:t.tags.splice(t.tags.indexOf(s),1)}else if(n){const o=Ds(n.textContent);o!==null&&(n.textContent=o,n.tag="title",n=void 0)}n&&t.tags.splice(t.tags.indexOf(n),1)}}},jo={hooks:{"tags:afterResolve":t=>{for(const e of t.tags)typeof e.innerHTML=="string"&&(e.innerHTML&&(e.props.type==="application/ld+json"||e.props.type==="application/json")?e.innerHTML=e.innerHTML.replace(/</g,"\\u003C"):e.innerHTML=e.innerHTML.replace(new RegExp(`</${e.tag}`,"g"),`<\\/${e.tag}`))}}};let un;function qo(t={}){const e=Yo(t);return e.use(Lo()),un=e}function Os(t,e){return!t||t==="server"&&e||t==="client"&&!e}function Yo(t={}){const e=Mo();e.addHooks(t.hooks||{}),t.document=t.document||(ho?document:void 0);const s=!t.document,n=()=>{c.dirty=!0,e.callHook("entries:updated",c)};let o=0,a=[];const r=[],c={plugins:r,dirty:!1,resolvedOptions:t,hooks:e,headEntries(){return a},use(f){const u=typeof f=="function"?f(c):f;(!u.key||!r.some(m=>m.key===u.key))&&(r.push(u),Os(u.mode,s)&&e.addHooks(u.hooks||{}))},push(f,u){delete u?.head;const m={_i:o++,input:f,...u};return Os(m.mode,s)&&(a.push(m),n()),{dispose(){a=a.filter(l=>l._i!==m._i),n()},patch(l){for(const g of a)g._i===m._i&&(g.input=m.input=l);n()}}},async resolveTags(){const f={tags:[],entries:[...a]};await e.callHook("entries:resolve",f);for(const u of f.entries){const m=u.resolvedInput||u.input;if(u.resolvedInput=await(u.transform?u.transform(m):m),u.resolvedInput)for(const l of await ko(u)){const g={tag:l,entry:u,resolvedOptions:c.resolvedOptions};await e.callHook("tag:normalise",g),f.tags.push(g.tag)}}return await e.callHook("tags:beforeResolve",f),await e.callHook("tags:resolve",f),await e.callHook("tags:afterResolve",f),f.tags},ssr:s};return[Io,Fo,No,Uo,Bo,Go,Vo,jo,...t?.plugins||[]].forEach(f=>c.use(f)),c.hooks.callHook("init",c),c}function Ko(){return un}const Xo=In[0]==="3";function Zo(t){return typeof t=="function"?t():h(t)}function bt(t){if(t instanceof Promise||t instanceof Date||t instanceof RegExp)return t;const e=Zo(t);if(!t||!e)return e;if(Array.isArray(e))return e.map(s=>bt(s));if(typeof e=="object"){const s={};for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(n==="titleTemplate"||n[0]==="o"&&n[1]==="n"){s[n]=h(e[n]);continue}s[n]=bt(e[n])}return s}return e}const Jo={hooks:{"entries:resolve":t=>{for(const e of t.entries)e.resolvedInput=bt(e.input)}}},dn="usehead";function Qo(t){return{install(s){Xo&&(s.config.globalProperties.$unhead=t,s.config.globalProperties.$head=t,s.provide(dn,t))}}.install}function ea(t={}){t.domDelayFn=t.domDelayFn||(s=>Vs(()=>setTimeout(()=>s(),0)));const e=qo(t);return e.use(Jo),e.install=Qo(e),e}const Ms=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},xs="__unhead_injection_handler__";function ta(){if(xs in Ms)return Ms[xs]();const t=xn(dn);return t||Ko()}function Te(t,e={}){const s=e.head||ta();if(s)return s.ssr?s.push(t,e):sa(s,t,e)}function sa(t,e,s={}){const n=B(!1),o=B({});$n(()=>{o.value=n.value?{}:bt(e)});const a=t.push(o.value,s);return Be(o,c=>{a.patch(c)}),Fn()&&(Nn(()=>{a.dispose()}),Hn(()=>{n.value=!0}),Un(()=>{n.value=!1})),a}function na(t){const e=t;return e.headTags=t.resolveTags,e.addEntry=t.push,e.addHeadObjs=t.push,e.addReactiveEntry=(s,n)=>{const o=Te(s,n);return o!==void 0?o.dispose:()=>{}},e.removeHeadObjs=()=>{},e.updateDOM=()=>{t.hooks.callHook("entries:updated",t)},e.unhead=t,e}function oa(t,e){const s=ea({});return na(s)}const aa=""+new URL("../empty-list-missing-cat.png",import.meta.url).href,ia=""+new URL("../empty-list.svg",import.meta.url).href,ra={class:"empty-list"},la={key:0},ca={key:1},ua=X({__name:"EmptyList",props:{isTaskList:{type:Boolean,default:!0}},setup(t){return(e,s)=>(d(),k("div",ra,[s[0]||(s[0]=v("img",{class:"empty-list--fun-cat",src:aa,alt:"empty list"},null,-1)),s[1]||(s[1]=v("img",{class:"empty-list--default-image",src:ia,alt:"empty list"},null,-1)),v("p",null,[t.isTaskList?(d(),k("span",la,"You have no tasks in this list.")):(d(),k("span",ca,"You have no lists at the moment."))])]))}}),nt=Le(ua,[["__scopeId","data-v-e140825f"]]),da={class:"progress-bar"},fa={class:"progress-bar__progress"},pa={class:"progress-bar__info"},ma=X({__name:"ProgressBar",props:{completed:{type:Number,default:0},length:{type:Number,default:0}},setup(t){const e=t,s=ee(()=>e.completed>e.length||e.completed===0?"0%":e.completed/e.length*100+"%");return(n,o)=>(d(),k("div",da,[v("div",fa,[v("div",{class:"progress-bar--progress-complete",style:Bn({width:s.value})},null,4)]),v("span",pa,[t.completed===t.length?(d(),M(ze,{key:0,name:"doneAll"})):O("",!0),v("span",null,V(t.completed)+" / "+V(t.length)+" Tasks done",1)])]))}}),ga={},ha={class:"task-group"};function ya(t,e){return d(),k("div",ha,[v("ul",null,[Zt(t.$slots,"default")])])}const St=Le(ga,[["render",ya]]),va=""+new URL("../cat_done.png",import.meta.url).href,_a=""+new URL("../cat_open.png",import.meta.url).href,ka=["aria-label"],Ta=X({__name:"ModifyButton",props:{label:{type:String,default:""},icon:{type:String,required:!0,validator:t=>["edit","trash","chevronRight"].includes(t)}},setup(t){const e=t,s=ee(()=>e.label?e.label:e.icon);return(n,o)=>(d(),k("button",{class:Ae(["modify-button",{"modify-button--delete":t.icon==="trash"}]),"aria-label":s.value},[y(ze,{"aria-hidden":"true",name:t.icon},null,8,["name"])],10,ka))}}),de=Le(Ta,[["__scopeId","data-v-48889262"]]),ba={class:"task__content"},wa={key:0,src:va,style:{width:"40px",height:"40px"},alt:""},Aa={key:1,src:_a,alt:"",style:{width:"40px",height:"40px"}},Sa={class:"task__main"},Ea={class:"task__title"},La={class:"task__details"},Pa={key:0,class:"task__time"},Ca={key:0},Ra={class:"task__labels"},Da={key:0},Oa={key:0},Ma={key:1},xa={class:"task__goto"},Et=X({__name:"TaskItem",props:{task:{type:Object,required:!0},editable:{type:Boolean,default:!0},editState:{type:Boolean,default:!1},showChips:{type:Boolean,default:!0},isToday:{type:Boolean,default:!1},returnUrl:{type:String,default:""}},emits:["status-toggle"],setup(t){const e=t,s=Pe(),n=c=>Qs[c],o=Ge(),a=c=>{s.push({name:L.TaskOverview,params:{id:c},query:{returnUrl:e.returnUrl}})},r=c=>en(c);return(c,f)=>(d(),k("li",{class:Ae(["task",{"task--done":t.task.status===h(fe).Done}])},[v("div",ba,[Zt(c.$slots,"toggle-checkbox",{},()=>[t.editState&&h(o).settings.theme==="fun-cat"?(d(),k("button",{key:0,"aria-label":"item state toggle",onClick:f[0]||(f[0]=u=>c.$emit("status-toggle"))},[t.task.status===h(fe).Done?(d(),k("img",wa)):(d(),k("img",Aa))])):t.editState?(d(),k("div",{key:1,class:"task__state",role:"button","aria-label":"item state toggle",onClick:f[1]||(f[1]=u=>c.$emit("status-toggle")),onKeydown:f[2]||(f[2]=qs(u=>c.$emit("status-toggle"),["enter"]))},null,32)):O("",!0)]),v("div",Sa,[v("p",Ea,V(t.task.description),1),v("div",La,[t.task.startTime?(d(),k("span",Pa,[y(vt,null,{default:E(()=>[U(V(t.task.startTime),1)]),_:1}),t.task.endTime?(d(),k("span",Ca,[f[4]||(f[4]=U("- ")),y(vt,null,{default:E(()=>[U(V(t.task.endTime),1)]),_:1})])):O("",!0)])):O("",!0)]),v("div",Ra,[y(Fe,{class:Ae([`task__priority--${n(t.task.priority).toLowerCase()}`]),label:n(t.task.priority)},null,8,["class","label"]),t.showChips?(d(),k(H,{key:0},[t.task.status===h(fe).Progress?(d(),M(Fe,{key:0,label:"In progress"})):O("",!0),t.task.carryOver?(d(),M(Fe,{key:1,label:"CarryOver"})):O("",!0),t.task.days?.length?(d(),M(Fe,{key:2,label:"Habit"})):O("",!0),t.editState&&t.task.endTime&&h(ao)(t.task.endTime)?(d(),M(Fe,{key:3,label:"Overdue",class:"task__labels--overdue"})):O("",!0)],64)):O("",!0)]),!t.showChips&&t.task.days?(d(),k("div",Da,[v("small",null,[f[5]||(f[5]=v("strong",null,"Days: ",-1)),(d(!0),k(H,null,Se(t.task.days,(u,m)=>(d(),k(H,{key:u},[v("span",null,V(h(Js)[u]),1),m<t.task.days.length-1?(d(),k("span",Oa,", ")):O("",!0)],64))),128))]),f[6]||(f[6]=v("br",null,null,-1))])):O("",!0),t.editState?O("",!0):(d(),k("div",Ma,[v("small",null,[f[7]||(f[7]=v("strong",null,"Start date: ",-1)),U(V(r(t.task.startDate)),1)])]))]),v("div",xa,[y(de,{icon:"chevronRight",label:"go to item "+t.task.description,onClick:f[3]||(f[3]=()=>a(t.task.id))},null,8,["label"])])])],2))}}),ot=()=>{const t=ke(),e=he(),s=Pe(),n=Ee(),o=ee(()=>n.query.sort==="priority"),a=ee(()=>n.query.sort==="completion"),r=ee(()=>n.query.sort==="action"),c=async(m,l)=>{try{await e.changeTaskStatus(m,l)}catch(g){throw t.error({title:"Error changing the status",text:"There was an error changing the status of the selected task."}),g}};return{byPriority:o,byCompletion:a,sortBy:m=>{const l=n.query;!m||l.sort===m?s.push({query:{...l,sort:void 0}}):s.push({query:{...l,sort:m}})},byAction:r,changeStatus:c,toggleProgress:m=>{m.status!==fe.Progress?c(m,fe.Progress):c(m,fe.Open)}}},Ia={},$a={class:"page-controls"},Na={class:"page-controls__content"};function Ha(t,e){return d(),k("div",$a,[v("div",Na,[Zt(t.$slots,"default")])])}const ve=Le(Ia,[["render",Ha]]),Ua={class:"add-button"},Fa=X({__name:"AddButton",props:{label:{type:String,default:""}},setup(t){return(e,s)=>(d(),k("button",Ua,[y(ze,{"aria-hidden":"true",name:"add"}),U(" Add"+V(t.label?` ${t.label}`:""),1)]))}}),at=Le(Fa,[["__scopeId","data-v-3c7ca739"]]),Ba=["aria-label"],Wa={"aria-hidden":"true"},za=X({__name:"ActionButton",props:{label:{type:String,required:!0},unSelectedLabel:{type:String,default:""},selected:{type:Boolean,default:!1},a11yLabel:{type:String,default:""},icon:{type:String,default:""}},setup(t){return(e,s)=>(d(),k("button",{class:Ae(["action-button",{"action-button--selected":t.selected}]),"aria-label":t.a11yLabel||t.label},[t.icon?(d(),M(ze,{key:0,"aria-hidden":"true",name:t.icon},null,8,["name"])):O("",!0),v("span",Wa,V(t.label),1)],10,Ba))}}),_e=Le(za,[["__scopeId","data-v-1622c312"]]),Ga={class:"today-view"},Va={class:"today-view__content"},ja="Today",qa=X({__name:"TodayView",setup(t){Te({title:De[L.Today].title});const e=Ee(),s=he(),{todaysTasks:n}=Ce(s),{changeStatus:o,toggleProgress:a,sortBy:r,byPriority:c,byCompletion:f,byAction:u}=ot(),m=ke(),l=B(!1),g=B([]),b=ee(()=>g.value.map(z=>n.value.data.find($=>$.id===Number(z)))),C=new Date().toDateString(),x=B(0),R=ee(()=>{const z=n.value.data.filter($=>$.status===fe.Done).length;return x.value+z});We(async()=>{await S(At(e))});const S=async z=>{await s.getTodaysTasks(z,c.value,f.value)};Be([c,f],()=>{S(n.value.pagination.page)});const w=async z=>{try{await S(z)}catch{m.error({text:"Could not fetch next page. Please try again later."})}},I=()=>{l.value=!1,S(n.value.pagination.page),m.success({text:"You successfully added a new task."})},D=()=>{b.value.length!==0&&(b.value.forEach(z=>{z&&a(z)}),g.value.length=0)},se=async()=>{const z=[];if(b.value.length!==0){b.value.forEach($=>{$&&z.push(s.deleteTask($.id))});try{await Promise.all(z)}catch{m.success({text:"Successfully deleted selected tasks"})}S(1),g.value.length=0}};return(z,$)=>(d(),k(H,null,[v("div",Ga,[y(Re,{title:ja,date:h(C)},Vt({_:2},[h(n).pagination.total?{name:"additional",fn:E(()=>[y(ma,{completed:R.value,length:h(n).pagination.total},null,8,["completed","length"])]),key:"0"}:void 0]),1032,["date"]),y(ve,null,{default:E(()=>[y(at,{label:"task",onClick:$[0]||($[0]=oe=>l.value=!0)}),$[7]||($[7]=v("span",{class:"sorting-divider"},"|",-1)),y(_e,{"a11y-label":"Sort by Priority",icon:"sort",label:"Priority",selected:h(c),onClick:$[1]||($[1]=oe=>h(r)("priority"))},null,8,["selected"]),y(_e,{"a11y-label":"Order by completion",icon:"sort",label:"Incomplete first",selected:h(f),onClick:$[2]||($[2]=()=>h(r)("completion"))},null,8,["selected"]),y(_e,{"a11y-label":"Actions: delete and mark as progress",icon:"sort",label:"Actions",selected:h(u),onClick:$[3]||($[3]=()=>h(r)("action"))},null,8,["selected"])]),_:1}),Jt(y(ve,null,{default:E(()=>[y(de,{icon:"progress",label:"mark as progress",onClick:D}),y(de,{icon:"trash",label:"trash items",onClick:se})]),_:1},512),[[Ys,h(u)]]),v("article",Va,[h(n).pagination.total?(d(),k(H,{key:0},[y(St,null,{default:E(()=>[(d(!0),k(H,null,Se(h(n).data,oe=>(d(),M(Et,{key:oe.id,task:oe,"is-today":!0,"edit-state":!0,"return-url":"/today",onStatusToggle:()=>h(o)(oe),onStatusProgress:()=>h(a)(oe),onRefresh:$[5]||($[5]=Oe=>S(h(n).pagination.page))},Vt({_:2},[h(u)?{name:"toggle-checkbox",fn:E(()=>[y(Xs,{id:"task"+oe.id,modelValue:g.value,"onUpdate:modelValue":$[4]||($[4]=Oe=>g.value=Oe),value:oe.id},null,8,["id","modelValue","value"])]),key:"0"}:void 0]),1032,["task","onStatusToggle","onStatusProgress"]))),128))]),_:1}),y(tt,{"current-page":h(n).pagination.page,"total-pages":h(n).pagination.totalPages,onSelected:w},null,8,["current-page","total-pages"])],64)):(d(),M(nt,{key:1}))])]),l.value?(d(),M(st,{key:0,"is-today":!0,onClose:$[6]||($[6]=oe=>l.value=!1),onSubmitted:I})):O("",!0)],64))}}),Ya="Habits",Ka=`
Stay consistent without relying on your willpower and motivation. Manage all your habits and stay productive.
`,Xa=X({__name:"HabitsView",setup(t){Te({title:De[L.Habits].title});const{byPriority:e,sortBy:s}=ot(),n=he(),o=ke(),a=Ee(),r=B(!1),{habits:c}=Ce(n),f=l=>n.getHabits(l,e.value);Ks(()=>{f(At(a))});const u=async l=>{try{await f(l)}catch{o.error({text:"Could not fetch next page. Please try again later."})}};Be(e,()=>{f(c.value.pagination.page)});const m=()=>{r.value=!1,f(c.value.pagination.page)};return(l,g)=>(d(),k(H,null,[y(Re,{title:Ya,subtitle:Ka}),y(ve,null,{default:E(()=>[y(at,{label:"habit",onClick:g[0]||(g[0]=b=>r.value=!0)}),g[4]||(g[4]=v("span",{class:"sorting-divider"},"|",-1)),y(_e,{label:"Priority","a11y-label":"Sort by priority",icon:"sort",selected:h(e),onClick:g[1]||(g[1]=b=>h(s)("priority"))},null,8,["selected"])]),_:1}),h(c).pagination.total?(d(),k(H,{key:0},[y(St,null,{default:E(()=>[(d(!0),k(H,null,Se(h(c).data,b=>(d(),M(Et,{key:b.id,task:b,"show-chips":!1,"return-url":"/habits",onRefresh:g[2]||(g[2]=C=>f(h(c).pagination.page))},null,8,["task"]))),128))]),_:1}),y(tt,{"total-pages":h(c).pagination.totalPages,onSelected:u},null,8,["total-pages"])],64)):(d(),M(nt,{key:1})),r.value?(d(),M(st,{key:2,"is-habit":!0,onClose:g[3]||(g[3]=b=>r.value=!1),onSubmitted:m})):O("",!0)],64))}}),Za={key:0,class:"upcoming-view"},Is=X({__name:"UpcomingView",setup(t){Te({title:De[L.Upcoming].title});const e=ke(),s=Ee(),n=Pe(),o=he(),{byPriority:a,sortBy:r}=ot(),{allUpcomingTasks:c,tomorrowsTasks:f}=Ce(o),u=B("mode1"),m=ee(()=>u.value==="mode1"?f.value:c.value),l=B(!1),g=async R=>{u.value==="mode1"?await o.getTomorrowTasks(R,a.value):await o.getUpcoming(R,a.value)};We(async()=>{try{s.name===L.Tomorrow?u.value="mode1":u.value="mode2",await g(At(s))}catch{e.error({text:"There was an error fetching the list. Please refresh and try again."})}}),Be(a,()=>{g(m.value.pagination.page)});const b=async R=>{try{await g(R)}catch{e.error({text:"Could not fetch next page. Please try again later."})}},C=async R=>{R==="mode1"?(n.push({name:L.Tomorrow}),u.value=R):(n.push({name:L.Upcoming}),u.value=R),await g(void 0)},x=()=>{l.value=!1,g(m.value.pagination.page),e.success({text:"You've successfully added a new task"})};return(R,S)=>{const w=js("router-link");return d(),k(H,null,[y(Re,{title:"All tasks"},{subtitle:E(()=>[S[6]||(S[6]=U(" Discover your all upcoming tasks. You can view your ")),y(w,{to:{name:h(L).Habits}},{default:E(()=>S[4]||(S[4]=[U("habits")])),_:1},8,["to"]),S[7]||(S[7]=U(" and ")),y(w,{to:{name:h(L).Today}},{default:E(()=>S[5]||(S[5]=[U("today's")])),_:1},8,["to"]),S[8]||(S[8]=U(" tasks. "))]),_:1}),y(jn,{mode1:"Tomorrow",mode2:"Upcoming",selected:u.value,onSelect:C},null,8,["selected"]),y(ve,null,{default:E(()=>[y(at,{label:"task",onClick:S[0]||(S[0]=I=>l.value=!0)}),S[9]||(S[9]=v("span",{class:"sorting-divider"},"|",-1)),y(_e,{label:"Priority","a11y-label":"sort by priority",icon:"sort",selected:h(a),onClick:S[1]||(S[1]=I=>h(r)("priority"))},null,8,["selected"])]),_:1}),m.value?(d(),k("article",Za,[m.value.pagination.total?(d(),k(H,{key:0},[y(St,null,{default:E(()=>[(d(!0),k(H,null,Se(m.value.data,I=>(d(),M(Et,{key:I.id,task:I,"show-chips":!0,onRefresh:S[2]||(S[2]=D=>g(m.value.pagination.page))},null,8,["task"]))),128))]),_:1}),y(tt,{"total-pages":m.value.pagination.totalPages,onSelected:b},null,8,["total-pages"])],64)):(d(),M(nt,{key:1})),l.value?(d(),M(st,{key:2,"min-start-date":h(so)(),onClose:S[3]||(S[3]=I=>l.value=!1),onSubmitted:x},null,8,["min-start-date"])):O("",!0)])):O("",!0)],64)}}}),Ja=X({__name:"ListView",setup(t){Te({title:De[L.Lists].title});const e=Ee(),s=ke(),n=he(),{selectedPageList:o,selectedListTasks:a,recentList:r}=Ce(n),c=B(!1),{changeStatus:f,toggleProgress:u,byPriority:m,byCompletion:l,sortBy:g,byAction:b}=ot(),C=B(!1),x=B(!1),R=B(!1),S=ee(()=>o.value&&o.value.startDate<=no()),w=B([]),I=ee(()=>w.value.map(N=>a.value.data.find(A=>A.id===Number(N)))),D=async N=>{c.value=!0;try{const A=Number(e.params.id);n.setPageListId(A);const G=await n.getList(A);if(await n.getTaskForList(A,N,m.value,l.value),!G)throw new io}catch{s.error({title:"Fatal error",text:"An error occurred trying to get the list"}),wt.push({name:L.Lists})}c.value=!1};Ks(()=>{D(At(e))}),Be(e,()=>{D(a.value.pagination.page)}),Be(m,()=>{D(a.value.pagination.page)});const se=async N=>{D(N)},z=async()=>{if(o.value)try{await n.deleteList(o.value.id),wt.push({name:L.Lists})}catch{s.error({text:"Failed to delete list"})}},$=()=>{R.value=!1,D(a.value.pagination.page),s.success({text:"You have successfully added a new task."})},oe=()=>{x.value=!1,r.value.find(A=>A.id===o.value?.id)&&n.getRecentList()},Oe=()=>{I.value.length!==0&&(I.value.forEach(N=>{N&&u(N)}),w.value.length=0)},Lt=async()=>{const N=[];if(I.value.length!==0){I.value.forEach(A=>{A&&N.push(n.deleteTask(A.id))});try{await Promise.all(N)}catch{s.success({text:"Successfully deleted selected tasks."})}D(1),w.value.length=0}};return(N,A)=>(d(),k(H,null,[c.value?(d(),k(H,{key:0},[U("Loading...")],64)):h(o)?(d(),k(H,{key:1},[y(Re,{title:h(o).description,date:"Ends: "+new Date(h(o).endDate).toDateString()},{actions:E(()=>[y(ve,null,{default:E(()=>[y(de,{icon:"edit",onClick:A[0]||(A[0]=G=>x.value=!0)}),y(de,{icon:"trash",onClick:A[1]||(A[1]=G=>C.value=!0)})]),_:1})]),_:1},8,["title","date"]),y(ve,null,{default:E(()=>[y(at,{label:"to list",onClick:A[2]||(A[2]=G=>R.value=!0)}),A[11]||(A[11]=v("span",{class:"sorting-divider"},"|",-1)),y(_e,{label:"Priority","a11y-label":"Sort by Priority",icon:"sort",selected:h(m),onClick:A[3]||(A[3]=G=>h(g)("priority"))},null,8,["selected"]),y(_e,{"a11y-label":"Order by completion",icon:"sort",label:"Incomplete first",selected:h(l),onClick:A[4]||(A[4]=G=>h(g)("completion"))},null,8,["selected"]),y(_e,{"a11y-label":"Actions: delete and mark as progress",icon:"sort",label:"Actions",selected:h(b),onClick:A[5]||(A[5]=()=>h(g)("action"))},null,8,["selected"])]),_:1}),Jt(y(ve,null,{default:E(()=>[y(de,{icon:"progress",label:"mark as progress",onClick:Oe}),y(de,{icon:"trash",label:"trash items",onClick:Lt})]),_:1},512),[[Ys,h(b)]]),h(a).data.length?(d(),k(H,{key:0},[y(St,null,{default:E(()=>[(d(!0),k(H,null,Se(h(a).data,G=>(d(),M(Et,{key:G.id,task:G,"edit-state":S.value,"return-url":"/list/"+h(o).id,onStatusToggle:()=>h(f)(G),onStatusProgress:()=>h(u)(G),onRefresh:A[7]||(A[7]=Me=>D(h(a).pagination.page))},Vt({_:2},[h(b)?{name:"toggle-checkbox",fn:E(()=>[y(Xs,{id:"task"+G.id,modelValue:w.value,"onUpdate:modelValue":A[6]||(A[6]=Me=>w.value=Me),value:G.id},null,8,["id","modelValue","value"])]),key:"0"}:void 0]),1032,["task","edit-state","return-url","onStatusToggle","onStatusProgress"]))),128))]),_:1}),y(tt,{"total-pages":h(a).pagination.totalPages,onSelected:se},null,8,["total-pages"])],64)):(d(),M(nt,{key:1}))],64)):O("",!0),R.value&&h(o)?(d(),M(st,{key:2,"list-id":h(o).id,onClose:A[8]||(A[8]=G=>R.value=!1),onSubmitted:$},null,8,["list-id"])):O("",!0),x.value?(d(),M(tn,{key:3,item:h(o),onDone:oe,onClose:A[9]||(A[9]=G=>x.value=!1)},null,8,["item"])):O("",!0),C.value?(d(),M(Qt,{key:4,"proceed-btn":{isEvent:!0,link:"",disable:!1,alternativeName:"Delete",isRed:!0},onClose:A[10]||(A[10]=G=>C.value=!1),onProceed:z},{content:E(()=>A[12]||(A[12]=[U("Are you sure you want to delete this list? Doing so will delete all the tasks that are associated with this list.")])),_:1})):O("",!0)],64))}}),Qa={class:"list-item__date"},ei={class:"list-item__date"},ti=X({__name:"AllListsView",setup(t){Te({title:De[L.Lists].title});const e=he(),s=Pe(),{lists:n}=Ce(e),o=B(!1);We(async()=>{e.getAllList()});const a=f=>{s.push({name:L.List,params:{id:f}})},r=async()=>{o.value=!1,e.getAllList(n.value.pagination.page),e.getRecentList()},c=f=>en(f);return(f,u)=>(d(),k(H,null,[y(Re,{title:"Lists"}),y(at,{label:"list",onClick:u[0]||(u[0]=m=>o.value=!0)}),h(n).pagination.total?(d(),k(H,{key:0},[y(qn,null,{default:E(()=>[(d(!0),k(H,null,Se(h(n).data,(m,l)=>(d(),M(Yn,{key:m.id,alternate:l%2===0},{main:E(()=>[U(V(m.description),1),u[2]||(u[2]=v("br",null,null,-1)),v("span",Qa," Duration: "+V(c(m.startDate))+" to "+V(c(m.endDate)),1),u[3]||(u[3]=v("br",null,null,-1)),v("span",ei," Created date: "+V(c(m.createdDate)),1)]),controls:E(()=>[y(de,{icon:"chevronRight",label:"go to list "+m.description,onClick:()=>a(m.id),onKeydown:qs(()=>a(m.id),["enter"])},null,8,["label","onClick","onKeydown"])]),_:2},1032,["alternate"]))),128))]),_:1}),y(tt,{"current-page":h(n).pagination.page,"total-pages":h(n).pagination.totalPages},null,8,["current-page","total-pages"])],64)):(d(),M(nt,{key:1,"is-task-list":!1})),o.value?(d(),M(tn,{key:2,onDone:r,onClose:u[1]||(u[1]=m=>o.value=!1)})):O("",!0)],64))}}),si=Le(ti,[["__scopeId","data-v-79d63adf"]]),ni={class:"settings__personal"},oi={class:"settings__theme"},ai="Settings",ii=X({__name:"SettingsView",setup(t){Te({title:De[L.Settings].title});const e=Ge(),s=ke(),n=B(!1),o=B(!1),a=B({name:e.settings.name,image:e.settings.image,theme:e.settings.theme||"default"}),r=B({archiveFor:e.settings.archiveFor||30,archive:e.settings.archive||!1}),c=async()=>{try{o.value=!0,await e.deleteApp(),window.location.reload()}catch(m){if(m.message.includes("blocked")){window.location.reload();return}s.error({title:"Fatal error",text:`Failed to delete account: ${m?.message}. Please try again.`})}finally{o.value=!1}};We(()=>{a.value.image=e.settings.image,a.value.name=e.settings.name,r.value.archiveFor=e.settings.archiveFor,r.value.archive=e.settings.archive});const f=async m=>{o.value=!0;try{m==="personal"&&await e.updateSettings({...a.value}),s.success({text:"Successful update"})}catch{s.error({title:"Fatal error",text:"Could not save data."})}o.value=!1},u=[{value:"default",label:"Default"},{value:"fun-cat",label:"Fun cat"}];return(m,l)=>(d(),k(H,null,[y(Re,{title:ai}),y(Es,{class:"settings__section--spacing",title:"Personal"},{content:E(()=>[v("div",ni,[y(sn,{"model-value":a.value.image,"onUpdate:modelValue":l[0]||(l[0]=g=>a.value.image=g),"view-only":!1},null,8,["model-value"]),y(Zs,{modelValue:a.value.name,"onUpdate:modelValue":l[1]||(l[1]=g=>a.value.name=g)},{label:E(()=>l[9]||(l[9]=[U("Full name")])),_:1},8,["modelValue"])]),v("div",oi,[y(Kn,{modelValue:a.value.theme,"onUpdate:modelValue":l[2]||(l[2]=g=>a.value.theme=g),options:u,label:"Theme"},null,8,["modelValue"])]),y(_t,{variant:"secondary",disabled:!a.value.name,loading:o.value,onClick:l[3]||(l[3]=()=>f("personal"))},{default:E(()=>l[10]||(l[10]=[U(" Save changes ")])),_:1},8,["disabled","loading"])]),_:1}),O("",!0),y(Es,{class:"settings__section--spacing",title:"Advanced"},{content:E(()=>[l[14]||(l[14]=v("p",null," Deleting your account all personal data, tasks, reports, lists and archives. ",-1)),y(_t,{class:"settings__delete-app-btn",variant:"secondary",loading:o.value,onClick:l[7]||(l[7]=g=>n.value=!0)},{default:E(()=>l[13]||(l[13]=[U(" Delete account ")])),_:1},8,["loading"])]),_:1}),n.value?(d(),M(Qt,{key:1,"proceed-btn":{isEvent:!0,link:"",disable:!1},loading:o.value,onProceed:c,onClose:l[8]||(l[8]=g=>n.value=!1)},{content:E(()=>l[15]||(l[15]=[U(" Are you sure you want to delete your account? This deletion cannot be undone. ")])),_:1},8,["loading"])):O("",!0)],64))}}),fn=""+new URL("../logo-name.svg",import.meta.url).href,ri={class:"setup-view"},li={class:"setup-view__personal"},ci={class:"setup-view__personal-content"},ui={class:"get-started"},di=X({__name:"SetupView",setup(t){const e=B(!1),s=ke(),n=Ge(),o=Pe(),a=B({image:"",name:"",archive:!1,archiveFor:30,theme:"default"}),r=ee(()=>!a.value.name),c=()=>{e.value=!0,setTimeout(async()=>{try{await n.addSettings({...a.value}),o.push({name:L.Today})}catch{s.error({title:"Fatal Error",text:"An error occurred while trying to setup the work space."})}e.value=!1},2e3)};return(f,u)=>(d(),k("div",ri,[u[5]||(u[5]=v("div",{class:"setup-view__content"},[v("img",{src:fn,alt:"app brand planner",class:"logo logo--highlight"}),v("h1",null,"Youâ€™re one step away from less busywork"),v("p",{class:"text-center"}," Setup your planner and make it easier to plan your work, days or special events. ")],-1)),v("form",{id:"setup-view-form",class:"setup-view__content",onSubmit:Wn(c,["prevent"])},[v("section",li,[v("div",ci,[v("fieldset",null,[u[2]||(u[2]=v("legend",null,"Select profile picture (optional)",-1)),y(sn,{"model-value":a.value.image,"onUpdate:modelValue":u[0]||(u[0]=m=>a.value.image=m),"view-only":!1},null,8,["model-value"])]),y(Zs,{modelValue:a.value.name,"onUpdate:modelValue":u[1]||(u[1]=m=>a.value.name=m),"input-id":"setup-full-name"},{label:E(()=>u[3]||(u[3]=[U("Full name (required)")])),_:1},8,["modelValue"])])]),v("div",ui,[y(_t,{form:"setup-view-form",disabled:r.value,loading:e.value},{default:E(()=>u[4]||(u[4]=[U("GET STARTED")])),_:1},8,["disabled","loading"])])],32)]))}}),fi={class:"error-view"},pi=X({__name:"ErrorView",setup(t){Te({title:De.error.title});const e=Pe();return(s,n)=>(d(),k("div",fi,[n[2]||(n[2]=v("img",{src:fn,alt:"Website logo",class:"logo logo--highlight"},null,-1)),n[3]||(n[3]=v("h1",null,"404",-1)),n[4]||(n[4]=v("h2",null,"Page not found",-1)),n[5]||(n[5]=v("p",null," The link for the page clicked on is broken or the page no longer exists. ",-1)),y(_t,{onClick:n[0]||(n[0]=o=>h(e).back())},{default:E(()=>[y(ze,{name:"arrowBack",width:24}),n[1]||(n[1]=U("Go back "))]),_:1})]))}}),mi={class:"task-overview"},gi={class:"task-overview__details"},hi={class:"task-overview__details-row"},yi={class:"task-overview__details-col"},vi={key:0,class:"task-overview__details-row"},_i={class:"task-overview__details-col"},ki={key:1,class:"task-overview__details-row"},Ti={class:"task-overview__details-col"},bi={key:2,class:"task-overview__details-row"},wi={class:"task-overview__details-col"},Ai={key:0},Si={key:1},Ei={key:0,class:"task-overview__note"},Li={class:"task-overview__note-content"},Pi=X({__name:"TaskOverview",props:{task:{type:Object,required:!0}},setup(t){return(e,s)=>{const n=zn("dompurify-html");return d(),k("article",mi,[v("div",gi,[v("div",hi,[s[0]||(s[0]=v("div",{class:"task-overview__details-col task-overview__details-heading"}," Priority ",-1)),v("div",yi,V(h(Qs)[t.task.priority]),1)]),t.task.days.length?(d(),k("div",vi,[s[1]||(s[1]=v("div",{class:"task-overview__details-col task-overview__details-heading"}," Days ",-1)),v("div",_i,[(d(!0),k(H,null,Se(t.task.days,o=>(d(),M(Fe,{key:o,class:"task-overview__chip",label:h(Js)[o]},null,8,["label"]))),128))])])):O("",!0),t.task.startTime?(d(),k("div",ki,[s[3]||(s[3]=v("div",{class:"task-overview__details-col task-overview__details-heading"}," Time ",-1)),v("div",Ti,[y(vt,null,{default:E(()=>[U(V(t.task.startTime),1)]),_:1}),t.task.endTime?(d(),k(H,{key:0},[s[2]||(s[2]=U(" - ")),y(vt,null,{default:E(()=>[U(V(t.task.endTime),1)]),_:1})],64)):O("",!0)])])):O("",!0),t.task.startDate||t.task.endDate?(d(),k("div",bi,[s[4]||(s[4]=v("div",{class:"task-overview__details-col task-overview__details-heading"}," Duration ",-1)),v("div",wi,[U(V(new Date(t.task.startDate).toLocaleDateString())+" - ",1),t.task.endDate?(d(),k("span",Ai,V(new Date(t.task.endDate).toLocaleDateString()),1)):(d(),k("span",Si,"Indefinite"))])])):O("",!0)]),t.task.note?(d(),k("div",Ei,[s[5]||(s[5]=v("h2",null,"Notes",-1)),Jt(v("div",Li,null,512),[[n,t.task.note]])])):O("",!0)])}}}),Ci={key:0},Ri={class:"task-progress"},Di=X({__name:"TaskOverviewView",setup(t){const e=B(!0),s=B(!1),n=B(!1),o=he(),a=he(),{params:r,query:c}=Ee(),{replace:f}=Pe(),{currentSelectedTask:u}=Ce(o),m=ke(),{toggleProgress:l}=ot(),g=async()=>{s.value=!1,m.success({text:"You successfully updated the task information."}),await o.getCurrentlySelectedTast(b)};let b;try{b=Number(r.id)}catch{b=0}We(async()=>{await o.getCurrentlySelectedTast(b),e.value=!1});const C=ee(()=>u.value?.status===fe.Progress?"In progress":"Mark as progress"),x=async()=>{try{await a.deleteTask(b),c?.returnUrl?f(c.returnUrl):f({name:L.Today})}catch{m.error({text:"Something happened. Please try again."})}},R=async()=>{u.value&&l(u.value)};return(S,w)=>(d(),k(H,null,[h(u)?(d(),k(H,{key:1},[y(Re,{title:h(u).description},{actions:E(()=>[y(ve,null,{default:E(()=>[y(de,{icon:"edit",onClick:w[0]||(w[0]=I=>s.value=!0)}),y(de,{icon:"trash",onClick:w[1]||(w[1]=I=>n.value=!0)})]),_:1})]),_:1},8,["title"]),v("div",Ri,[v("button",{class:Ae({on:h(u).status===h(fe).Progress}),onClick:R},[y(ze,{name:"progress"}),w[5]||(w[5]=U()),v("span",null,V(C.value),1)],2)]),y(Pi,{task:h(u),onRefresh:w[2]||(w[2]=I=>h(o).getCurrentlySelectedTast(h(b)))},null,8,["task"])],64)):(d(),k("div",Ci,"Nothing found")),s.value&&h(u)?(d(),M(st,{key:2,"selected-task":h(u),"is-habit":!!h(u).days.length,onClose:w[3]||(w[3]=I=>s.value=!1),onSubmitted:g},null,8,["selected-task","is-habit"])):O("",!0),n.value?(d(),M(Qt,{key:3,"proceed-btn":{isEvent:!0,link:"",disable:!1,alternativeName:"Delete",isRed:!0},onClose:w[4]||(w[4]=I=>n.value=!1),onProceed:x},{content:E(()=>w[6]||(w[6]=[U(" Are you sure you want to delete this tasks? ")])),_:1})):O("",!0)],64))}}),ge="planner.",De={[L.Today]:{title:`Today | ${ge}`},[L.Tomorrow]:{title:`Tomorrow | ${ge}`},[L.Settings]:{title:`Settings | ${ge}`},[L.Upcoming]:{title:`Upcoming | ${ge}`},[L.Lists]:{title:`All list | ${ge}`},[L.Habits]:{title:`Habits | ${ge}`},[L.Tasks]:{title:`All tasks | ${ge}`},[L.TaskOverview]:{title:`Task overview | ${ge}`},error:{title:`Error page | ${ge}`}},wt=Xn({history:Zn("/projects/planner"),routes:[{path:"/today",alias:"/",name:L.Today,component:qa,meta:{requiredSetup:!0}},{path:"/upcoming",name:L.Upcoming,component:Is,meta:{requiredSetup:!0}},{path:"/habits",name:L.Habits,component:Xa,meta:{requiredSetup:!0}},{path:"/list/:id",name:L.List,component:Ja,meta:{requiredSetup:!0}},{path:"/lists",name:L.Lists,component:si,meta:{requiredSetup:!0}},{path:"/tomorrow",name:L.Tomorrow,component:Is,meta:{requiredSetup:!0}},{path:"/settings",name:L.Settings,component:ii,meta:{requiredSetup:!0}},{path:"/setup",name:L.Setup,component:di},{path:"/task/:id",name:L.TaskOverview,component:Di},{path:"/:pathMatch(.*)*",component:pi}]});wt.beforeEach(async(t,e,s)=>{const o=await(await es.getInstance()).hasDatabase();if(t.name===L.Setup&&o){s(L.Today);return}if(t.meta.requiredSetup&&!o){s(L.Setup);return}s()});class Oi{constructor(e){this.db=e}async deleteList(e){await this.db.lists.remove(e),await this.db.tasks.removeTasksByListId(e)}async getList(e){return await this.db.lists.get(e)}async getAllList(e,s){return await this.db.lists.getAll({type:"valid",offset:e,limit:s})}async getTaskForList(e,s,n,o=!1,a=!1){return await this.db.tasks.getAll({type:Ke.list,listId:e,offset:s,limit:n,sortByPriority:o,sortByCompletion:a})}async getHabits(e,s,n=!1){return await this.db.tasks.getAll({type:Ke.habits,offset:e,limit:s,sortByPriority:n})}async getTask(e){return await this.db.tasks.get(e)}async getTodaysList(e,s,n=!1,o=!1){return await this.db.tasks.getAll({type:Ke.today,offset:e,limit:s,sortByPriority:n,sortByCompletion:o})}async getTomorrowsList(e,s,n=!1){return await this.db.tasks.getAll({type:Ke.tomorrow,offset:e,limit:s,sortByPriority:n})}async getUpcoming(e,s,n=!1){return await this.db.tasks.getAll({type:Ke.upcoming,offset:e,limit:s,sortByPriority:n})}async deleteTask(e){await this.db.tasks.remove(e)}async updateTask(e,s=!1){if(s){const n=await this.db.tasks.updateTaskRecord({id:e.statusRecordId,status:e.status||fe.Open,taskId:e.id,timestamp:e.statusUpdatedAt});return await this.db.tasks.update({...e,statusRecordId:n.id,statusUpdatedAt:n.timestamp})}return await this.db.tasks.update(e)}async updateList(e){await this.db.lists.update(e),await this.db.tasks.updateAllTasksForList(e)}getRecentLists(){return this.db.lists.getAll({type:"recent"})}async addTask(e){return await this.db.tasks.add(e)}async addList(e){return await this.db.lists.add(e)}cleanOldRecords(){return Promise.all([this.db.cleanup.cleanupLists(),this.db.cleanup.cleanupTasks()])}async getSettings(){return await this.db.settings.get()}async updateSettings(e){const n={...await this.getSettings(),...e};return await this.db.settings.update(n)}async addSettings(e){return await this.db.settings.add(e)}}const Mi={install:async t=>{t.config.globalProperties.$api={};const e=Ge();e.setGlobalLoading(!0);const s=await es.getInstance();t.config.globalProperties.$api.service=new Oi(s.repositories()),await e.getSettings(),e.setGlobalLoading(!1)}};/*! @license DOMPurify 3.2.3 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.2.3/LICENSE */const{entries:pn,setPrototypeOf:$s,isFrozen:xi,getPrototypeOf:Ii,getOwnPropertyDescriptor:$i}=Object;let{freeze:te,seal:re,create:mn}=Object,{apply:Kt,construct:Xt}=typeof Reflect<"u"&&Reflect;te||(te=function(e){return e});re||(re=function(e){return e});Kt||(Kt=function(e,s,n){return e.apply(s,n)});Xt||(Xt=function(e,s){return new e(...s)});const mt=ae(Array.prototype.forEach),Ns=ae(Array.prototype.pop),Xe=ae(Array.prototype.push),yt=ae(String.prototype.toLowerCase),Ft=ae(String.prototype.toString),Hs=ae(String.prototype.match),Ze=ae(String.prototype.replace),Ni=ae(String.prototype.indexOf),Hi=ae(String.prototype.trim),le=ae(Object.prototype.hasOwnProperty),Q=ae(RegExp.prototype.test),Je=Ui(TypeError);function ae(t){return function(e){for(var s=arguments.length,n=new Array(s>1?s-1:0),o=1;o<s;o++)n[o-1]=arguments[o];return Kt(t,e,n)}}function Ui(t){return function(){for(var e=arguments.length,s=new Array(e),n=0;n<e;n++)s[n]=arguments[n];return Xt(t,s)}}function P(t,e){let s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:yt;$s&&$s(t,null);let n=e.length;for(;n--;){let o=e[n];if(typeof o=="string"){const a=s(o);a!==o&&(xi(e)||(e[n]=a),o=a)}t[o]=!0}return t}function Fi(t){for(let e=0;e<t.length;e++)le(t,e)||(t[e]=null);return t}function we(t){const e=mn(null);for(const[s,n]of pn(t))le(t,s)&&(Array.isArray(n)?e[s]=Fi(n):n&&typeof n=="object"&&n.constructor===Object?e[s]=we(n):e[s]=n);return e}function Qe(t,e){for(;t!==null;){const n=$i(t,e);if(n){if(n.get)return ae(n.get);if(typeof n.value=="function")return ae(n.value)}t=Ii(t)}function s(){return null}return s}const Us=te(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),Bt=te(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),Wt=te(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),Bi=te(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),zt=te(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),Wi=te(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),Fs=te(["#text"]),Bs=te(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),Gt=te(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),Ws=te(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),gt=te(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),zi=re(/\{\{[\w\W]*|[\w\W]*\}\}/gm),Gi=re(/<%[\w\W]*|[\w\W]*%>/gm),Vi=re(/\$\{[\w\W]*}/gm),ji=re(/^data-[\-\w.\u00B7-\uFFFF]+$/),qi=re(/^aria-[\-\w]+$/),gn=re(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),Yi=re(/^(?:\w+script|data):/i),Ki=re(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),hn=re(/^html$/i),Xi=re(/^[a-z][.\w]*(-[.\w]+)+$/i);var zs=Object.freeze({__proto__:null,ARIA_ATTR:qi,ATTR_WHITESPACE:Ki,CUSTOM_ELEMENT:Xi,DATA_ATTR:ji,DOCTYPE_NAME:hn,ERB_EXPR:Gi,IS_ALLOWED_URI:gn,IS_SCRIPT_OR_DATA:Yi,MUSTACHE_EXPR:zi,TMPLIT_EXPR:Vi});const et={element:1,attribute:2,text:3,cdataSection:4,entityReference:5,entityNode:6,progressingInstruction:7,comment:8,document:9,documentType:10,documentFragment:11,notation:12},Zi=function(){return typeof window>"u"?null:window},Ji=function(e,s){if(typeof e!="object"||typeof e.createPolicy!="function")return null;let n=null;const o="data-tt-policy-suffix";s&&s.hasAttribute(o)&&(n=s.getAttribute(o));const a="dompurify"+(n?"#"+n:"");try{return e.createPolicy(a,{createHTML(r){return r},createScriptURL(r){return r}})}catch{return console.warn("TrustedTypes policy "+a+" could not be created."),null}},Gs=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function yn(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Zi();const e=T=>yn(T);if(e.version="3.2.3",e.removed=[],!t||!t.document||t.document.nodeType!==et.document)return e.isSupported=!1,e;let{document:s}=t;const n=s,o=n.currentScript,{DocumentFragment:a,HTMLTemplateElement:r,Node:c,Element:f,NodeFilter:u,NamedNodeMap:m=t.NamedNodeMap||t.MozNamedAttrMap,HTMLFormElement:l,DOMParser:g,trustedTypes:b}=t,C=f.prototype,x=Qe(C,"cloneNode"),R=Qe(C,"remove"),S=Qe(C,"nextSibling"),w=Qe(C,"childNodes"),I=Qe(C,"parentNode");if(typeof r=="function"){const T=s.createElement("template");T.content&&T.content.ownerDocument&&(s=T.content.ownerDocument)}let D,se="";const{implementation:z,createNodeIterator:$,createDocumentFragment:oe,getElementsByTagName:Oe}=s,{importNode:Lt}=n;let N=Gs();e.isSupported=typeof pn=="function"&&typeof I=="function"&&z&&z.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:A,ERB_EXPR:G,TMPLIT_EXPR:Me,DATA_ATTR:kn,ARIA_ATTR:Tn,IS_SCRIPT_OR_DATA:bn,ATTR_WHITESPACE:ts,CUSTOM_ELEMENT:wn}=zs;let{IS_ALLOWED_URI:ss}=zs,j=null;const ns=P({},[...Us,...Bt,...Wt,...zt,...Fs]);let Y=null;const os=P({},[...Bs,...Gt,...Ws,...gt]);let W=Object.seal(mn(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Ve=null,Pt=null,as=!0,Ct=!0,is=!1,rs=!0,xe=!1,Rt=!0,be=!1,Dt=!1,Ot=!1,Ie=!1,it=!1,rt=!1,ls=!0,cs=!1;const An="user-content-";let Mt=!0,je=!1,$e={},Ne=null;const us=P({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let ds=null;const fs=P({},["audio","video","img","source","image","track"]);let xt=null;const ps=P({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),lt="http://www.w3.org/1998/Math/MathML",ct="http://www.w3.org/2000/svg",pe="http://www.w3.org/1999/xhtml";let He=pe,It=!1,$t=null;const Sn=P({},[lt,ct,pe],Ft);let ut=P({},["mi","mo","mn","ms","mtext"]),dt=P({},["annotation-xml"]);const En=P({},["title","style","font","a","script"]);let qe=null;const Ln=["application/xhtml+xml","text/html"],Pn="text/html";let q=null,Ue=null;const Cn=s.createElement("form"),ms=function(i){return i instanceof RegExp||i instanceof Function},Nt=function(){let i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(Ue&&Ue===i)){if((!i||typeof i!="object")&&(i={}),i=we(i),qe=Ln.indexOf(i.PARSER_MEDIA_TYPE)===-1?Pn:i.PARSER_MEDIA_TYPE,q=qe==="application/xhtml+xml"?Ft:yt,j=le(i,"ALLOWED_TAGS")?P({},i.ALLOWED_TAGS,q):ns,Y=le(i,"ALLOWED_ATTR")?P({},i.ALLOWED_ATTR,q):os,$t=le(i,"ALLOWED_NAMESPACES")?P({},i.ALLOWED_NAMESPACES,Ft):Sn,xt=le(i,"ADD_URI_SAFE_ATTR")?P(we(ps),i.ADD_URI_SAFE_ATTR,q):ps,ds=le(i,"ADD_DATA_URI_TAGS")?P(we(fs),i.ADD_DATA_URI_TAGS,q):fs,Ne=le(i,"FORBID_CONTENTS")?P({},i.FORBID_CONTENTS,q):us,Ve=le(i,"FORBID_TAGS")?P({},i.FORBID_TAGS,q):{},Pt=le(i,"FORBID_ATTR")?P({},i.FORBID_ATTR,q):{},$e=le(i,"USE_PROFILES")?i.USE_PROFILES:!1,as=i.ALLOW_ARIA_ATTR!==!1,Ct=i.ALLOW_DATA_ATTR!==!1,is=i.ALLOW_UNKNOWN_PROTOCOLS||!1,rs=i.ALLOW_SELF_CLOSE_IN_ATTR!==!1,xe=i.SAFE_FOR_TEMPLATES||!1,Rt=i.SAFE_FOR_XML!==!1,be=i.WHOLE_DOCUMENT||!1,Ie=i.RETURN_DOM||!1,it=i.RETURN_DOM_FRAGMENT||!1,rt=i.RETURN_TRUSTED_TYPE||!1,Ot=i.FORCE_BODY||!1,ls=i.SANITIZE_DOM!==!1,cs=i.SANITIZE_NAMED_PROPS||!1,Mt=i.KEEP_CONTENT!==!1,je=i.IN_PLACE||!1,ss=i.ALLOWED_URI_REGEXP||gn,He=i.NAMESPACE||pe,ut=i.MATHML_TEXT_INTEGRATION_POINTS||ut,dt=i.HTML_INTEGRATION_POINTS||dt,W=i.CUSTOM_ELEMENT_HANDLING||{},i.CUSTOM_ELEMENT_HANDLING&&ms(i.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(W.tagNameCheck=i.CUSTOM_ELEMENT_HANDLING.tagNameCheck),i.CUSTOM_ELEMENT_HANDLING&&ms(i.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(W.attributeNameCheck=i.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),i.CUSTOM_ELEMENT_HANDLING&&typeof i.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(W.allowCustomizedBuiltInElements=i.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),xe&&(Ct=!1),it&&(Ie=!0),$e&&(j=P({},Fs),Y=[],$e.html===!0&&(P(j,Us),P(Y,Bs)),$e.svg===!0&&(P(j,Bt),P(Y,Gt),P(Y,gt)),$e.svgFilters===!0&&(P(j,Wt),P(Y,Gt),P(Y,gt)),$e.mathMl===!0&&(P(j,zt),P(Y,Ws),P(Y,gt))),i.ADD_TAGS&&(j===ns&&(j=we(j)),P(j,i.ADD_TAGS,q)),i.ADD_ATTR&&(Y===os&&(Y=we(Y)),P(Y,i.ADD_ATTR,q)),i.ADD_URI_SAFE_ATTR&&P(xt,i.ADD_URI_SAFE_ATTR,q),i.FORBID_CONTENTS&&(Ne===us&&(Ne=we(Ne)),P(Ne,i.FORBID_CONTENTS,q)),Mt&&(j["#text"]=!0),be&&P(j,["html","head","body"]),j.table&&(P(j,["tbody"]),delete Ve.tbody),i.TRUSTED_TYPES_POLICY){if(typeof i.TRUSTED_TYPES_POLICY.createHTML!="function")throw Je('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof i.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw Je('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');D=i.TRUSTED_TYPES_POLICY,se=D.createHTML("")}else D===void 0&&(D=Ji(b,o)),D!==null&&typeof se=="string"&&(se=D.createHTML(""));te&&te(i),Ue=i}},gs=P({},[...Bt,...Wt,...Bi]),hs=P({},[...zt,...Wi]),Rn=function(i){let p=I(i);(!p||!p.tagName)&&(p={namespaceURI:He,tagName:"template"});const _=yt(i.tagName),F=yt(p.tagName);return $t[i.namespaceURI]?i.namespaceURI===ct?p.namespaceURI===pe?_==="svg":p.namespaceURI===lt?_==="svg"&&(F==="annotation-xml"||ut[F]):!!gs[_]:i.namespaceURI===lt?p.namespaceURI===pe?_==="math":p.namespaceURI===ct?_==="math"&&dt[F]:!!hs[_]:i.namespaceURI===pe?p.namespaceURI===ct&&!dt[F]||p.namespaceURI===lt&&!ut[F]?!1:!hs[_]&&(En[_]||!gs[_]):!!(qe==="application/xhtml+xml"&&$t[i.namespaceURI]):!1},ce=function(i){Xe(e.removed,{element:i});try{I(i).removeChild(i)}catch{R(i)}},ft=function(i,p){try{Xe(e.removed,{attribute:p.getAttributeNode(i),from:p})}catch{Xe(e.removed,{attribute:null,from:p})}if(p.removeAttribute(i),i==="is")if(Ie||it)try{ce(p)}catch{}else try{p.setAttribute(i,"")}catch{}},ys=function(i){let p=null,_=null;if(Ot)i="<remove></remove>"+i;else{const K=Hs(i,/^[\r\n\t ]+/);_=K&&K[0]}qe==="application/xhtml+xml"&&He===pe&&(i='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+i+"</body></html>");const F=D?D.createHTML(i):i;if(He===pe)try{p=new g().parseFromString(F,qe)}catch{}if(!p||!p.documentElement){p=z.createDocument(He,"template",null);try{p.documentElement.innerHTML=It?se:F}catch{}}const Z=p.body||p.documentElement;return i&&_&&Z.insertBefore(s.createTextNode(_),Z.childNodes[0]||null),He===pe?Oe.call(p,be?"html":"body")[0]:be?p.documentElement:Z},vs=function(i){return $.call(i.ownerDocument||i,i,u.SHOW_ELEMENT|u.SHOW_COMMENT|u.SHOW_TEXT|u.SHOW_PROCESSING_INSTRUCTION|u.SHOW_CDATA_SECTION,null)},Ht=function(i){return i instanceof l&&(typeof i.nodeName!="string"||typeof i.textContent!="string"||typeof i.removeChild!="function"||!(i.attributes instanceof m)||typeof i.removeAttribute!="function"||typeof i.setAttribute!="function"||typeof i.namespaceURI!="string"||typeof i.insertBefore!="function"||typeof i.hasChildNodes!="function")},_s=function(i){return typeof c=="function"&&i instanceof c};function me(T,i,p){mt(T,_=>{_.call(e,i,p,Ue)})}const ks=function(i){let p=null;if(me(N.beforeSanitizeElements,i,null),Ht(i))return ce(i),!0;const _=q(i.nodeName);if(me(N.uponSanitizeElement,i,{tagName:_,allowedTags:j}),i.hasChildNodes()&&!_s(i.firstElementChild)&&Q(/<[/\w]/g,i.innerHTML)&&Q(/<[/\w]/g,i.textContent)||i.nodeType===et.progressingInstruction||Rt&&i.nodeType===et.comment&&Q(/<[/\w]/g,i.data))return ce(i),!0;if(!j[_]||Ve[_]){if(!Ve[_]&&bs(_)&&(W.tagNameCheck instanceof RegExp&&Q(W.tagNameCheck,_)||W.tagNameCheck instanceof Function&&W.tagNameCheck(_)))return!1;if(Mt&&!Ne[_]){const F=I(i)||i.parentNode,Z=w(i)||i.childNodes;if(Z&&F){const K=Z.length;for(let ne=K-1;ne>=0;--ne){const ue=x(Z[ne],!0);ue.__removalCount=(i.__removalCount||0)+1,F.insertBefore(ue,S(i))}}}return ce(i),!0}return i instanceof f&&!Rn(i)||(_==="noscript"||_==="noembed"||_==="noframes")&&Q(/<\/no(script|embed|frames)/i,i.innerHTML)?(ce(i),!0):(xe&&i.nodeType===et.text&&(p=i.textContent,mt([A,G,Me],F=>{p=Ze(p,F," ")}),i.textContent!==p&&(Xe(e.removed,{element:i.cloneNode()}),i.textContent=p)),me(N.afterSanitizeElements,i,null),!1)},Ts=function(i,p,_){if(ls&&(p==="id"||p==="name")&&(_ in s||_ in Cn))return!1;if(!(Ct&&!Pt[p]&&Q(kn,p))){if(!(as&&Q(Tn,p))){if(!Y[p]||Pt[p]){if(!(bs(i)&&(W.tagNameCheck instanceof RegExp&&Q(W.tagNameCheck,i)||W.tagNameCheck instanceof Function&&W.tagNameCheck(i))&&(W.attributeNameCheck instanceof RegExp&&Q(W.attributeNameCheck,p)||W.attributeNameCheck instanceof Function&&W.attributeNameCheck(p))||p==="is"&&W.allowCustomizedBuiltInElements&&(W.tagNameCheck instanceof RegExp&&Q(W.tagNameCheck,_)||W.tagNameCheck instanceof Function&&W.tagNameCheck(_))))return!1}else if(!xt[p]){if(!Q(ss,Ze(_,ts,""))){if(!((p==="src"||p==="xlink:href"||p==="href")&&i!=="script"&&Ni(_,"data:")===0&&ds[i])){if(!(is&&!Q(bn,Ze(_,ts,"")))){if(_)return!1}}}}}}return!0},bs=function(i){return i!=="annotation-xml"&&Hs(i,wn)},ws=function(i){me(N.beforeSanitizeAttributes,i,null);const{attributes:p}=i;if(!p||Ht(i))return;const _={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:Y,forceKeepAttr:void 0};let F=p.length;for(;F--;){const Z=p[F],{name:K,namespaceURI:ne,value:ue}=Z,Ye=q(K);let J=K==="value"?ue:Hi(ue);if(_.attrName=Ye,_.attrValue=J,_.keepAttr=!0,_.forceKeepAttr=void 0,me(N.uponSanitizeAttribute,i,_),J=_.attrValue,cs&&(Ye==="id"||Ye==="name")&&(ft(K,i),J=An+J),Rt&&Q(/((--!?|])>)|<\/(style|title)/i,J)){ft(K,i);continue}if(_.forceKeepAttr||(ft(K,i),!_.keepAttr))continue;if(!rs&&Q(/\/>/i,J)){ft(K,i);continue}xe&&mt([A,G,Me],Ss=>{J=Ze(J,Ss," ")});const As=q(i.nodeName);if(Ts(As,Ye,J)){if(D&&typeof b=="object"&&typeof b.getAttributeType=="function"&&!ne)switch(b.getAttributeType(As,Ye)){case"TrustedHTML":{J=D.createHTML(J);break}case"TrustedScriptURL":{J=D.createScriptURL(J);break}}try{ne?i.setAttributeNS(ne,K,J):i.setAttribute(K,J),Ht(i)?ce(i):Ns(e.removed)}catch{}}}me(N.afterSanitizeAttributes,i,null)},Dn=function T(i){let p=null;const _=vs(i);for(me(N.beforeSanitizeShadowDOM,i,null);p=_.nextNode();)me(N.uponSanitizeShadowNode,p,null),ks(p),ws(p),p.content instanceof a&&T(p.content);me(N.afterSanitizeShadowDOM,i,null)};return e.sanitize=function(T){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},p=null,_=null,F=null,Z=null;if(It=!T,It&&(T="<!-->"),typeof T!="string"&&!_s(T))if(typeof T.toString=="function"){if(T=T.toString(),typeof T!="string")throw Je("dirty is not a string, aborting")}else throw Je("toString is not a function");if(!e.isSupported)return T;if(Dt||Nt(i),e.removed=[],typeof T=="string"&&(je=!1),je){if(T.nodeName){const ue=q(T.nodeName);if(!j[ue]||Ve[ue])throw Je("root node is forbidden and cannot be sanitized in-place")}}else if(T instanceof c)p=ys("<!---->"),_=p.ownerDocument.importNode(T,!0),_.nodeType===et.element&&_.nodeName==="BODY"||_.nodeName==="HTML"?p=_:p.appendChild(_);else{if(!Ie&&!xe&&!be&&T.indexOf("<")===-1)return D&&rt?D.createHTML(T):T;if(p=ys(T),!p)return Ie?null:rt?se:""}p&&Ot&&ce(p.firstChild);const K=vs(je?T:p);for(;F=K.nextNode();)ks(F),ws(F),F.content instanceof a&&Dn(F.content);if(je)return T;if(Ie){if(it)for(Z=oe.call(p.ownerDocument);p.firstChild;)Z.appendChild(p.firstChild);else Z=p;return(Y.shadowroot||Y.shadowrootmode)&&(Z=Lt.call(n,Z,!0)),Z}let ne=be?p.outerHTML:p.innerHTML;return be&&j["!doctype"]&&p.ownerDocument&&p.ownerDocument.doctype&&p.ownerDocument.doctype.name&&Q(hn,p.ownerDocument.doctype.name)&&(ne="<!DOCTYPE "+p.ownerDocument.doctype.name+`>
`+ne),xe&&mt([A,G,Me],ue=>{ne=Ze(ne,ue," ")}),D&&rt?D.createHTML(ne):ne},e.setConfig=function(){let T=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Nt(T),Dt=!0},e.clearConfig=function(){Ue=null,Dt=!1},e.isValidAttribute=function(T,i,p){Ue||Nt({});const _=q(T),F=q(i);return Ts(_,F,p)},e.addHook=function(T,i){typeof i=="function"&&Xe(N[T],i)},e.removeHook=function(T){return Ns(N[T])},e.removeHooks=function(T){N[T]=[]},e.removeAllHooks=function(){N=Gs()},e}var Qi=yn();function er(t,e){const s=t.hooks??{};let n;for(n in s){const o=s[n];o!==void 0&&e.addHook(n,o)}}function vn(){return Qi()}function tr(t={},e=vn){const s=e();er(t,s);const n=function(o,a){const r=a.value;if(a.oldValue===r)return;const c=`${r}`,f=a.arg,u=t.namedConfigurations,m=t.default??{};if(u&&f!==void 0){o.innerHTML=s.sanitize(c,u[f]??m);return}o.innerHTML=s.sanitize(c,m)};return{mounted:n,updated:n}}const sr={install(t,e={},s=vn){t.directive("dompurify-html",tr(e,s))}},nr=oa(),_n=oo();_n.use(ro);await es.getInstance();Gn(fo).use(_n).use(Mi).use(wt).use(nr).use(sr).mount("#app");
