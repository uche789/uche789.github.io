import{_ as G,u as Ue,a as ze,b as ge,c as _t,d as Ot,e as _e,f as Tt,g as X,h as Rt,i as ve,j as Xe,k as et}from"./component-base-BtZq3Ax7.js";import{d as P,o as p,e as k,f as M,l as D,H as tt,b as R,I as at,J as st,c as T,K as ee,L as Oe,M as St,i as de,w as q,r as me,N as Vt,O as xt,P as Dt,n as he,Q as nt,A as I,x as O,B as jt,R as Et,u as m,m as w,g as K,S as Ce,U as ot,V as Ct,F as H,D as oe,y as j,p as Le,z as E,W as Lt,v as Pt,X as It,t as At,Y as xe,_ as Mt,Z as $e,$ as Nt,q as ye}from"./RichEditor-DQzkoqnZ.js";import{a as fe,u as rt}from"./stores-DPqU8rgR.js";const Ut=P({__name:"AppMenuToggle",props:{collasped:{type:Boolean,default:!1}},emits:["collaspe"],setup(e,{emit:s}){const t=s;return(a,n)=>(p(),k("div",{class:"app-menu-toggle",role:"button","data-testid":"collaspe-app-menu","aria-label":"collaspe menu",onClick:n[0]||(n[0]=o=>t("collaspe"))},[e.collasped?(p(),M(G,{key:0,name:"ChevronRight","aria-hidden":"true"})):D("",!0),e.collasped?D("",!0):(p(),M(G,{key:1,name:"ChevronLeft","aria-hidden":"true"}))]))}});var zt=!1;/*!
 * pinia v2.3.0
 * (c) 2024 Eduardo San Martin Morote
 * @license MIT
 */let lt;const Te=e=>lt=e,it=Symbol();function Pe(e){return e&&typeof e=="object"&&Object.prototype.toString.call(e)==="[object Object]"&&typeof e.toJSON!="function"}var ue;(function(e){e.direct="direct",e.patchObject="patch object",e.patchFunction="patch function"})(ue||(ue={}));function Vs(){const e=tt(!0),s=e.run(()=>R({}));let t=[],a=[];const n=at({install(o){Te(n),n._a=o,o.provide(it,n),o.config.globalProperties.$pinia=n,a.forEach(i=>t.push(i)),a=[]},use(o){return!this._a&&!zt?a.push(o):t.push(o),this},_p:t,_a:null,_e:e,_s:new Map,state:s});return n}const ut=()=>{};function Fe(e,s,t,a=ut){e.push(s);const n=()=>{const o=e.indexOf(s);o>-1&&(e.splice(o,1),a())};return!t&&xt()&&Dt(n),n}function ne(e,...s){e.slice().forEach(t=>{t(...s)})}const Ft=e=>e(),He=Symbol(),De=Symbol();function Ie(e,s){e instanceof Map&&s instanceof Map?s.forEach((t,a)=>e.set(a,t)):e instanceof Set&&s instanceof Set&&s.forEach(e.add,e);for(const t in s){if(!s.hasOwnProperty(t))continue;const a=s[t],n=e[t];Pe(n)&&Pe(a)&&e.hasOwnProperty(t)&&!ee(a)&&!Oe(a)?e[t]=Ie(n,a):e[t]=a}return e}const Ht=Symbol();function Bt(e){return!Pe(e)||!e.hasOwnProperty(Ht)}const{assign:J}=Object;function Wt(e){return!!(ee(e)&&e.effect)}function qt(e,s,t,a){const{state:n,actions:o,getters:i}=s,r=t.state.value[e];let c;function u(){r||(t.state.value[e]=n?n():{});const $=nt(t.state.value[e]);return J($,o,Object.keys(i||{}).reduce((f,v)=>(f[v]=at(T(()=>{Te(t);const y=t._s.get(e);return i[v].call(y,y)})),f),{}))}return c=dt(e,u,s,t,a,!0),c}function dt(e,s,t={},a,n,o){let i;const r=J({actions:{}},t),c={deep:!0};let u,$,f=[],v=[],y;const l=a.state.value[e];!o&&!l&&(a.state.value[e]={}),R({});let g;function b(V){let x;u=$=!1,typeof V=="function"?(V(a.state.value[e]),x={type:ue.patchFunction,storeId:e,events:y}):(Ie(a.state.value[e],V),x={type:ue.patchObject,payload:V,storeId:e,events:y});const N=g=Symbol();he().then(()=>{g===N&&(u=!0)}),$=!0,ne(f,x,a.state.value[e])}const S=o?function(){const{state:x}=t,N=x?x():{};this.$patch(W=>{J(W,N)})}:ut;function A(){i.stop(),f=[],v=[],a._s.delete(e)}const _=(V,x="")=>{if(He in V)return V[De]=x,V;const N=function(){Te(a);const W=Array.from(arguments),Y=[],le=[];function Ve(U){Y.push(U)}function pe(U){le.push(U)}ne(v,{args:W,name:N[De],store:h,after:Ve,onError:pe});let ae;try{ae=V.apply(this&&this.$id===e?this:h,W)}catch(U){throw ne(le,U),U}return ae instanceof Promise?ae.then(U=>(ne(Y,U),U)).catch(U=>(ne(le,U),Promise.reject(U))):(ne(Y,ae),ae)};return N[He]=!0,N[De]=x,N},d={_p:a,$id:e,$onAction:Fe.bind(null,v),$patch:b,$reset:S,$subscribe(V,x={}){const N=Fe(f,V,x.detached,()=>W()),W=i.run(()=>q(()=>a.state.value[e],Y=>{(x.flush==="sync"?$:u)&&V({storeId:e,type:ue.direct,events:y},Y)},J({},c,x)));return N},$dispose:A},h=me(d);a._s.set(e,h);const B=(a._a&&a._a.runWithContext||Ft)(()=>a._e.run(()=>(i=tt()).run(()=>s({action:_}))));for(const V in B){const x=B[V];if(ee(x)&&!Wt(x)||Oe(x))o||(l&&Bt(x)&&(ee(x)?x.value=l[V]:Ie(x,l[V])),a.state.value[e][V]=x);else if(typeof x=="function"){const N=_(x,V);B[V]=N,r.actions[V]=x}}return J(h,B),J(st(h),B),Object.defineProperty(h,"$state",{get:()=>a.state.value[e],set:V=>{b(x=>{J(x,V)})}}),a._p.forEach(V=>{J(h,i.run(()=>V({store:h,app:a._a,pinia:a,options:r})))}),l&&o&&t.hydrate&&t.hydrate(h.$state,l),u=!0,$=!0,h}/*! #__NO_SIDE_EFFECTS__ */function xs(e,s,t){let a,n;const o=typeof s=="function";typeof e=="string"?(a=e,n=o?t:s):(n=e,a=e.id);function i(r,c){const u=Vt();return r=r||(u?de(it,null):null),r&&Te(r),r=lt,r._s.has(a)||(o?dt(a,s,n,r):qt(a,n,r)),r._s.get(a)}return i.$id=a,i}function ct(e){{const s=st(e),t={};for(const a in s){const n=s[a];n.effect?t[a]=T({get:()=>e[a],set(o){e[a]=o}}):(ee(n)||Oe(n))&&(t[a]=St(e,a))}return t}}const Kt=""+new URL("../logo-name-white.svg",import.meta.url).href,Yt=""+new URL("../favicon.png",import.meta.url).href,L={Today:"today",Settings:"settings",Upcoming:"upcoming",Tomorrow:"tomorrow",Lists:"lists",List:"list",Habits:"habits",Setup:"setup",Tasks:"tasks",TaskOverview:"taskOverview"},Gt={class:"app-menu-item-count"},Zt=P({__name:"AppMenuItemCount",props:{count:{type:Number,default:0}},setup(e){return(s,t)=>(p(),k("div",Gt,I(e.count),1))}}),Jt=["aria-description"],je=P({__name:"AppMenuItem",props:{label:{type:String,required:!0},icon:{type:String,required:!0},pageRoute:{type:Object,required:!0},count:{type:Number,default:0}},setup(e){const s=e,t=de("compact"),a=Ue(),n=ze(),o=()=>{a.push({name:s.pageRoute.name,...s.pageRoute.params?{params:s.pageRoute.params}:{}})},i=(c,u=0)=>t?u?`${c} (${u})`:c:"",r=T(()=>s.pageRoute.params?s.pageRoute.params?.id===n.params?.id&&s.pageRoute.name===n.name:n.name===s.pageRoute.name);return(c,u)=>(p(),k("div",{class:K(["app-menu-item",{"app-menu-item--selected":r.value,"app-menu-item--compact":m(t)}]),"data-testid":"app-menu-item",role:"menuitem",tabindex:"0","aria-description":e.label,onClick:o,onKeydown:[Ce(o,["enter"]),Ce(o,["space"])]},[O(G,{name:e.icon,width:28,title:i(e.label,e.count)},null,8,["name","title"]),jt(w("span",{class:"app-menu-item__label"},I(e.label),513),[[Et,!m(t)]]),e.count&&!m(t)?(p(),M(Zt,{key:0,count:e.count},null,8,["count"])):D("",!0)],42,Jt))}}),Ds={mon:"Monday",tue:"Tuesday",wed:"Wednesday",thu:"Thursday",fri:"Friday",sat:"Saturday",sun:"Sunday"};var Qt=(e=>(e[e.Open=1]="Open",e[e.Progress=2]="Progress",e[e.Done=3]="Done",e))(Qt||{}),mt=(e=>(e[e.High=1]="High",e[e.Medium=2]="Medium",e[e.Normal=3]="Normal",e[e.Trivial=4]="Trivial",e))(mt||{});const Be={1:"High",2:"Medium",3:"Normal",4:"Trivial"};var Xt=(e=>(e.list="list",e.dateRange="dateRange",e.tomorrow="tomorrow",e.today="today",e.upcoming="upcoming",e.habits="habits",e.archived="archived",e))(Xt||{});const js={Lists:"lists",Tasks:"tasks",Settings:"appSettings",Reports:"reports",TaskRecords:"taskRecords"},ea={key:0,src:Kt,alt:"Website logo",class:"logo logo--small"},ta={key:1,src:Yt,alt:"Website logo",class:"App brand logo"},aa={"data-id":"app-menu-item-main-list","aria-label":"MAIN MENU"},sa={"aria-labelledby":"menu-recent-lists"},na={key:1},oa={"aria-labelledby":"menu-personal"},ra=P({__name:"AppMenuItemList",setup(e){const s=de("compact"),t=fe(),a=T(()=>({tasks:[{label:"Today",icon:"today",pageRoute:{name:L.Today}},{label:"Upcoming",icon:"eventUpcoming",pageRoute:{name:L.Tomorrow}},{label:"Habits",icon:"eventRepeat",pageRoute:{name:L.Habits}},{label:"Lists",icon:"list",compactOnly:!0,pageRoute:{name:L.Lists}}],personal:[{label:"Settings",icon:"settings",pageRoute:{name:L.Settings}}]}));return ot(async()=>{await t.getRecentList()}),(n,o)=>{const i=Ct("router-link");return p(),k("nav",{class:K(["app-menu-item-list",{"app-menu-item-list--compact":m(s)}])},[m(s)?(p(),k("img",ta)):(p(),k("img",ea)),w("section",aa,[(p(!0),k(H,null,oe(a.value.tasks,r=>(p(),k(H,{key:r.pageRoute.name},[!r.compactOnly||r.compactOnly&&m(s)?(p(),M(je,{key:0,label:r.label,"page-route":r.pageRoute,icon:r.icon,count:r.count},null,8,["label","page-route","icon","count"])):D("",!0)],64))),128))]),w("section",sa,[o[1]||(o[1]=w("h3",{id:"menu-recent-lists"},"RECENT LISTS",-1)),m(t).recentList.length&&!m(s)?(p(!0),k(H,{key:0},oe(m(t).recentList,r=>(p(),M(je,{key:r.id,label:r.description,"page-route":{name:m(L).List,params:{id:String(r.id)}},icon:"list"},null,8,["label","page-route"]))),128)):!m(t).recentList.length&&!m(s)?(p(),k("i",na,"No recent lists found")):D("",!0),O(i,{to:{name:m(L).Lists},class:"app-menu-item-list__link","data-testid":"menu-view-lists"},{default:j(()=>o[0]||(o[0]=[w("div",null,"View All List",-1)])),_:1},8,["to"])]),w("section",oa,[o[2]||(o[2]=w("h3",{id:"menu-personal"},"PERSONAL",-1)),(p(!0),k(H,null,oe(a.value.personal,r=>(p(),M(je,{key:r.pageRoute.name,label:r.label,"page-route":r.pageRoute,icon:r.icon,count:r.count},null,8,["label","page-route","icon","count"]))),128))])],2)}}}),ft=60*60*24*1e3;function re(e){const s=e.getMonth()+1,t=e.getDate();return`${e.getFullYear()}-${s<10?"0"+s:s}-${t<10?"0"+t:t}`}const Ae=()=>re(new Date),Es=()=>re(new Date(Date.now()+ft)),la=(e,s)=>{const t=s?new Date(s).getTime():Date.now();return re(new Date(t+ft*e))},ia=(e,s={},t)=>(e=e instanceof Date?e:new Date(e),new Intl.DateTimeFormat("en-US",s).format(e)),Cs=(e,s)=>{const t=new Set;let a=e;for(;a<=s;){const n=ia(a,{weekday:"short"}).toLowerCase();if(t.add(n),a=la(1,a),t.size===7)break}return t},ua={class:"app-menu__content"},Ls=P({__name:"AppMenu",emits:["collasped"],setup(e,{emit:s}){const t=s,a=rt(),{isTablet:n}=ct(a),o=R(n.value);return t("collasped",o.value),Le("compact",o),(i,r)=>(p(),k("div",{class:K(["app-menu",{"app-menu--collasped":o.value}]),role:"menu"},[r[1]||(r[1]=w("div",{class:"app-menu-space"},null,-1)),O(Ut,{collasped:o.value,class:K({"app-menu-toggle--transition":!m(n)}),onCollaspe:r[0]||(r[0]=c=>{o.value=!o.value,i.$emit("collasped",o.value)})},null,8,["collasped","class"]),w("div",ua,[O(ra)])],2))}}),da={class:"select-item"},ca=P({__name:"SelectItem",emits:["close","proceed"],setup(e,{emit:s}){const t=s,a=R("task"),n=()=>{t("proceed",a.value)};return(o,i)=>(p(),M(_t,{"proceed-btn":{isEvent:!0,link:"",disable:!1},onClose:i[3]||(i[3]=r=>o.$emit("close")),onProceed:n},{content:j(()=>[w("div",da,[i[7]||(i[7]=w("span",{class:"select-item__title"},"Add new item",-1)),i[8]||(i[8]=w("p",null,"Add a habit, day task, or list to level Up Your Routine!",-1)),O(ge,{modelValue:a.value,"onUpdate:modelValue":i[0]||(i[0]=r=>a.value=r),name:"item-selection",value:"task",class:"select-item__radio"},{label:j(()=>i[4]||(i[4]=[E("Task")])),_:1},8,["modelValue"]),O(ge,{modelValue:a.value,"onUpdate:modelValue":i[1]||(i[1]=r=>a.value=r),name:"item-selection",value:"habit",class:"select-item__radio"},{label:j(()=>i[5]||(i[5]=[E("Habit")])),_:1},8,["modelValue"]),O(ge,{modelValue:a.value,"onUpdate:modelValue":i[2]||(i[2]=r=>a.value=r),name:"item-selection",value:"list",class:"select-item__radio"},{label:j(()=>i[6]||(i[6]=[E("List")])),_:1},8,["modelValue"])])]),_:1}))}}),ma=Ot(ca,[["__scopeId","data-v-d575ad6a"]]),fa=["Enter","enter"," ","space"],pa=P({__name:"DayItem",props:{day:{type:String,required:!0},selected:{type:Boolean,default:!1}},emits:["selected"],setup(e,{emit:s}){const t=e,a=s,n=()=>{a("selected",!t.selected)},o=()=>n(),i=r=>{fa.includes(r.key)&&(a("selected",!t.selected),r.target.blur())};return(r,c)=>(p(),k("div",{class:K(["day-item",{"day-item--selected":e.selected}]),role:"button","aria-labelledby":"day option",tabindex:"0",onClick:o,onKeydown:i},I(e.day),35))}}),va={class:"day-item-list"},ga=P({__name:"DayItemList",props:{days:{type:Array,default:()=>[]}},emits:["input"],setup(e,{emit:s}){const t=e,{days:a}=nt(t),n=me({mon:!1,tue:!1,wed:!1,thu:!1,sat:!1,sun:!1,fri:!1}),o=["mon","tue","wed","thu","fri","sat","sun"],i=s,r=()=>{a.value.forEach(c=>{n[c]=!0})};return r(),q(n,()=>i("input",Object.keys(n).filter(c=>!!n[c]))),q(a,(c,u)=>{u.length||r()}),(c,u)=>(p(),k("div",va,[(p(),k(H,null,oe(o,$=>O(pa,{key:$,day:$,selected:!!n[$],onSelected:f=>n[$]=f},null,8,["day","selected","onSelected"])),64))]))}});var F=(e=>(e.Once="Once",e.All="All days",e.Weekdays="Weekdays",e.Weekends="Weekends",e.Custom="Custom",e))(F||{});function We(e,s){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);s&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,a)}return t}function ce(e){for(var s=1;s<arguments.length;s++){var t=arguments[s]!=null?arguments[s]:{};s%2?We(Object(t),!0).forEach(function(a){$a(e,a,t[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):We(Object(t)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))})}return e}function $a(e,s,t){return s in e?Object.defineProperty(e,s,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[s]=t,e}function ke(e){return typeof e=="function"}function Me(e){return e!==null&&typeof e=="object"&&!Array.isArray(e)}function Re(e){return ke(e.$validator)?ce({},e):{$validator:e}}function pt(e){return typeof e=="object"?e.$valid:e}function vt(e){return e.$validator||e}function ya(e,s){if(!Me(e))throw new Error(`[@vuelidate/validators]: First parameter to "withParams" should be an object, provided ${typeof e}`);if(!Me(s)&&!ke(s))throw new Error("[@vuelidate/validators]: Validator must be a function or object with $validator parameter");const t=Re(s);return t.$params=ce(ce({},t.$params||{}),e),t}function ba(e,s){if(!ke(e)&&typeof m(e)!="string")throw new Error(`[@vuelidate/validators]: First parameter to "withMessage" should be string or a function returning a string, provided ${typeof e}`);if(!Me(s)&&!ke(s))throw new Error("[@vuelidate/validators]: Validator must be a function or object with $validator parameter");const t=Re(s);return t.$message=e,t}function ha(e){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];const t=Re(e);return ce(ce({},t),{},{$async:!0,$watchTargets:s})}function ka(e){return{$validator(s){for(var t=arguments.length,a=new Array(t>1?t-1:0),n=1;n<t;n++)a[n-1]=arguments[n];return m(s).reduce((o,i,r)=>{const c=Object.entries(i).reduce((u,$)=>{let[f,v]=$;const y=e[f]||{},l=Object.entries(y).reduce((g,b)=>{let[S,A]=b;const d=vt(A).call(this,v,i,r,...a),h=pt(d);if(g.$data[S]=d,g.$data.$invalid=!h||!!g.$data.$invalid,g.$data.$error=g.$data.$invalid,!h){let z=A.$message||"";const B=A.$params||{};typeof z=="function"&&(z=z({$pending:!1,$invalid:!h,$params:B,$model:v,$response:d})),g.$errors.push({$property:f,$message:z,$params:B,$response:d,$model:v,$pending:!1,$validator:S})}return{$valid:g.$valid&&h,$data:g.$data,$errors:g.$errors}},{$valid:!0,$data:{},$errors:[]});return u.$data[f]=l.$data,u.$errors[f]=l.$errors,{$valid:u.$valid&&l.$valid,$data:u.$data,$errors:u.$errors}},{$valid:!0,$data:{},$errors:{}});return{$valid:o.$valid&&c.$valid,$data:o.$data.concat(c.$data),$errors:o.$errors.concat(c.$errors)}},{$valid:!0,$data:[],$errors:[]})},$message:s=>{let{$response:t}=s;return t?t.$errors.map(a=>Object.values(a).map(n=>n.map(o=>o.$message)).reduce((n,o)=>n.concat(o),[])):[]}}}const Se=e=>{if(e=m(e),Array.isArray(e))return!!e.length;if(e==null)return!1;if(e===!1)return!0;if(e instanceof Date)return!isNaN(e.getTime());if(typeof e=="object"){for(let s in e)return!0;return!1}return!!String(e).length},gt=e=>(e=m(e),Array.isArray(e)?e.length:typeof e=="object"?Object.keys(e).length:String(e).length);function te(){for(var e=arguments.length,s=new Array(e),t=0;t<e;t++)s[t]=arguments[t];return a=>(a=m(a),!Se(a)||s.every(n=>(n.lastIndex=0,n.test(a))))}var ie=Object.freeze({__proto__:null,forEach:ka,len:gt,normalizeValidatorObject:Re,regex:te,req:Se,unwrap:m,unwrapNormalizedValidator:vt,unwrapValidatorResponse:pt,withAsync:ha,withMessage:ba,withParams:ya});te(/^[a-zA-Z]*$/);te(/^[a-zA-Z0-9]*$/);te(/^\d*(\.\d+)?$/);const wa=/^(?:[A-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[A-z0-9!#$%&'*+/=?^_`{|}~-]+)*|"(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21\x23-\x5b\x5d-\x7f]|[\x01-\x09\x0b\x0c\x0e-\x7f])*")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9]{2,}(?:[a-z0-9-]*[a-z0-9])?|\[(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?|[a-z0-9-]*[a-z0-9]:(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21-\x5a\x53-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])+)\])$/i;te(wa);function _a(e){return s=>!Se(s)||gt(s)>=m(e)}function Oa(e){return{$validator:_a(e),$message:s=>{let{$params:t}=s;return`This field should be at least ${t.min} characters long`},$params:{min:e,type:"minLength"}}}function Ta(e){return typeof e=="string"&&(e=e.trim()),Se(e)}var Ra={$validator:Ta,$message:"Value is required",$params:{type:"required"}};const Sa=/^(?:(?:(?:https?|ftp):)?\/\/)(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z0-9\u00a1-\uffff][a-z0-9\u00a1-\uffff_-]{0,62})?[a-z0-9\u00a1-\uffff]\.)+(?:[a-z\u00a1-\uffff]{2,}\.?))(?::\d{2,5})?(?:[/?#]\S*)?$/i;te(Sa);te(/(^[0-9]*$)|(^-[0-9]+$)/);te(/^[-]?\d*(\.\d+)?$/);function qe(e,s){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);s&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,a)}return t}function Q(e){for(var s=1;s<arguments.length;s++){var t=arguments[s]!=null?arguments[s]:{};s%2?qe(Object(t),!0).forEach(function(a){Va(e,a,t[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):qe(Object(t)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))})}return e}function Va(e,s,t){return s in e?Object.defineProperty(e,s,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[s]=t,e}function Ke(e){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return Object.keys(e).reduce((t,a)=>(s.includes(a)||(t[a]=m(e[a])),t),{})}function we(e){return typeof e=="function"}function xa(e){return Oe(e)||It(e)}function $t(e,s,t){let a=e;const n=s.split(".");for(let o=0;o<n.length;o++){if(!a[n[o]])return t;a=a[n[o]]}return a}function Ee(e,s,t){return T(()=>e.some(a=>$t(s,a,{[t]:!1})[t]))}function Ye(e,s,t){return T(()=>e.reduce((a,n)=>{const o=$t(s,n,{[t]:!1})[t]||[];return a.concat(o)},[]))}function yt(e,s,t,a){return e.call(a,m(s),m(t),a)}function bt(e){return e.$valid!==void 0?!e.$valid:!e}function Da(e,s,t,a,n,o,i){let{$lazy:r,$rewardEarly:c}=n,u=arguments.length>7&&arguments[7]!==void 0?arguments[7]:[],$=arguments.length>8?arguments[8]:void 0,f=arguments.length>9?arguments[9]:void 0,v=arguments.length>10?arguments[10]:void 0;const y=R(!!a.value),l=R(0);t.value=!1;const g=q([s,a].concat(u,v),()=>{if(r&&!a.value||c&&!f.value&&!t.value)return;let b;try{b=yt(e,s,$,i)}catch(S){b=Promise.reject(S)}l.value++,t.value=!!l.value,y.value=!1,Promise.resolve(b).then(S=>{l.value--,t.value=!!l.value,o.value=S,y.value=bt(S)}).catch(S=>{l.value--,t.value=!!l.value,o.value=S,y.value=!0})},{immediate:!0,deep:typeof s=="object"});return{$invalid:y,$unwatch:g}}function ja(e,s,t,a,n,o,i,r){let{$lazy:c,$rewardEarly:u}=a;const $=()=>({}),f=T(()=>{if(c&&!t.value||u&&!r.value)return!1;let v=!0;try{const y=yt(e,s,i,o);n.value=y,v=bt(y)}catch(y){n.value=y}return v});return{$unwatch:$,$invalid:f}}function Ea(e,s,t,a,n,o,i,r,c,u,$){const f=R(!1),v=e.$params||{},y=R(null);let l,g;e.$async?{$invalid:l,$unwatch:g}=Da(e.$validator,s,f,t,a,y,n,e.$watchTargets,c,u,$):{$invalid:l,$unwatch:g}=ja(e.$validator,s,t,a,y,n,c,u);const b=e.$message;return{$message:we(b)?T(()=>b(Ke({$pending:f,$invalid:l,$params:Ke(v),$model:s,$response:y,$validator:o,$propertyPath:r,$property:i}))):b||"",$params:v,$pending:f,$invalid:l,$response:y,$unwatch:g}}function Ca(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const s=m(e),t=Object.keys(s),a={},n={},o={};let i=null;return t.forEach(r=>{const c=s[r];switch(!0){case we(c.$validator):a[r]=c;break;case we(c):a[r]={$validator:c};break;case r==="$validationGroups":i=c;break;case r.startsWith("$"):o[r]=c;break;default:n[r]=c}}),{rules:a,nestedValidators:n,config:o,validationGroups:i}}const La="__root";function Pa(e,s,t,a,n,o,i,r,c){const u=Object.keys(e),$=a.get(n,e),f=R(!1),v=R(!1),y=R(0);if($){if(!$.$partial)return $;$.$unwatch(),f.value=$.$dirty.value}const l={$dirty:f,$path:n,$touch:()=>{f.value||(f.value=!0)},$reset:()=>{f.value&&(f.value=!1)},$commit:()=>{}};return u.length?(u.forEach(g=>{l[g]=Ea(e[g],s,l.$dirty,o,i,g,t,n,c,v,y)}),l.$externalResults=T(()=>r.value?[].concat(r.value).map((g,b)=>({$propertyPath:n,$property:t,$validator:"$externalResults",$uid:`${n}-externalResult-${b}`,$message:g,$params:{},$response:null,$pending:!1})):[]),l.$invalid=T(()=>{const g=u.some(b=>m(l[b].$invalid));return v.value=g,!!l.$externalResults.value.length||g}),l.$pending=T(()=>u.some(g=>m(l[g].$pending))),l.$error=T(()=>l.$dirty.value?l.$pending.value||l.$invalid.value:!1),l.$silentErrors=T(()=>u.filter(g=>m(l[g].$invalid)).map(g=>{const b=l[g];return me({$propertyPath:n,$property:t,$validator:g,$uid:`${n}-${g}`,$message:b.$message,$params:b.$params,$response:b.$response,$pending:b.$pending})}).concat(l.$externalResults.value)),l.$errors=T(()=>l.$dirty.value?l.$silentErrors.value:[]),l.$unwatch=()=>u.forEach(g=>{l[g].$unwatch()}),l.$commit=()=>{v.value=!0,y.value=Date.now()},a.set(n,e,l),l):($&&a.set(n,e,l),l)}function Ia(e,s,t,a,n,o,i){const r=Object.keys(e);return r.length?r.reduce((c,u)=>(c[u]=Ne({validations:e[u],state:s,key:u,parentKey:t,resultsCache:a,globalConfig:n,instance:o,externalResults:i}),c),{}):{}}function Aa(e,s,t){const a=T(()=>[s,t].filter(l=>l).reduce((l,g)=>l.concat(Object.values(m(g))),[])),n=T({get(){return e.$dirty.value||(a.value.length?a.value.every(l=>l.$dirty):!1)},set(l){e.$dirty.value=l}}),o=T(()=>{const l=m(e.$silentErrors)||[],g=a.value.filter(b=>(m(b).$silentErrors||[]).length).reduce((b,S)=>b.concat(...S.$silentErrors),[]);return l.concat(g)}),i=T(()=>{const l=m(e.$errors)||[],g=a.value.filter(b=>(m(b).$errors||[]).length).reduce((b,S)=>b.concat(...S.$errors),[]);return l.concat(g)}),r=T(()=>a.value.some(l=>l.$invalid)||m(e.$invalid)||!1),c=T(()=>a.value.some(l=>m(l.$pending))||m(e.$pending)||!1),u=T(()=>a.value.some(l=>l.$dirty)||a.value.some(l=>l.$anyDirty)||n.value),$=T(()=>n.value?c.value||r.value:!1),f=()=>{e.$touch(),a.value.forEach(l=>{l.$touch()})},v=()=>{e.$commit(),a.value.forEach(l=>{l.$commit()})},y=()=>{e.$reset(),a.value.forEach(l=>{l.$reset()})};return a.value.length&&a.value.every(l=>l.$dirty)&&f(),{$dirty:n,$errors:i,$invalid:r,$anyDirty:u,$error:$,$pending:c,$touch:f,$reset:y,$silentErrors:o,$commit:v}}function Ne(e){let{validations:s,state:t,key:a,parentKey:n,childResults:o,resultsCache:i,globalConfig:r={},instance:c,externalResults:u}=e;const $=n?`${n}.${a}`:a,{rules:f,nestedValidators:v,config:y,validationGroups:l}=Ca(s),g=Q(Q({},r),y),b=a?T(()=>{const C=m(t);return C?m(C[a]):void 0}):t,S=Q({},m(u)||{}),A=T(()=>{const C=m(u);return a?C?m(C[a]):void 0:C}),_=Pa(f,b,a,i,$,g,c,A,t),d=Ia(v,b,$,i,g,c,A),h={};l&&Object.entries(l).forEach(C=>{let[se,Z]=C;h[se]={$invalid:Ee(Z,d,"$invalid"),$error:Ee(Z,d,"$error"),$pending:Ee(Z,d,"$pending"),$errors:Ye(Z,d,"$errors"),$silentErrors:Ye(Z,d,"$silentErrors")}});const{$dirty:z,$errors:B,$invalid:V,$anyDirty:x,$error:N,$pending:W,$touch:Y,$reset:le,$silentErrors:Ve,$commit:pe}=Aa(_,d,o),ae=a?T({get:()=>m(b),set:C=>{z.value=!0;const se=m(t),Z=m(u);Z&&(Z[a]=S[a]),ee(se[a])?se[a].value=C:se[a]=C}}):null;a&&g.$autoDirty&&q(b,()=>{z.value||Y();const C=m(u);C&&(C[a]=S[a])},{flush:"sync"});async function U(){return Y(),g.$rewardEarly&&(pe(),await he()),await he(),new Promise(C=>{if(!W.value)return C(!V.value);const se=q(W,()=>{C(!V.value),se()})})}function kt(C){return(o.value||{})[C]}function wt(){ee(u)?u.value=S:Object.keys(S).length===0?Object.keys(u).forEach(C=>{delete u[C]}):Object.assign(u,S)}return me(Q(Q(Q({},_),{},{$model:ae,$dirty:z,$error:N,$errors:B,$invalid:V,$anyDirty:x,$pending:W,$touch:Y,$reset:le,$path:$||La,$silentErrors:Ve,$validate:U,$commit:pe},o&&{$getResultsForChild:kt,$clearExternalResults:wt,$validationGroups:h}),d))}class Ma{constructor(){this.storage=new Map}set(s,t,a){this.storage.set(s,{rules:t,result:a})}checkRulesValidity(s,t,a){const n=Object.keys(a),o=Object.keys(t);return o.length!==n.length||!o.every(r=>n.includes(r))?!1:o.every(r=>t[r].$params?Object.keys(t[r].$params).every(c=>m(a[r].$params[c])===m(t[r].$params[c])):!0)}get(s,t){const a=this.storage.get(s);if(!a)return;const{rules:n,result:o}=a,i=this.checkRulesValidity(s,t,n),r=o.$unwatch?o.$unwatch:()=>({});return i?o:{$dirty:o.$dirty,$partial:!0,$unwatch:r}}}const be={COLLECT_ALL:!0,COLLECT_NONE:!1},Ge=Symbol("vuelidate#injectChildResults"),Ze=Symbol("vuelidate#removeChildResults");function Na(e){let{$scope:s,instance:t}=e;const a={},n=R([]),o=T(()=>n.value.reduce(($,f)=>($[f]=m(a[f]),$),{}));function i($,f){let{$registerAs:v,$scope:y,$stopPropagation:l}=f;l||s===be.COLLECT_NONE||y===be.COLLECT_NONE||s!==be.COLLECT_ALL&&s!==y||(a[v]=$,n.value.push(v))}t.__vuelidateInjectInstances=[].concat(t.__vuelidateInjectInstances||[],i);function r($){n.value=n.value.filter(f=>f!==$),delete a[$]}t.__vuelidateRemoveInstances=[].concat(t.__vuelidateRemoveInstances||[],r);const c=de(Ge,[]);Le(Ge,t.__vuelidateInjectInstances);const u=de(Ze,[]);return Le(Ze,t.__vuelidateRemoveInstances),{childResults:o,sendValidationResultsToParent:c,removeValidationResultsFromParent:u}}function ht(e){return new Proxy(e,{get(s,t){return typeof s[t]=="object"?ht(s[t]):T(()=>s[t])}})}let Je=0;function Ua(e,s){var t;let a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};arguments.length===1&&(a=e,e=void 0,s=void 0);let{$registerAs:n,$scope:o=be.COLLECT_ALL,$stopPropagation:i,$externalResults:r,currentVueInstance:c}=a;const u=c||((t=Lt())===null||t===void 0?void 0:t.proxy),$=u?u.$options:{};n||(Je+=1,n=`_vuelidate_${Je}`);const f=R({}),v=new Ma,{childResults:y,sendValidationResultsToParent:l,removeValidationResultsFromParent:g}=u?Na({$scope:o,instance:u}):{childResults:R({})};if(!e&&$.validations){const b=$.validations;s=R({}),ot(()=>{s.value=u,q(()=>we(b)?b.call(s.value,new ht(s.value)):b,S=>{f.value=Ne({validations:S,state:s,childResults:y,resultsCache:v,globalConfig:a,instance:u,externalResults:r||u.vuelidateExternalResults})},{immediate:!0})}),a=$.validationsConfig||a}else{const b=ee(e)||xa(e)?e:me(e||{});q(b,S=>{f.value=Ne({validations:S,state:s,childResults:y,resultsCache:v,globalConfig:a,instance:u??{},externalResults:r})},{immediate:!0})}return u&&(l.forEach(b=>b(f,{$registerAs:n,$scope:o,$stopPropagation:i})),Pt(()=>g.forEach(b=>b(n)))),T(()=>Q(Q({},m(f.value)),y.value))}const za=(e,s,t,a)=>{const n=Object.assign({},e);return n.days=[...n.days],s===F.Weekdays?n.days=["mon","tue","wed","thu","fri"]:s===F.Weekends?n.days=["sat","sun"]:s!==F.Once&&e.days.length===0&&(n.days=["mon","tue","wed","thu","fri","sat","sun"]),n.startDate||(n.startDate=new Date(Date.now()).toISOString().split("T")[0]),n.priority=Number(n.priority),t||(n.endDate=void 0),a||(n.startTime=void 0,n.endTime=void 0),n};function Fa(e){e.scrollIntoView({behavior:"smooth"})}const Ha={key:1},Ba={key:2},Wa={key:0,class:"task-form__optional"},qa={class:"task-form__optional"},Ka={key:0,class:"task-form__time"},Ya={key:1,class:"task-form__optional"},Ga={key:2,class:"task-form__optional"},Za={class:"task-form__additional"},Ja=P({__name:"TaskForm",props:{listId:{type:Number,default:void 0},selectedTask:{type:Object,default:void 0},isHabit:{type:Boolean,default:!1},isToday:{type:Boolean,default:!1},minStartDate:{type:String,default:""}},emits:["submitted"],setup(e,{emit:s}){const t=e,a=R(!1),n=R(!1),o=R(!1),i=_e(),r=fe(),c=R(F.Once),u=R(null),$=T(()=>t.listId||t.selectedTask?.listId);At(()=>{c.value=t.isHabit?F.All:F.Once,t.selectedTask?.days?.length&&(c.value=F.Custom),t.selectedTask&&(a.value=!!t.selectedTask.startTime||!!t.selectedTask.endTime,n.value=!!t.selectedTask.endDate)});const f=s,v=()=>({description:t.selectedTask?.description||"",note:t.selectedTask?.note||"",startTime:t.selectedTask?.startTime||"",endTime:t.selectedTask?.endTime||"",endDate:t.selectedTask?.endDate||"",carryOver:t.selectedTask?.carryOver||!1,priority:t.selectedTask?.priority||mt.Normal,days:t.selectedTask?.days||[],startDate:t.selectedTask?.startDate||(t.minStartDate?t.minStartDate:Ae()),order:0,archiveDate:0,listId:t.selectedTask?.listId||t.listId,isArchived:!1}),y={description:{required:Ra,maxLength:Oa(4)},startTime:{minTime:ie.withMessage("The start time must have a minimum value of 06:00",{$validator:_=>!_||_>="06:00"}),maxTime:ie.withMessage("The start time must have a value less than 21:00",{$validator:_=>!_||_<="21:00"})},endTime:{minTime:ie.withMessage("The end time must have a minimum value of 06:00",{$validator:_=>!_||_>="06:00"}),lessThanStart:ie.withMessage("The end time must be greater than the start time",{$validator:_=>!_||!!l.value.startTime&&_>l.value.startTime}),maxTime:ie.withMessage("The end time must have a value less than 22:00",{$validator:_=>!_||_<="22:00"})}},l=R(v()),g=Ua(y,l),b=R(!1);q(l,()=>{b.value=!1},{deep:!0});const S=async()=>{if(g.value.$validate(),g.value.$error)return;const _=za(l.value,c.value,n.value,a.value);try{t.selectedTask?await r.updateTask({...t.selectedTask,..._}):await r.addTask(_),g.value.$reset(),u.value&&Fa(u.value),o.value?(l.value=v(),b.value=!0):f("submitted")}catch{const d=t.selectedTask?"The task failed to save.":"Failed to create new task.";i.error({title:"Error",text:d+" Please try again."})}},A=Object.keys(Be).map(_=>({value:Number(_),label:Be[Number(_)]}));return(_,d)=>l.value?(p(),k("form",{key:0,id:"task-form",class:"task-form",novalidate:"","aria-label":"Todo task form",onSubmit:$e(S,["prevent"])},[b.value?(p(),M(Tt,{key:0,type:"success",onClose:d[0]||(d[0]=h=>b.value=!0)},{default:j(()=>d[16]||(d[16]=[w("span",null,"New task was added successfully",-1)])),_:1})):D("",!0),w("fieldset",{ref_key:"topOfForm",ref:u},[d[18]||(d[18]=w("legend",null,"Title & note",-1)),O(X,{modelValue:l.value.description,"onUpdate:modelValue":d[1]||(d[1]=h=>l.value.description=h),class:"task-form__field"},xe({label:j(()=>[d[17]||(d[17]=E("Title"))]),_:2},[m(g).description.$error?{name:"error",fn:j(()=>[E(I(m(g).description.$errors[0].$message),1)]),key:"0"}:void 0]),1032,["modelValue"]),O(Mt,{"model-value":l.value.note,"onUpdate:modelValue":d[2]||(d[2]=h=>l.value.note=h),label:"Note"},null,8,["model-value"])],512),w("fieldset",null,[d[19]||(d[19]=w("legend",null,"Select Priority",-1)),O(Rt,{modelValue:l.value.priority,"onUpdate:modelValue":d[3]||(d[3]=h=>l.value.priority=h),class:"task-form__field",options:m(A)},null,8,["modelValue","options"])]),t.isHabit&&!t.selectedTask?(p(),k("fieldset",Ha,[d[20]||(d[20]=w("legend",null,"Repeat",-1)),(p(!0),k(H,null,oe(Object.values(m(F)),h=>(p(),k(H,{key:h},[h===m(F).Once&&e.isHabit?D("",!0):(p(),k("div",{key:h,class:"task-form__frequency-item"},[O(ge,{modelValue:c.value,"onUpdate:modelValue":d[4]||(d[4]=z=>c.value=z),name:"repeatFrequency","data-testid":"freq-"+h,value:h},{label:j(()=>[E(I(h),1)]),_:2},1032,["modelValue","data-testid","value"])]))],64))),128))])):D("",!0),c.value==="Custom"?(p(),k("fieldset",Ba,[d[21]||(d[21]=w("legend",null,"Select days",-1)),O(ga,{days:l.value.days,onInput:d[5]||(d[5]=h=>l.value.days=h)},null,8,["days"])])):D("",!0),w("fieldset",null,[d[26]||(d[26]=w("legend",null,"Optional",-1)),!$.value&&c.value==="Once"?(p(),k("div",Wa,[O(ve,{modelValue:l.value.carryOver,"onUpdate:modelValue":d[6]||(d[6]=h=>l.value.carryOver=h),label:"Carry over"},null,8,["modelValue"])])):D("",!0),w("div",qa,[O(ve,{modelValue:a.value,"onUpdate:modelValue":d[7]||(d[7]=h=>a.value=h),label:"Add start and end time"},null,8,["modelValue"]),a.value?(p(),k("div",Ka,[O(X,{modelValue:l.value.startTime,"onUpdate:modelValue":d[8]||(d[8]=h=>l.value.startTime=h),type:"time",class:"task-form__field"},xe({label:j(()=>[d[22]||(d[22]=E("Start"))]),_:2},[m(g).startTime.$error?{name:"error",fn:j(()=>[E(I(m(g).startTime.$errors[0].$message),1)]),key:"0"}:void 0]),1032,["modelValue"]),O(X,{modelValue:l.value.endTime,"onUpdate:modelValue":d[9]||(d[9]=h=>l.value.endTime=h),type:"time",class:"task-form__field",disabled:!l.value.startTime},xe({label:j(()=>[d[23]||(d[23]=E("End"))]),_:2},[m(g).endTime.$error?{name:"error",fn:j(()=>[E(I(m(g).endTime.$errors[0].$message),1)]),key:"0"}:void 0]),1032,["modelValue","disabled"])])):D("",!0)]),!$.value&&c.value!=="Once"?(p(),k("div",Ya,[O(ve,{modelValue:n.value,"onUpdate:modelValue":d[10]||(d[10]=h=>n.value=h),label:"Add end date"},null,8,["modelValue"]),n.value?(p(),M(X,{key:0,modelValue:l.value.endDate,"onUpdate:modelValue":d[11]||(d[11]=h=>l.value.endDate=h),type:"date",class:"task-form__field task-form__end-date",min:m(re)(new Date(Date.now()+60*60*24*1e3)),onKeydown:d[12]||(d[12]=$e(()=>{},["prevent"]))},{label:j(()=>d[24]||(d[24]=[E("End date")])),_:1},8,["modelValue","min"])):D("",!0)])):D("",!0),!$.value&&c.value===m(F).Once&&!t.isToday?(p(),k("div",Ga,[O(X,{modelValue:l.value.startDate,"onUpdate:modelValue":d[13]||(d[13]=h=>l.value.startDate=h),type:"date",class:"task-form__field task-form__end-date",min:e.minStartDate||m(Ae)(),onKeydown:d[14]||(d[14]=$e(()=>{},["prevent"]))},{label:j(()=>d[25]||(d[25]=[E("Start date")])),_:1},8,["modelValue","min"])])):D("",!0)]),w("div",Za,[$.value?(p(),M(ve,{key:0,modelValue:o.value,"onUpdate:modelValue":d[15]||(d[15]=h=>o.value=h),label:"Add another task to the list"},null,8,["modelValue"])):D("",!0)])],32)):D("",!0)}}),Qa=P({__name:"TaskFormModal",props:{listId:{type:Number,default:void 0},selectedTask:{type:Object,default:void 0},isHabit:{type:Boolean,default:!1},isToday:{type:Boolean,default:!1},minStartDate:{type:String,default:""}},emits:["close","submitted"],setup(e){const s=e,t=T(()=>{const a=s.selectedTask?"Edit":"Add",n=s.isHabit?"Habit":"Task";return a+" "+n});return(a,n)=>(p(),M(Xe,{onClose:n[1]||(n[1]=o=>a.$emit("close"))},{header:j(()=>[E(I(t.value),1)]),main:j(()=>[O(Ja,Nt(s,{onSubmitted:n[0]||(n[0]=o=>{a.$emit("submitted"),a.$emit("close")})}),null,16)]),"footer-buttons":j(()=>[O(et,{form:"task-form"},{default:j(()=>n[2]||(n[2]=[E("Submit")])),_:1})]),_:1}))}}),Xa={key:0},es={key:1},ts={key:0},as=P({__name:"TaskListForm",props:{item:{type:Object,default:null}},emits:["done","addTask","close"],setup(e,{emit:s}){const t=e,a=s,n=_e(),o=fe(),i=R(re(new Date(Date.now()+60*60*24*1e3))),r=R({description:t.item?.description||"",startDate:t.item?.startDate||Ae(),endDate:t.item?.endDate||""}),c=T(()=>Object.values(r.value).includes("")),u=T(()=>!!t.item);q(()=>r.value.startDate,()=>{try{const f=new Date(r.value.startDate);r.value.endDate||(i.value=re(new Date(f.getTime()+60*60*24*1e3)))}catch{n.error({text:"Fatal error occurred"})}});const $=async()=>{try{if(u.value){const f={id:t.item.id,createdDate:t.item.createdDate,lastModifiedDate:t.item.lastModifiedDate,...r.value,isArchived:!1,isDeleted:!1};await o.updateList(f)}else await o.addList(r.value);a("done")}catch{const f=u.value?"Failed to save changes for list.":"Failed to create new list";n.error({title:"An error occurred",text:f})}};return(f,v)=>(p(),M(Xe,{onClose:v[3]||(v[3]=y=>f.$emit("close"))},{header:j(()=>[e.item?(p(),k("span",Xa,"Edit List")):(p(),k("span",es,"Add List"))]),main:j(()=>[w("form",{id:"task-list-form",class:"task-list-form",novalidate:"",onSubmit:$e($,["prevent"])},[w("div",null,[O(X,{modelValue:r.value.description,"onUpdate:modelValue":v[0]||(v[0]=y=>r.value.description=y),maxlength:150,"data-testid":"task-list-form-description"},{label:j(()=>v[4]||(v[4]=[E("Description")])),_:1},8,["modelValue"])]),u.value?D("",!0):(p(),k("div",ts,[O(X,{modelValue:r.value.startDate,"onUpdate:modelValue":v[1]||(v[1]=y=>r.value.startDate=y),type:"date","data-testid":"task-list-form-start",min:new Date(Date.now()).toISOString().split("T")[0]},{label:j(()=>v[5]||(v[5]=[E("Start date")])),_:1},8,["modelValue","min"])])),w("div",null,[O(X,{modelValue:r.value.endDate,"onUpdate:modelValue":v[2]||(v[2]=y=>r.value.endDate=y),type:"date","data-testid":"task-list-form-end",min:i.value,disabled:!r.value.startDate},{label:j(()=>v[6]||(v[6]=[E("End date")])),_:1},8,["modelValue","min","disabled"])])],32)]),"footer-buttons":j(()=>[O(et,{form:"task-list-form",disabled:c.value},{default:j(()=>[e.item?(p(),k(H,{key:0},[E("Edit")],64)):(p(),k(H,{key:1},[E("Create")],64))]),_:1},8,["disabled"])]),_:1}))}}),ss={class:"mobile-header"},ns={class:"mobile-header__menu"},os={"aria-label":"settings"},Ps=P({__name:"MobileHeader",setup(e){const s=Ue(),t=ze(),a=_e(),n=fe(),o=R("task"),{lists:i,habits:r,allUpcomingTasks:c,tomorrowsTasks:u,todaysTasks:$}=ct(n),f=R(!1),v=R(!1),y=R(!1),l=R(!1),g=A=>{f.value=!1,o.value=A,A==="task"||A==="habit"?(l.value=A==="habit",v.value=!0):y.value=!0},b=()=>{if(y.value=!1,a.success({text:"You successfully added a new task."}),t.name===L.Lists&&o.value==="list"){n.getAllList(i.value.pagination.page);return}if(t.name===L.Habits&&o.value==="habit"){n.getHabits(r.value.pagination.page);return}if(t.name===L.Today&&o.value==="task"){n.getTodaysTasks($.value.pagination.page);return}if(t.name===L.Tomorrow&&o.value==="task"){n.getTomorrowTasks(u.value.pagination.page);return}if(t.name===L.Upcoming&&o.value==="task"){n.getUpcoming(c.value.pagination.page);return}},S=()=>{v.value=!1,a.success({text:"You successfully added a new list."}),t.name===L.Lists&&n.getAllList(i.value.pagination.page)};return(A,_)=>(p(),k("div",ss,[w("button",{class:"mobile-header__back-button","aria-label":"Back button",onClick:_[0]||(_[0]=d=>m(s).go(-1))},[O(G,{name:"chevronLeft"})]),_[6]||(_[6]=w("span",{class:"mobile-header__app-title"},"planner.",-1)),w("div",ns,[w("button",{class:"mobile-header__menu-item","aria-label":"add new item","aria-description":"a button to add a day task, list or habit",onClick:_[1]||(_[1]=d=>f.value=!0)},[O(G,{name:"addBox"})]),w("button",os,[O(G,{name:"settings",onClick:_[2]||(_[2]=d=>m(s).push({name:m(L).Settings}))})]),f.value?(p(),M(ma,{key:0,onClose:_[3]||(_[3]=d=>f.value=!1),onProceed:g})):D("",!0),v.value?(p(),M(Qa,{key:1,"is-habit":l.value,onClose:_[4]||(_[4]=d=>v.value=!1),onSubmitted:b},null,8,["is-habit"])):D("",!0),y.value?(p(),M(as,{key:2,onDone:S,onClose:_[5]||(_[5]=d=>y.value=!1)})):D("",!0)])]))}}),rs={FILE_SIZE:"file_size"},ls={key:0,class:"profile-image__image"},is=["src"],us=["src"],ds={key:1,class:"profile-image__svg"},cs={key:2,role:"button",class:"profile-image__add",tabindex:"1"},Qe=P({__name:"ProfileImage",props:{src:{type:String,default:""},modelValue:{type:String,default:""},size:{type:String,default:"normal"},viewOnly:{type:Boolean,default:!0}},emits:["error","update:modelValue"],setup(e,{emit:s}){const t=R(),a=R(),n=_e(),o=e,i=s,r=()=>{o.viewOnly||t.value?.click()},c=$=>new Promise((f,v)=>{const y=new FileReader;y.readAsDataURL($),y.onerror=()=>{n.error({text:"Error occurred processing image."}),v(null)},y.onload=()=>{f(y.result)}}),u=async $=>{const f=$.target;if(!f.files?.length)return;await he();const v=f.files[0];if(v.size>1024*1024*2){i("error",rs.FILE_SIZE),n.error({title:"Error",text:"Image is too large. Maximum image size is 5mb"});return}const y=await c(v);i("update:modelValue",y)};return($,f)=>(p(),k("div",{class:K(["profile-image",{"profile-image--borderless":e.modelValue||e.src,[`profile-image--${e.size}`]:!0}]),onClick:r,onKeydown:Ce(r,["enter"])},[e.modelValue||e.src?(p(),k("div",ls,[!e.viewOnly&&e.modelValue?(p(),k("img",{key:0,ref_key:"image",ref:a,src:e.modelValue,alt:"your profile image"},null,8,is)):e.src?(p(),k("img",{key:1,src:e.src,alt:"your profile image"},null,8,us)):D("",!0)])):(p(),k("div",ds,[O(G,{name:"person"})])),e.viewOnly?D("",!0):(p(),k("div",cs,[O(G,{name:"add"}),w("input",{ref_key:"input",ref:t,type:"file",style:{display:"none"},name:"image",accept:"image/gif,image/jpeg,image/jpg,image/png","data-original-title":"upload photos",onChange:f[0]||(f[0]=v=>u(v))},null,544)]))],34))}}),ms={key:0,class:"main-content__profile"},fs={class:"setting-name"},ps={key:1,class:"mobile-main-content__personal"},Is=P({__name:"MainContent",props:{isMobile:{type:Boolean,default:!1},collaspedMenu:{type:Boolean,default:!1}},setup(e){const s=rt(),t=fe(),a=T(()=>`You have ${t.countTodaysTask} tasks today and ${t.countList} active lists.`);return(n,o)=>(p(),k("div",{class:K({"collasped-menu":e.collaspedMenu,"main-content":!e.isMobile,"mobile-main-content":e.isMobile}),role:"main",tabindex:"0"},[w("div",{class:K({"main-content__container":!e.isMobile})},[e.isMobile?(p(),k("div",ps,[O(Qe,{class:"main-content__profile-image",src:m(s).settings.image,size:"small"},null,8,["src"]),w("div",null,[o[1]||(o[1]=E(" Hello ")),w("strong",null,I(m(s).settings.name),1),o[2]||(o[2]=w("br",null,null,-1)),E(" "+I(a.value),1)])])):(p(),k("div",ms,[w("div",null,I(a.value),1),w("div",null,[w("span",fs,[o[0]||(o[0]=E("Hello ")),w("strong",null,I(m(s).settings.name),1)]),O(Qe,{class:"main-content__profile-image",src:m(s).settings.image,size:"small"},null,8,["src"])])])),ye(n.$slots,"default")],2)],2))}}),vs={class:"mobile-footer-menu-count"},gs=P({__name:"MobileFooterMenuCount",props:{count:{type:Number,default:0}},setup(e){return(s,t)=>(p(),k("div",vs,I(e.count),1))}}),$s=["id"],ys=P({__name:"MobileFooterMenuItem",props:{item:{type:Object,required:!0}},setup(e){const s=Ue(),t=ze();return(a,n)=>(p(),k("div",{class:K(["mobile-footer-menu-item",{"mobile-footer-menu-item--selected":m(t).name===e.item.pageRoute.name}]),role:"button",tabindex:"0",onClick:n[0]||(n[0]=o=>m(s).push({name:e.item.pageRoute.name}))},[w("div",null,[O(G,{name:e.item.icon,"aria-labelledby":"menu-footer-"+e.item.label},null,8,["name","aria-labelledby"]),w("div",{id:"menu-footer-"+e.item.label},I(e.item.label),9,$s)]),e.item.count?(p(),M(gs,{key:0,class:"mobile-footer-menu-item__count",count:e.item.count},null,8,["count"])):D("",!0)],2))}}),bs={class:"mobile-footer"},As=P({__name:"MobileFooter",setup(e){const s=[{label:"Today",icon:"today",pageRoute:{name:L.Today}},{label:"Upcoming",icon:"eventUpcoming",pageRoute:{name:L.Upcoming}},{label:"Habits",icon:"eventRepeat",pageRoute:{name:L.Habits}},{label:"Lists",icon:"list",pageRoute:{name:L.Lists}}];return(t,a)=>(p(),k("div",bs,[(p(),k(H,null,oe(s,n=>O(ys,{key:n.pageRoute.name,item:n},null,8,["item"])),64))]))}}),hs={class:"page-title__main"},ks={class:"page-title__main-content"},ws={class:"page-title__actions"},_s={key:0,class:"page-title__date","data-testid":"page-date"},Os={key:1,class:"page-title__subtitle","data-testid":"page-subtitle"},Ms=P({__name:"PageTitle",props:{id:{type:Number,default:0},date:{type:String,default:""},title:{type:String,required:!0},subtitle:{type:String,default:""}},setup(e){return(s,t)=>(p(),k("header",{class:K(["page-title",{"page-title--has-date":!!e.date}])},[w("div",hs,[w("div",ks,[w("h1",null,[E(I(e.title)+" ",1),w("span",ws,[ye(s.$slots,"actions")])]),e.date?(p(),k("p",_s,I(e.date),1)):D("",!0),e.subtitle||s.$slots.subtitle?(p(),k("p",Os,[ye(s.$slots,"subtitle"),s.$slots.subtitle?D("",!0):(p(),k(H,{key:0},[E(I(e.subtitle),1)],64))])):D("",!0)])]),ye(s.$slots,"additional")],2))}});export{Xt as F,js as O,Qt as T,Is as _,Cs as a,Es as b,la as c,xs as d,Ps as e,ia as f,Ae as g,Ls as h,As as i,Ds as j,Ms as k,Qa as l,as as m,Qe as n,Vs as o,Be as p,L as r,ct as s};
