import{d as F,f as _,o as m,g as N,l as L,A as V,i as qe,c as I,R as bt,k as Q,u as f,x as b,B as Qt,S as Hn,m as h,U as en,V as Vn,F as H,D as me,y as S,r as C,p as Rn,z as x,P as _a,b as tn,w as oe,W as Ms,K as Dn,v as Ns,L as ka,X as Ta,n as _t,t as Ye,Y as ze,_ as wa,Z as We,$ as $a,q as Ge,a0 as Ea,j as Sa,a1 as Aa,a2 as La,a3 as Ca,a4 as Oa,E as Ra,T as Da,a5 as Pa,a6 as xa}from"./RichEditor-C7KfKfvq.js";import{_ as re,u as Oe,a as _e,b as nn,c as Vt,d as $e,e as fe,f as Ia,g as Te,h as sn,i as It,j as Us,k as Ne,l as Ma,T as zt,m as Be,n as an,o as wt,p as Hs,L as Na,q as Ua,r as Mt,S as Ha,s as Va,t as Fa}from"./component-base-BHfq366P.js";import{a as pe,u as Ue,s as Re,g as ot,P as ht,p as kt,b as Wt,c as ja,D as ge,d as Ba,e as Vs,T as de,o as za,f as Fs,h as js,N as Wa,i as Ga,j as qa,L as Fn,F as je,k as ds,l as Ya,m as Ka}from"./stores-CTh5FGxy.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const r of o.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&s(r)}).observe(document,{childList:!0,subtree:!0});function n(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(a){if(a.ep)return;a.ep=!0;const o=n(a);fetch(a.href,o)}})();const Xa=F({__name:"AppMenuToggle",props:{collasped:{type:Boolean,default:!1}},emits:["collaspe"],setup(e,{emit:t}){const n=t;return(s,a)=>(m(),_("div",{class:"app-menu-toggle",role:"button","data-testid":"collaspe-app-menu","aria-label":"collaspe menu",onClick:a[0]||(a[0]=o=>n("collaspe"))},[e.collasped?(m(),N(re,{key:0,name:"ChevronRight","aria-hidden":"true"})):L("",!0),e.collasped?L("",!0):(m(),N(re,{key:1,name:"ChevronLeft","aria-hidden":"true"}))]))}}),Za=""+new URL("../logo-name-white.svg",import.meta.url).href,Ja=""+new URL("../favicon.png",import.meta.url).href,M={Today:"today",Settings:"settings",Upcoming:"upcoming",Lists:"lists",List:"list",Habits:"habits",Setup:"setup",Tasks:"tasks",TaskOverview:"taskOverview"},Qa={class:"app-menu-item-count"},eo=F({__name:"AppMenuItemCount",props:{count:{type:Number,default:0}},setup(e){return(t,n)=>(m(),_("div",Qa,V(e.count),1))}}),to=["aria-description"],$n=F({__name:"AppMenuItem",props:{label:{type:String,required:!0},icon:{type:String,required:!0},pageRoute:{type:Object,required:!0},count:{type:Number,default:0}},setup(e){const t=e,n=qe("compact"),s=Oe(),a=_e(),o=()=>{s.push({name:t.pageRoute.name,...t.pageRoute.params?{params:t.pageRoute.params}:{}})},r=(d,c=0)=>n?c?`${d} (${c})`:d:"",i=I(()=>t.pageRoute.params?t.pageRoute.params?.id===a.params?.id&&t.pageRoute.name===a.name:a.name===t.pageRoute.name);return(d,c)=>(m(),_("div",{class:Q(["app-menu-item",{"app-menu-item--selected":i.value,"app-menu-item--compact":f(n)}]),"data-testid":"app-menu-item",role:"menuitem",tabindex:"0","aria-description":e.label,onClick:o,onKeydown:[bt(o,["enter"]),bt(o,["space"])]},[b(re,{name:e.icon,width:28,title:r(e.label,e.count)},null,8,["name","title"]),Qt(h("span",{class:"app-menu-item__label"},V(e.label),513),[[Hn,!f(n)]]),e.count&&!f(n)?(m(),N(eo,{key:0,count:e.count},null,8,["count"])):L("",!0)],42,to))}}),no={key:0,src:Za,alt:"Website logo",class:"logo logo--small"},so={key:1,src:Ja,alt:"Website logo",class:"App brand logo"},ao={"data-id":"app-menu-item-main-list","aria-label":"MAIN MENU"},oo={"aria-labelledby":"menu-recent-lists"},io={key:1},ro={"aria-labelledby":"menu-personal"},lo=F({__name:"AppMenuItemList",setup(e){const t=qe("compact"),n=pe(),s=I(()=>({tasks:[{label:"Today",icon:"today",pageRoute:{name:M.Today}},{label:"Upcoming",icon:"eventUpcoming",pageRoute:{name:M.Upcoming}},{label:"Habits",icon:"eventRepeat",pageRoute:{name:M.Habits}},{label:"Lists",icon:"list",compactOnly:!0,pageRoute:{name:M.Lists}}],personal:[{label:"Settings",icon:"settings",pageRoute:{name:M.Settings}}]}));return en(async()=>{await n.getRecentList()}),(a,o)=>{const r=Vn("router-link");return m(),_("nav",{class:Q(["app-menu-item-list",{"app-menu-item-list--compact":f(t)}])},[f(t)?(m(),_("img",so)):(m(),_("img",no)),h("section",ao,[(m(!0),_(H,null,me(s.value.tasks,i=>(m(),_(H,{key:i.pageRoute.name},[!i.compactOnly||i.compactOnly&&f(t)?(m(),N($n,{key:0,label:i.label,"page-route":i.pageRoute,icon:i.icon,count:i.count},null,8,["label","page-route","icon","count"])):L("",!0)],64))),128))]),h("section",oo,[o[1]||(o[1]=h("h3",{id:"menu-recent-lists"},"RECENT LISTS",-1)),f(n).recentList.length&&!f(t)?(m(!0),_(H,{key:0},me(f(n).recentList,i=>(m(),N($n,{key:i.id,label:i.description,"page-route":{name:f(M).List,params:{id:String(i.id)}},icon:"list"},null,8,["label","page-route"]))),128)):!f(n).recentList.length&&!f(t)?(m(),_("i",io,"No recent lists found")):L("",!0),b(r,{to:{name:f(M).Lists},class:"app-menu-item-list__link","data-testid":"menu-view-lists"},{default:S(()=>o[0]||(o[0]=[h("div",null,"View All List",-1)])),_:1,__:[0]},8,["to"])]),h("section",ro,[o[2]||(o[2]=h("h3",{id:"menu-personal"},"PERSONAL",-1)),(m(!0),_(H,null,me(s.value.personal,i=>(m(),N($n,{key:i.pageRoute.name,label:i.label,"page-route":i.pageRoute,icon:i.icon,count:i.count},null,8,["label","page-route","icon","count"]))),128))])],2)}}}),uo={class:"app-menu__content"},co=F({__name:"AppMenu",emits:["collasped"],setup(e,{emit:t}){const n=t,s=Ue(),{isTablet:a}=Re(s),o=C(a.value);return n("collasped",o.value),Rn("compact",o),(r,i)=>(m(),_("div",{class:Q(["app-menu",{"app-menu--collasped":o.value}]),role:"menu"},[i[1]||(i[1]=h("div",{class:"app-menu-space"},null,-1)),b(Xa,{collasped:o.value,onCollaspe:i[0]||(i[0]=d=>{o.value=!o.value,r.$emit("collasped",o.value)})},null,8,["collasped"]),h("div",uo,[b(lo)])],2))}}),mo={class:"select-item"},po=F({__name:"SelectItem",emits:["close","proceed"],setup(e,{emit:t}){const n=t,s=C("task"),a=()=>{n("proceed",s.value)};return(o,r)=>(m(),N(nn,{"proceed-btn":{isEvent:!0,link:"",disable:!1},onClose:r[3]||(r[3]=i=>o.$emit("close")),onProceed:a},{content:S(()=>[h("div",mo,[r[7]||(r[7]=h("span",{class:"select-item__title"},"Add new item",-1)),r[8]||(r[8]=h("p",null,"Add a habit, day task, or list to level Up Your Routine!",-1)),b(Vt,{modelValue:s.value,"onUpdate:modelValue":r[0]||(r[0]=i=>s.value=i),name:"item-selection",value:"task",class:"select-item__radio"},{label:S(()=>r[4]||(r[4]=[x("Task",-1)])),_:1},8,["modelValue"]),b(Vt,{modelValue:s.value,"onUpdate:modelValue":r[1]||(r[1]=i=>s.value=i),name:"item-selection",value:"habit",class:"select-item__radio"},{label:S(()=>r[5]||(r[5]=[x("Habit",-1)])),_:1},8,["modelValue"]),b(Vt,{modelValue:s.value,"onUpdate:modelValue":r[2]||(r[2]=i=>s.value=i),name:"item-selection",value:"list",class:"select-item__radio"},{label:S(()=>r[6]||(r[6]=[x("List",-1)])),_:1},8,["modelValue"])])]),_:1}))}}),fo=$e(po,[["__scopeId","data-v-d575ad6a"]]),go=["Enter","enter"," ","space"],vo=F({__name:"DayItem",props:{day:{type:String,required:!0},selected:{type:Boolean,default:!1}},emits:["selected"],setup(e,{emit:t}){const n=e,s=t,a=()=>{s("selected",!n.selected)},o=()=>a(),r=i=>{go.includes(i.key)&&(s("selected",!n.selected),i.target.blur())};return(i,d)=>(m(),_("div",{class:Q(["day-item",{"day-item--selected":e.selected}]),role:"button","aria-labelledby":"day option",tabindex:"0",onClick:o,onKeydown:r},V(e.day),35))}}),yo={class:"day-item-list"},ho=F({__name:"DayItemList",props:{days:{type:Array,default:()=>[]}},emits:["input"],setup(e,{emit:t}){const n=e,{days:s}=_a(n),a=tn({mon:!1,tue:!1,wed:!1,thu:!1,sat:!1,sun:!1,fri:!1}),o=["mon","tue","wed","thu","fri","sat","sun"],r=t,i=()=>{s.value.forEach(d=>{a[d]=!0})};return i(),oe(a,()=>r("input",Object.keys(a).filter(d=>!!a[d]))),oe(s,(d,c)=>{c.length||i()}),(d,c)=>(m(),_("div",yo,[(m(),_(H,null,me(o,y=>b(vo,{key:y,day:y,selected:!!a[y],onSelected:u=>a[y]=u},null,8,["day","selected","onSelected"])),64))]))}});var be=(e=>(e.Once="Once",e.All="All days",e.Weekdays="Weekdays",e.Weekends="Weekends",e.Custom="Custom",e))(be||{});function ms(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function Tt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ms(Object(n),!0).forEach(function(s){bo(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ms(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function bo(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Gt(e){return typeof e=="function"}function Pn(e){return e!==null&&typeof e=="object"&&!Array.isArray(e)}function on(e){return Gt(e.$validator)?Tt({},e):{$validator:e}}function Bs(e){return typeof e=="object"?e.$valid:e}function zs(e){return e.$validator||e}function _o(e,t){if(!Pn(e))throw new Error(`[@vuelidate/validators]: First parameter to "withParams" should be an object, provided ${typeof e}`);if(!Pn(t)&&!Gt(t))throw new Error("[@vuelidate/validators]: Validator must be a function or object with $validator parameter");const n=on(t);return n.$params=Tt(Tt({},n.$params||{}),e),n}function ko(e,t){if(!Gt(e)&&typeof f(e)!="string")throw new Error(`[@vuelidate/validators]: First parameter to "withMessage" should be string or a function returning a string, provided ${typeof e}`);if(!Pn(t)&&!Gt(t))throw new Error("[@vuelidate/validators]: Validator must be a function or object with $validator parameter");const n=on(t);return n.$message=e,n}function To(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];const n=on(e);return Tt(Tt({},n),{},{$async:!0,$watchTargets:t})}function wo(e){return{$validator(t){for(var n=arguments.length,s=new Array(n>1?n-1:0),a=1;a<n;a++)s[a-1]=arguments[a];return f(t).reduce((o,r,i)=>{const d=Object.entries(r).reduce((c,y)=>{let[u,g]=y;const v=e[u]||{},p=Object.entries(v).reduce((k,$)=>{let[D,E]=$;const T=zs(E).call(this,g,r,i,...s),R=Bs(T);if(k.$data[D]=T,k.$data.$invalid=!R||!!k.$data.$invalid,k.$data.$error=k.$data.$invalid,!R){let j=E.$message||"";const z=E.$params||{};typeof j=="function"&&(j=j({$pending:!1,$invalid:!R,$params:z,$model:g,$response:T})),k.$errors.push({$property:u,$message:j,$params:z,$response:T,$model:g,$pending:!1,$validator:D})}return{$valid:k.$valid&&R,$data:k.$data,$errors:k.$errors}},{$valid:!0,$data:{},$errors:[]});return c.$data[u]=p.$data,c.$errors[u]=p.$errors,{$valid:c.$valid&&p.$valid,$data:c.$data,$errors:c.$errors}},{$valid:!0,$data:{},$errors:{}});return{$valid:o.$valid&&d.$valid,$data:o.$data.concat(d.$data),$errors:o.$errors.concat(d.$errors)}},{$valid:!0,$data:[],$errors:[]})},$message:t=>{let{$response:n}=t;return n?n.$errors.map(s=>Object.values(s).map(a=>a.map(o=>o.$message)).reduce((a,o)=>a.concat(o),[])):[]}}}const rn=e=>{if(e=f(e),Array.isArray(e))return!!e.length;if(e==null)return!1;if(e===!1)return!0;if(e instanceof Date)return!isNaN(e.getTime());if(typeof e=="object"){for(let t in e)return!0;return!1}return!!String(e).length},Ws=e=>(e=f(e),Array.isArray(e)?e.length:typeof e=="object"?Object.keys(e).length:String(e).length);function He(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return s=>(s=f(s),!rn(s)||t.every(a=>(a.lastIndex=0,a.test(s))))}var mt=Object.freeze({__proto__:null,forEach:wo,len:Ws,normalizeValidatorObject:on,regex:He,req:rn,unwrap:f,unwrapNormalizedValidator:zs,unwrapValidatorResponse:Bs,withAsync:To,withMessage:ko,withParams:_o});He(/^[a-zA-Z]*$/);He(/^[a-zA-Z0-9]*$/);He(/^\d*(\.\d+)?$/);const $o=/^(?:[A-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[A-z0-9!#$%&'*+/=?^_`{|}~-]+)*|"(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21\x23-\x5b\x5d-\x7f]|[\x01-\x09\x0b\x0c\x0e-\x7f])*")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9]{2,}(?:[a-z0-9-]*[a-z0-9])?|\[(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?|[a-z0-9-]*[a-z0-9]:(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21-\x5a\x53-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])+)\])$/i;He($o);function Eo(e){return t=>!rn(t)||Ws(t)>=f(e)}function So(e){return{$validator:Eo(e),$message:t=>{let{$params:n}=t;return`This field should be at least ${n.min} characters long`},$params:{min:e,type:"minLength"}}}function Ao(e){return typeof e=="string"&&(e=e.trim()),rn(e)}var Lo={$validator:Ao,$message:"Value is required",$params:{type:"required"}};const Co=/^(?:(?:(?:https?|ftp):)?\/\/)(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z0-9\u00a1-\uffff][a-z0-9\u00a1-\uffff_-]{0,62})?[a-z0-9\u00a1-\uffff]\.)+(?:[a-z\u00a1-\uffff]{2,}\.?))(?::\d{2,5})?(?:[/?#]\S*)?$/i;He(Co);He(/(^[0-9]*$)|(^-[0-9]+$)/);He(/^[-]?\d*(\.\d+)?$/);function ps(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function xe(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ps(Object(n),!0).forEach(function(s){Oo(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ps(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function Oo(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function fs(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return Object.keys(e).reduce((n,s)=>(t.includes(s)||(n[s]=f(e[s])),n),{})}function qt(e){return typeof e=="function"}function Ro(e){return ka(e)||Ta(e)}function Gs(e,t,n){let s=e;const a=t.split(".");for(let o=0;o<a.length;o++){if(!s[a[o]])return n;s=s[a[o]]}return s}function En(e,t,n){return I(()=>e.some(s=>Gs(t,s,{[n]:!1})[n]))}function gs(e,t,n){return I(()=>e.reduce((s,a)=>{const o=Gs(t,a,{[n]:!1})[n]||[];return s.concat(o)},[]))}function qs(e,t,n,s){return e.call(s,f(t),f(n),s)}function Ys(e){return e.$valid!==void 0?!e.$valid:!e}function Do(e,t,n,s,a,o,r){let{$lazy:i,$rewardEarly:d}=a,c=arguments.length>7&&arguments[7]!==void 0?arguments[7]:[],y=arguments.length>8?arguments[8]:void 0,u=arguments.length>9?arguments[9]:void 0,g=arguments.length>10?arguments[10]:void 0;const v=C(!!s.value),p=C(0);n.value=!1;const k=oe([t,s].concat(c,g),()=>{if(i&&!s.value||d&&!u.value&&!n.value)return;let $;try{$=qs(e,t,y,r)}catch(D){$=Promise.reject(D)}p.value++,n.value=!!p.value,v.value=!1,Promise.resolve($).then(D=>{p.value--,n.value=!!p.value,o.value=D,v.value=Ys(D)}).catch(D=>{p.value--,n.value=!!p.value,o.value=D,v.value=!0})},{immediate:!0,deep:typeof t=="object"});return{$invalid:v,$unwatch:k}}function Po(e,t,n,s,a,o,r,i){let{$lazy:d,$rewardEarly:c}=s;const y=()=>({}),u=I(()=>{if(d&&!n.value||c&&!i.value)return!1;let g=!0;try{const v=qs(e,t,r,o);a.value=v,g=Ys(v)}catch(v){a.value=v}return g});return{$unwatch:y,$invalid:u}}function xo(e,t,n,s,a,o,r,i,d,c,y){const u=C(!1),g=e.$params||{},v=C(null);let p,k;e.$async?{$invalid:p,$unwatch:k}=Do(e.$validator,t,u,n,s,v,a,e.$watchTargets,d,c,y):{$invalid:p,$unwatch:k}=Po(e.$validator,t,n,s,v,a,d,c);const $=e.$message;return{$message:qt($)?I(()=>$(fs({$pending:u,$invalid:p,$params:fs(g),$model:t,$response:v,$validator:o,$propertyPath:i,$property:r}))):$||"",$params:g,$pending:u,$invalid:p,$response:v,$unwatch:k}}function Io(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const t=f(e),n=Object.keys(t),s={},a={},o={};let r=null;return n.forEach(i=>{const d=t[i];switch(!0){case qt(d.$validator):s[i]=d;break;case qt(d):s[i]={$validator:d};break;case i==="$validationGroups":r=d;break;case i.startsWith("$"):o[i]=d;break;default:a[i]=d}}),{rules:s,nestedValidators:a,config:o,validationGroups:r}}const Mo="__root";function No(e,t,n,s,a,o,r,i,d){const c=Object.keys(e),y=s.get(a,e),u=C(!1),g=C(!1),v=C(0);if(y){if(!y.$partial)return y;y.$unwatch(),u.value=y.$dirty.value}const p={$dirty:u,$path:a,$touch:()=>{u.value||(u.value=!0)},$reset:()=>{u.value&&(u.value=!1)},$commit:()=>{}};return c.length?(c.forEach(k=>{p[k]=xo(e[k],t,p.$dirty,o,r,k,n,a,d,g,v)}),p.$externalResults=I(()=>i.value?[].concat(i.value).map((k,$)=>({$propertyPath:a,$property:n,$validator:"$externalResults",$uid:`${a}-externalResult-${$}`,$message:k,$params:{},$response:null,$pending:!1})):[]),p.$invalid=I(()=>{const k=c.some($=>f(p[$].$invalid));return g.value=k,!!p.$externalResults.value.length||k}),p.$pending=I(()=>c.some(k=>f(p[k].$pending))),p.$error=I(()=>p.$dirty.value?p.$pending.value||p.$invalid.value:!1),p.$silentErrors=I(()=>c.filter(k=>f(p[k].$invalid)).map(k=>{const $=p[k];return tn({$propertyPath:a,$property:n,$validator:k,$uid:`${a}-${k}`,$message:$.$message,$params:$.$params,$response:$.$response,$pending:$.$pending})}).concat(p.$externalResults.value)),p.$errors=I(()=>p.$dirty.value?p.$silentErrors.value:[]),p.$unwatch=()=>c.forEach(k=>{p[k].$unwatch()}),p.$commit=()=>{g.value=!0,v.value=Date.now()},s.set(a,e,p),p):(y&&s.set(a,e,p),p)}function Uo(e,t,n,s,a,o,r){const i=Object.keys(e);return i.length?i.reduce((d,c)=>(d[c]=xn({validations:e[c],state:t,key:c,parentKey:n,resultsCache:s,globalConfig:a,instance:o,externalResults:r}),d),{}):{}}function Ho(e,t,n){const s=I(()=>[t,n].filter(p=>p).reduce((p,k)=>p.concat(Object.values(f(k))),[])),a=I({get(){return e.$dirty.value||(s.value.length?s.value.every(p=>p.$dirty):!1)},set(p){e.$dirty.value=p}}),o=I(()=>{const p=f(e.$silentErrors)||[],k=s.value.filter($=>(f($).$silentErrors||[]).length).reduce(($,D)=>$.concat(...D.$silentErrors),[]);return p.concat(k)}),r=I(()=>{const p=f(e.$errors)||[],k=s.value.filter($=>(f($).$errors||[]).length).reduce(($,D)=>$.concat(...D.$errors),[]);return p.concat(k)}),i=I(()=>s.value.some(p=>p.$invalid)||f(e.$invalid)||!1),d=I(()=>s.value.some(p=>f(p.$pending))||f(e.$pending)||!1),c=I(()=>s.value.some(p=>p.$dirty)||s.value.some(p=>p.$anyDirty)||a.value),y=I(()=>a.value?d.value||i.value:!1),u=()=>{e.$touch(),s.value.forEach(p=>{p.$touch()})},g=()=>{e.$commit(),s.value.forEach(p=>{p.$commit()})},v=()=>{e.$reset(),s.value.forEach(p=>{p.$reset()})};return s.value.length&&s.value.every(p=>p.$dirty)&&u(),{$dirty:a,$errors:r,$invalid:i,$anyDirty:c,$error:y,$pending:d,$touch:u,$reset:v,$silentErrors:o,$commit:g}}function xn(e){let{validations:t,state:n,key:s,parentKey:a,childResults:o,resultsCache:r,globalConfig:i={},instance:d,externalResults:c}=e;const y=a?`${a}.${s}`:s,{rules:u,nestedValidators:g,config:v,validationGroups:p}=Io(t),k=xe(xe({},i),v),$=s?I(()=>{const G=f(n);return G?f(G[s]):void 0}):n,D=xe({},f(c)||{}),E=I(()=>{const G=f(c);return s?G?f(G[s]):void 0:G}),P=No(u,$,s,r,y,k,d,E,n),T=Uo(g,$,y,r,k,d,E),R={};p&&Object.entries(p).forEach(G=>{let[W,ye]=G;R[W]={$invalid:En(ye,T,"$invalid"),$error:En(ye,T,"$error"),$pending:En(ye,T,"$pending"),$errors:gs(ye,T,"$errors"),$silentErrors:gs(ye,T,"$silentErrors")}});const{$dirty:j,$errors:z,$invalid:te,$anyDirty:De,$error:rt,$pending:Y,$touch:Ee,$reset:K,$silentErrors:U,$commit:Z}=Ho(P,T,o),Ze=s?I({get:()=>f($),set:G=>{j.value=!0;const W=f(n),ye=f(c);ye&&(ye[s]=D[s]),Dn(W[s])?W[s].value=G:W[s]=G}}):null;s&&k.$autoDirty&&oe($,()=>{j.value||Ee();const G=f(c);G&&(G[s]=D[s])},{flush:"sync"});async function dn(){return Ee(),k.$rewardEarly&&(Z(),await _t()),await _t(),new Promise(G=>{if(!Y.value)return G(!te.value);const W=oe(Y,()=>{G(!te.value),W()})})}function At(G){return(o.value||{})[G]}function mn(){Dn(c)?c.value=D:Object.keys(D).length===0?Object.keys(c).forEach(G=>{delete c[G]}):Object.assign(c,D)}return tn(xe(xe(xe({},P),{},{$model:Ze,$dirty:j,$error:rt,$errors:z,$invalid:te,$anyDirty:De,$pending:Y,$touch:Ee,$reset:K,$path:y||Mo,$silentErrors:U,$validate:dn,$commit:Z},o&&{$getResultsForChild:At,$clearExternalResults:mn,$validationGroups:R}),T))}class Vo{constructor(){this.storage=new Map}set(t,n,s){this.storage.set(t,{rules:n,result:s})}checkRulesValidity(t,n,s){const a=Object.keys(s),o=Object.keys(n);return o.length!==a.length||!o.every(i=>a.includes(i))?!1:o.every(i=>n[i].$params?Object.keys(n[i].$params).every(d=>f(s[i].$params[d])===f(n[i].$params[d])):!0)}get(t,n){const s=this.storage.get(t);if(!s)return;const{rules:a,result:o}=s,r=this.checkRulesValidity(t,n,a),i=o.$unwatch?o.$unwatch:()=>({});return r?o:{$dirty:o.$dirty,$partial:!0,$unwatch:i}}}const Ft={COLLECT_ALL:!0,COLLECT_NONE:!1},vs=Symbol("vuelidate#injectChildResults"),ys=Symbol("vuelidate#removeChildResults");function Fo(e){let{$scope:t,instance:n}=e;const s={},a=C([]),o=I(()=>a.value.reduce((y,u)=>(y[u]=f(s[u]),y),{}));function r(y,u){let{$registerAs:g,$scope:v,$stopPropagation:p}=u;p||t===Ft.COLLECT_NONE||v===Ft.COLLECT_NONE||t!==Ft.COLLECT_ALL&&t!==v||(s[g]=y,a.value.push(g))}n.__vuelidateInjectInstances=[].concat(n.__vuelidateInjectInstances||[],r);function i(y){a.value=a.value.filter(u=>u!==y),delete s[y]}n.__vuelidateRemoveInstances=[].concat(n.__vuelidateRemoveInstances||[],i);const d=qe(vs,[]);Rn(vs,n.__vuelidateInjectInstances);const c=qe(ys,[]);return Rn(ys,n.__vuelidateRemoveInstances),{childResults:o,sendValidationResultsToParent:d,removeValidationResultsFromParent:c}}function Ks(e){return new Proxy(e,{get(t,n){return typeof t[n]=="object"?Ks(t[n]):I(()=>t[n])}})}let hs=0;function jo(e,t){var n;let s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};arguments.length===1&&(s=e,e=void 0,t=void 0);let{$registerAs:a,$scope:o=Ft.COLLECT_ALL,$stopPropagation:r,$externalResults:i,currentVueInstance:d}=s;const c=d||((n=Ms())===null||n===void 0?void 0:n.proxy),y=c?c.$options:{};a||(hs+=1,a=`_vuelidate_${hs}`);const u=C({}),g=new Vo,{childResults:v,sendValidationResultsToParent:p,removeValidationResultsFromParent:k}=c?Fo({$scope:o,instance:c}):{childResults:C({})};if(!e&&y.validations){const $=y.validations;t=C({}),en(()=>{t.value=c,oe(()=>qt($)?$.call(t.value,new Ks(t.value)):$,D=>{u.value=xn({validations:D,state:t,childResults:v,resultsCache:g,globalConfig:s,instance:c,externalResults:i||c.vuelidateExternalResults})},{immediate:!0})}),s=y.validationsConfig||s}else{const $=Dn(e)||Ro(e)?e:tn(e||{});oe($,D=>{u.value=xn({validations:D,state:t,childResults:v,resultsCache:g,globalConfig:s,instance:c??{},externalResults:i})},{immediate:!0})}return c&&(p.forEach($=>$(u,{$registerAs:a,$scope:o,$stopPropagation:r})),Ns(()=>k.forEach($=>$(a)))),I(()=>xe(xe({},f(u.value)),v.value))}const Bo=(e,t,n,s)=>{const a=Object.assign({},e);return a.days=[...a.days],t===be.Weekdays?a.days=["mon","tue","wed","thu","fri"]:t===be.Weekends?a.days=["sat","sun"]:t!==be.Once&&e.days.length===0&&(a.days=["mon","tue","wed","thu","fri","sat","sun"]),a.startDate||(a.startDate=new Date(Date.now()).toISOString().split("T")[0]),a.priority=Number(a.priority),n||(a.endDate=void 0),s||(a.startTime=void 0,a.endTime=void 0),a};function zo(e){e.scrollIntoView({behavior:"smooth"})}const Wo={key:1},Go={key:2},qo={key:0,class:"task-form__optional"},Yo={class:"task-form__optional"},Ko={key:0,class:"task-form__time"},Xo={key:1,class:"task-form__optional"},Zo={key:2,class:"task-form__optional"},Jo={class:"task-form__additional"},Qo=F({__name:"TaskForm",props:{listId:{type:Number,default:void 0},selectedTask:{type:Object,default:void 0},isHabit:{type:Boolean,default:!1},isToday:{type:Boolean,default:!1},minStartDate:{type:String,default:""}},emits:["submitted"],setup(e,{emit:t}){const n=e,s=C(!1),a=C(!1),o=C(!1),r=fe(),i=pe(),d=C(be.Once),c=C(null),y=I(()=>n.listId||n.selectedTask?.listId);Ye(()=>{d.value=n.isHabit?be.All:be.Once,n.selectedTask?.days?.length&&(d.value=be.Custom),n.selectedTask&&(s.value=!!n.selectedTask.startTime||!!n.selectedTask.endTime,a.value=!!n.selectedTask.endDate)});const u=t,g=()=>({description:n.selectedTask?.description||"",note:n.selectedTask?.note||"",startTime:n.selectedTask?.startTime||"",endTime:n.selectedTask?.endTime||"",endDate:n.selectedTask?.endDate||"",carryOver:n.selectedTask?.carryOver||!1,priority:n.selectedTask?.priority||ht.Normal,days:n.selectedTask?.days||[],startDate:n.selectedTask?.startDate||(n.minStartDate?n.minStartDate:ot()),order:0,archiveDate:0,listId:n.selectedTask?.listId||n.listId,isArchived:!1}),v={description:{required:Lo,maxLength:So(4)},startTime:{minTime:mt.withMessage("The start time must have a minimum value of 06:00",{$validator:P=>!P||P>="06:00"}),maxTime:mt.withMessage("The start time must have a value less than 21:00",{$validator:P=>!P||P<="21:00"})},endTime:{minTime:mt.withMessage("The end time must have a minimum value of 06:00",{$validator:P=>!P||P>="06:00"}),lessThanStart:mt.withMessage("The end time must be greater than the start time",{$validator:P=>!P||!!p.value.startTime&&P>p.value.startTime}),maxTime:mt.withMessage("The end time must have a value less than 22:00",{$validator:P=>!P||P<="22:00"})}},p=C(g()),k=jo(v,p),$=C(!1);oe(p,()=>{$.value=!1},{deep:!0});const D=async()=>{if(k.value.$validate(),k.value.$error)return;const P=Bo(p.value,d.value,a.value,s.value);try{n.selectedTask?await i.updateTask({...n.selectedTask,...P}):await i.addTask(P),k.value.$reset(),c.value&&zo(c.value),o.value?(p.value=g(),$.value=!0):u("submitted")}catch{const T=n.selectedTask?"The task failed to save.":"Failed to create new task.";r.error({title:"Error",text:T+" Please try again."})}},E=Object.keys(kt).map(P=>({value:Number(P),label:kt[Number(P)]}));return(P,T)=>p.value?(m(),_("form",{key:0,id:"task-form",class:"task-form",novalidate:"","aria-label":"Todo task form",onSubmit:We(D,["prevent"])},[$.value?(m(),N(Ia,{key:0,type:"success",onClose:T[0]||(T[0]=R=>$.value=!0)},{default:S(()=>T[16]||(T[16]=[h("span",null,"New task was added successfully",-1)])),_:1,__:[16]})):L("",!0),h("fieldset",{ref_key:"topOfForm",ref:c},[T[18]||(T[18]=h("legend",null,"Title & note",-1)),b(Te,{modelValue:p.value.description,"onUpdate:modelValue":T[1]||(T[1]=R=>p.value.description=R),class:"task-form__field"},ze({label:S(()=>[T[17]||(T[17]=x("Title",-1))]),_:2},[f(k).description.$error?{name:"error",fn:S(()=>[x(V(f(k).description.$errors[0].$message),1)]),key:"0"}:void 0]),1032,["modelValue"]),b(wa,{"model-value":p.value.note,"onUpdate:modelValue":T[2]||(T[2]=R=>p.value.note=R),label:"Note"},null,8,["model-value"])],512),h("fieldset",null,[T[19]||(T[19]=h("legend",null,"Select Priority",-1)),b(sn,{modelValue:p.value.priority,"onUpdate:modelValue":T[3]||(T[3]=R=>p.value.priority=R),class:"task-form__field",options:f(E)},null,8,["modelValue","options"])]),n.isHabit&&!n.selectedTask?(m(),_("fieldset",Wo,[T[20]||(T[20]=h("legend",null,"Repeat",-1)),(m(!0),_(H,null,me(Object.values(f(be)),R=>(m(),_(H,{key:R},[R===f(be).Once&&e.isHabit?L("",!0):(m(),_("div",{key:R,class:"task-form__frequency-item"},[b(Vt,{modelValue:d.value,"onUpdate:modelValue":T[4]||(T[4]=j=>d.value=j),name:"repeatFrequency","data-testid":"freq-"+R,value:R},{label:S(()=>[x(V(R),1)]),_:2},1032,["modelValue","data-testid","value"])]))],64))),128))])):L("",!0),d.value==="Custom"?(m(),_("fieldset",Go,[T[21]||(T[21]=h("legend",null,"Select days",-1)),b(ho,{days:p.value.days,onInput:T[5]||(T[5]=R=>p.value.days=R)},null,8,["days"])])):L("",!0),h("fieldset",null,[T[26]||(T[26]=h("legend",null,"Optional",-1)),!y.value&&d.value==="Once"?(m(),_("div",qo,[b(It,{modelValue:p.value.carryOver,"onUpdate:modelValue":T[6]||(T[6]=R=>p.value.carryOver=R),label:"Carry over"},null,8,["modelValue"])])):L("",!0),h("div",Yo,[b(It,{modelValue:s.value,"onUpdate:modelValue":T[7]||(T[7]=R=>s.value=R),label:"Add start and end time"},null,8,["modelValue"]),s.value?(m(),_("div",Ko,[b(Te,{modelValue:p.value.startTime,"onUpdate:modelValue":T[8]||(T[8]=R=>p.value.startTime=R),type:"time",class:"task-form__field"},ze({label:S(()=>[T[22]||(T[22]=x("Start",-1))]),_:2},[f(k).startTime.$error?{name:"error",fn:S(()=>[x(V(f(k).startTime.$errors[0].$message),1)]),key:"0"}:void 0]),1032,["modelValue"]),b(Te,{modelValue:p.value.endTime,"onUpdate:modelValue":T[9]||(T[9]=R=>p.value.endTime=R),type:"time",class:"task-form__field",disabled:!p.value.startTime},ze({label:S(()=>[T[23]||(T[23]=x("End",-1))]),_:2},[f(k).endTime.$error?{name:"error",fn:S(()=>[x(V(f(k).endTime.$errors[0].$message),1)]),key:"0"}:void 0]),1032,["modelValue","disabled"])])):L("",!0)]),!y.value&&d.value!=="Once"?(m(),_("div",Xo,[b(It,{modelValue:a.value,"onUpdate:modelValue":T[10]||(T[10]=R=>a.value=R),label:"Add end date"},null,8,["modelValue"]),a.value?(m(),N(Te,{key:0,modelValue:p.value.endDate,"onUpdate:modelValue":T[11]||(T[11]=R=>p.value.endDate=R),type:"date",class:"task-form__field task-form__end-date",min:f(Wt)(new Date(Date.now()+3600*24*1e3)),onKeydown:T[12]||(T[12]=We(()=>{},["prevent"]))},{label:S(()=>T[24]||(T[24]=[x("End date",-1)])),_:1},8,["modelValue","min"])):L("",!0)])):L("",!0),!y.value&&d.value===f(be).Once&&!n.isToday?(m(),_("div",Zo,[b(Te,{modelValue:p.value.startDate,"onUpdate:modelValue":T[13]||(T[13]=R=>p.value.startDate=R),type:"date",class:"task-form__field task-form__end-date",min:e.minStartDate||f(ot)(),onKeydown:T[14]||(T[14]=We(()=>{},["prevent"]))},{label:S(()=>T[25]||(T[25]=[x("Start date",-1)])),_:1},8,["modelValue","min"])])):L("",!0)]),h("div",Jo,[y.value?(m(),N(It,{key:0,modelValue:o.value,"onUpdate:modelValue":T[15]||(T[15]=R=>o.value=R),label:"Add another task to the list"},null,8,["modelValue"])):L("",!0)])],32)):L("",!0)}}),it=F({__name:"TaskFormModal",props:{listId:{type:Number,default:void 0},selectedTask:{type:Object,default:void 0},isHabit:{type:Boolean,default:!1},isToday:{type:Boolean,default:!1},minStartDate:{type:String,default:""}},emits:["close","submitted"],setup(e){const t=e,n=I(()=>{const s=t.selectedTask?"Edit":"Add",a=t.isHabit?"Habit":"Task";return s+" "+a});return(s,a)=>(m(),N(Us,{onClose:a[1]||(a[1]=o=>s.$emit("close"))},{header:S(()=>[x(V(n.value),1)]),main:S(()=>[b(Qo,$a(t,{onSubmitted:a[0]||(a[0]=o=>{s.$emit("submitted"),s.$emit("close")})}),null,16)]),"footer-buttons":S(()=>[b(Ne,{form:"task-form"},{default:S(()=>a[2]||(a[2]=[x("Submit",-1)])),_:1,__:[2]})]),_:1}))}}),ei={key:0},ti={key:1},ni={key:0},jn=F({__name:"TaskListForm",props:{item:{type:Object,default:null}},emits:["done","addTask","close"],setup(e,{emit:t}){const n=e,s=t,a=fe(),o=pe(),r=C(Wt(new Date(Date.now()+3600*24*1e3))),i=C({description:n.item?.description||"",startDate:n.item?.startDate||ot(),endDate:n.item?.endDate||ja(15)}),d=I(()=>Object.values(i.value).includes("")),c=I(()=>!!n.item);oe(()=>i.value.startDate,()=>{try{const u=new Date(i.value.startDate);i.value.endDate||(r.value=Wt(new Date(u.getTime()+3600*24*1e3)))}catch{a.error({text:"Fatal error occurred"})}});const y=async()=>{try{if(c.value){const u={id:n.item.id,createdDate:n.item.createdDate,lastModifiedDate:n.item.lastModifiedDate,...i.value,isArchived:!1,isDeleted:!1};await o.updateList(u)}else await o.addList(i.value);s("done")}catch{const u=c.value?"Failed to save changes for list.":"Failed to create new list";a.error({title:"An error occurred",text:u})}};return(u,g)=>(m(),N(Us,{onClose:g[3]||(g[3]=v=>u.$emit("close"))},{header:S(()=>[e.item?(m(),_("span",ei,"Edit List")):(m(),_("span",ti,"Add List"))]),main:S(()=>[h("form",{id:"task-list-form",class:"task-list-form",novalidate:"",onSubmit:We(y,["prevent"])},[h("div",null,[b(Te,{modelValue:i.value.description,"onUpdate:modelValue":g[0]||(g[0]=v=>i.value.description=v),maxlength:150,"data-testid":"task-list-form-description"},{label:S(()=>g[4]||(g[4]=[x("Description",-1)])),_:1},8,["modelValue"])]),c.value?L("",!0):(m(),_("div",ni,[b(Te,{modelValue:i.value.startDate,"onUpdate:modelValue":g[1]||(g[1]=v=>i.value.startDate=v),type:"date","data-testid":"task-list-form-start",min:new Date(Date.now()).toISOString().split("T")[0]},{label:S(()=>g[5]||(g[5]=[x("Start date",-1)])),_:1},8,["modelValue","min"])])),h("div",null,[b(Te,{modelValue:i.value.endDate,"onUpdate:modelValue":g[2]||(g[2]=v=>i.value.endDate=v),type:"date","data-testid":"task-list-form-end",min:r.value,disabled:!i.value.startDate},{label:S(()=>g[6]||(g[6]=[x("End date",-1)])),_:1},8,["modelValue","min","disabled"])])],32)]),"footer-buttons":S(()=>[b(Ne,{form:"task-list-form",disabled:d.value},{default:S(()=>[e.item?(m(),_(H,{key:0},[x("Edit")],64)):(m(),_(H,{key:1},[x("Create")],64))]),_:1},8,["disabled"])]),_:1}))}}),si={class:"mobile-header"},ai={class:"mobile-header__menu"},oi={"aria-label":"settings"},ii=F({__name:"MobileHeader",setup(e){const t=Oe(),n=_e(),s=fe(),a=pe(),o=C("task"),{lists:r,habits:i,allUpcomingTasks:d,todaysTasks:c}=Re(a),y=C(!1),u=C(!1),g=C(!1),v=C(!1),p=D=>{y.value=!1,o.value=D,D==="task"||D==="habit"?(v.value=D==="habit",u.value=!0):g.value=!0},k=()=>{if(g.value=!1,s.success({text:"You successfully added a new task."}),n.name===M.Lists&&o.value==="list"){a.getAllList(r.value.pagination.page);return}if(n.name===M.Habits&&o.value==="habit"){a.getHabits(i.value.pagination.page);return}if(n.name===M.Today&&o.value==="task"){a.getTodaysTasks(c.value.pagination.page);return}if(n.name===M.Upcoming&&o.value==="task"){a.getUpcoming(d.value.pagination.page);return}},$=()=>{u.value=!1,s.success({text:"You successfully added a new list."}),n.name===M.Lists&&a.getAllList(r.value.pagination.page)};return(D,E)=>(m(),_("div",si,[h("button",{class:"mobile-header__back-button","aria-label":"Back button",onClick:E[0]||(E[0]=P=>f(t).go(-1))},[b(re,{name:"chevronLeft"})]),E[6]||(E[6]=h("span",{class:"mobile-header__app-title"},"planner.",-1)),h("div",ai,[h("button",{class:"mobile-header__menu-item","aria-label":"add new item","aria-description":"a button to add a day task, list or habit",onClick:E[1]||(E[1]=P=>y.value=!0)},[b(re,{name:"addBox"})]),h("button",oi,[b(re,{name:"settings",onClick:E[2]||(E[2]=P=>f(t).push({name:f(M).Settings}))})]),y.value?(m(),N(fo,{key:0,onClose:E[3]||(E[3]=P=>y.value=!1),onProceed:p})):L("",!0),u.value?(m(),N(it,{key:1,"is-habit":v.value,onClose:E[4]||(E[4]=P=>u.value=!1),onSubmitted:k},null,8,["is-habit"])):L("",!0),g.value?(m(),N(jn,{key:2,onDone:$,onClose:E[5]||(E[5]=P=>g.value=!1)})):L("",!0)])]))}}),ri={FILE_SIZE:"file_size"},li={key:0,class:"profile-image__image"},ui=["src"],ci=["src"],di={key:1,class:"profile-image__svg"},mi={key:2,role:"button",class:"profile-image__add",tabindex:"1"},Yt=F({__name:"ProfileImage",props:{src:{type:String,default:""},modelValue:{type:String,default:""},size:{type:String,default:"normal"},viewOnly:{type:Boolean,default:!0}},emits:["error","update:modelValue"],setup(e,{emit:t}){const n=C(),s=C(),a=fe(),o=e,r=t,i=()=>{o.viewOnly||n.value?.click()},d=y=>new Promise((u,g)=>{const v=new FileReader;v.readAsDataURL(y),v.onerror=()=>{a.error({text:"Error occurred processing image."}),g(null)},v.onload=()=>{u(v.result)}}),c=async y=>{const u=y.target;if(!u.files?.length)return;await _t();const g=u.files[0];if(g.size>1024*1024*2){r("error",ri.FILE_SIZE),a.error({title:"Error",text:"Image is too large. Maximum image size is 5mb"});return}const v=await d(g);r("update:modelValue",v)};return(y,u)=>(m(),_("div",{class:Q(["profile-image",{"profile-image--borderless":e.modelValue||e.src,[`profile-image--${e.size}`]:!0}]),onClick:i,onKeydown:bt(i,["enter"])},[e.modelValue||e.src?(m(),_("div",li,[!e.viewOnly&&e.modelValue?(m(),_("img",{key:0,ref_key:"image",ref:s,src:e.modelValue,alt:"your profile image"},null,8,ui)):e.src?(m(),_("img",{key:1,src:e.src,alt:"your profile image"},null,8,ci)):L("",!0)])):(m(),_("div",di,[b(re,{name:"person"})])),e.viewOnly?L("",!0):(m(),_("div",mi,[b(re,{name:"add"}),h("input",{ref_key:"input",ref:n,type:"file",style:{display:"none"},name:"image",accept:"image/gif,image/jpeg,image/jpg,image/png","data-original-title":"upload photos",onChange:u[0]||(u[0]=g=>c(g))},null,544)]))],34))}}),pi={key:0,class:"main-content__profile"},fi={class:"setting-name"},gi={key:1,class:"mobile-main-content__personal"},vi=F({__name:"MainContent",props:{isMobile:{type:Boolean,default:!1},collaspedMenu:{type:Boolean,default:!1}},setup(e){const t=Ue(),n=pe(),s=I(()=>`You have ${n.countTodaysTask} tasks today and ${n.countList} active lists.`);return(a,o)=>(m(),_("div",{class:Q({"collasped-menu":e.collaspedMenu,"main-content":!e.isMobile,"mobile-main-content":e.isMobile}),role:"main",tabindex:"0"},[h("div",{class:Q({"main-content__container":!e.isMobile})},[e.isMobile?(m(),_("div",gi,[b(Yt,{class:"main-content__profile-image",src:f(t).settings.image,size:"small"},null,8,["src"]),h("div",null,[o[1]||(o[1]=x(" Hello ",-1)),h("strong",null,V(f(t).settings.name),1),o[2]||(o[2]=h("br",null,null,-1)),x(" "+V(s.value),1)])])):(m(),_("div",pi,[h("div",null,V(s.value),1),h("div",null,[h("span",fi,[o[0]||(o[0]=x("Hello ",-1)),h("strong",null,V(f(t).settings.name),1)]),b(Yt,{class:"main-content__profile-image",src:f(t).settings.image,size:"small"},null,8,["src"])])])),Ge(a.$slots,"default")],2)],2))}}),bs=()=>{const e=window.navigator.userAgent.toLowerCase();return e.includes("iphone")||e.includes("android")&&e.includes("mobile safari")||e.includes("samsung")&&e.includes("mobile safari")},yi=()=>{const e=Ue(),t=window.matchMedia("(min-width: 768px) and (max-width: 1024px)"),n=window.matchMedia("(min-width: 768px) and (max-width: 1024px) and (orientation: landscape)"),s=window.matchMedia("(min-width: 320px) and (max-width: 480px)"),a=window.matchMedia("(min-width: 481px) and (max-width: 767px)"),o=(r,i)=>{if(r===ge.isTabletPortrait&&bs()){e.setMediaMatch(ge.isMobilePortrait,i);return}if(r===ge.isTabletPortrait&&bs()){e.setMediaMatch(ge.isMobileLandscape,i);return}e.setMediaMatch(r,i)};n.matches&&o(ge.isTabletLandscape,n.matches),t.matches&&o(ge.isTabletPortrait,t.matches),a.matches&&o(ge.isMobileLandscape,a.matches),s.matches&&o(ge.isMobilePortrait,s.matches),t.addEventListener("change",r=>{o(ge.isTabletPortrait,r.matches)}),n.addEventListener("change",r=>{o(ge.isTabletLandscape,r.matches)}),a.addEventListener("change",r=>{o(ge.isMobileLandscape,r.matches)}),s.addEventListener("change",r=>{o(ge.isMobilePortrait,r.matches)})},hi={class:"mobile-footer-menu-count"},bi=F({__name:"MobileFooterMenuCount",props:{count:{type:Number,default:0}},setup(e){return(t,n)=>(m(),_("div",hi,V(e.count),1))}}),_i=["id"],ki=F({__name:"MobileFooterMenuItem",props:{item:{type:Object,required:!0}},setup(e){const t=Oe(),n=_e();return(s,a)=>(m(),_("div",{class:Q(["mobile-footer-menu-item",{"mobile-footer-menu-item--selected":f(n).name===e.item.pageRoute.name}]),role:"button",tabindex:"0",onClick:a[0]||(a[0]=o=>f(t).push({name:e.item.pageRoute.name}))},[h("div",null,[b(re,{name:e.item.icon,"aria-labelledby":"menu-footer-"+e.item.label},null,8,["name","aria-labelledby"]),h("div",{id:"menu-footer-"+e.item.label},V(e.item.label),9,_i)]),e.item.count?(m(),N(bi,{key:0,class:"mobile-footer-menu-item__count",count:e.item.count},null,8,["count"])):L("",!0)],2))}}),Ti={class:"mobile-footer"},wi=F({__name:"MobileFooter",setup(e){const t=[{label:"Today",icon:"today",pageRoute:{name:M.Today}},{label:"Upcoming",icon:"eventUpcoming",pageRoute:{name:M.Upcoming}},{label:"Habits",icon:"eventRepeat",pageRoute:{name:M.Habits}},{label:"Lists",icon:"list",pageRoute:{name:M.Lists}}];return(n,s)=>(m(),_("div",Ti,[(m(),_(H,null,me(t,a=>b(ki,{key:a.pageRoute.name,item:a},null,8,["item"])),64))]))}});function $i(e){return new Worker(""+new URL("cleanup-kvgbzzta.js",import.meta.url).href,{name:e?.name})}function Ei(){if(window.Worker){const e=new $i;e.onmessage=t=>{console.log(t.data)},e.postMessage("start cleanup worker")}}const Si=F({__name:"App",setup(e){const t=_e(),n=I(()=>!!t.name),s=I(()=>t.name===M.Setup),a=Ue(),o=pe(),{isMobile:r}=Re(a);Ei(),Ye(async()=>{yi(),await _t(),o.getCount()});const i=C(!1),d=y=>{i.value=y},c=I(()=>r.value?ii:co);return(y,u)=>{const g=Vn("router-view");return m(),_("div",{class:Q({"theme-fun-cat":f(a).settings?.theme==="fun-cat"})},[f(a).globalLoading?(m(),_(H,{key:0},[x("Loading...")],64)):n.value?(m(),_(H,{key:1},[s.value?(m(),N(g,{key:0})):(m(),_("div",{key:1,class:Q({"page-container":!f(r)})},[(m(),N(Sa(c.value),{onCollasped:u[0]||(u[0]=v=>d(v))},null,32)),Ea([i.value,f(r)],()=>b(vi,{"collasped-menu":i.value,"is-mobile":f(r)},{default:S(()=>[b(g)]),_:1},8,["collasped-menu","is-mobile"]),u,1),f(r)?(m(),N(wi,{key:0})):L("",!0)],2))],64)):(m(),N(g,{key:2})),b(Ma)],2)}}}),Ai=new Set(["title","titleTemplate","script","style","noscript"]),jt=new Set(["base","meta","link","style","script","noscript"]),Li=new Set(["title","titleTemplate","templateParams","base","htmlAttrs","bodyAttrs","meta","link","style","script","noscript"]),Ci=new Set(["base","title","titleTemplate","bodyAttrs","htmlAttrs","templateParams"]),Xs=new Set(["tagPosition","tagPriority","tagDuplicateStrategy","children","innerHTML","textContent","processTemplateParams"]),Oi=typeof window<"u";function Kt(e){let t=9;for(let n=0;n<e.length;)t=Math.imul(t^e.charCodeAt(n++),9**9);return((t^t>>>9)+65536).toString(16).substring(1,8).toLowerCase()}function In(e){if(e._h)return e._h;if(e._d)return Kt(e._d);let t=`${e.tag}:${e.textContent||e.innerHTML||""}:`;for(const n in e.props)t+=`${n}:${String(e.props[n])},`;return Kt(t)}function Ri(e,t){return e instanceof Promise?e.then(t):t(e)}function Mn(e,t,n,s){const a=s||Js(typeof t=="object"&&typeof t!="function"&&!(t instanceof Promise)?{...t}:{[e==="script"||e==="noscript"||e==="style"?"innerHTML":"textContent"]:t},e==="templateParams"||e==="titleTemplate");if(a instanceof Promise)return a.then(r=>Mn(e,t,n,r));const o={tag:e,props:a};for(const r of Xs){const i=o.props[r]!==void 0?o.props[r]:n[r];i!==void 0&&((!(r==="innerHTML"||r==="textContent"||r==="children")||Ai.has(o.tag))&&(o[r==="children"?"innerHTML":r]=i),delete o.props[r])}return o.props.body&&(o.tagPosition="bodyClose",delete o.props.body),o.tag==="script"&&typeof o.innerHTML=="object"&&(o.innerHTML=JSON.stringify(o.innerHTML),o.props.type=o.props.type||"application/json"),Array.isArray(o.props.content)?o.props.content.map(r=>({...o,props:{...o.props,content:r}})):o}function Di(e,t){const n=e==="class"?" ":";";return t&&typeof t=="object"&&!Array.isArray(t)&&(t=Object.entries(t).filter(([,s])=>s).map(([s,a])=>e==="style"?`${s}:${a}`:s)),String(Array.isArray(t)?t.join(n):t)?.split(n).filter(s=>!!s.trim()).join(n)}function Zs(e,t,n,s){for(let a=s;a<n.length;a+=1){const o=n[a];if(o==="class"||o==="style"){e[o]=Di(o,e[o]);continue}if(e[o]instanceof Promise)return e[o].then(r=>(e[o]=r,Zs(e,t,n,a)));if(!t&&!Xs.has(o)){const r=String(e[o]),i=o.startsWith("data-");r==="true"||r===""?e[o]=i?"true":!0:e[o]||(i&&r==="false"?e[o]="false":delete e[o])}}}function Js(e,t=!1){const n=Zs(e,t,Object.keys(e),0);return n instanceof Promise?n.then(()=>e):e}const Pi=10;function Qs(e,t,n){for(let s=n;s<t.length;s+=1){const a=t[s];if(a instanceof Promise)return a.then(o=>(t[s]=o,Qs(e,t,s)));Array.isArray(a)?e.push(...a):e.push(a)}}function xi(e){const t=[],n=e.resolvedInput;for(const a in n){if(!Object.prototype.hasOwnProperty.call(n,a))continue;const o=n[a];if(!(o===void 0||!Li.has(a))){if(Array.isArray(o)){for(const r of o)t.push(Mn(a,r,e));continue}t.push(Mn(a,o,e))}}if(t.length===0)return[];const s=[];return Ri(Qs(s,t,0),()=>s.map((a,o)=>(a._e=e._i,e.mode&&(a._m=e.mode),a._p=(e._i<<Pi)+o,a)))}const _s=new Set(["onload","onerror","onabort","onprogress","onloadstart"]),ks={base:-10,title:10},Ts={critical:-80,high:-10,low:20};function Xt(e){const t=e.tagPriority;if(typeof t=="number")return t;let n=100;return e.tag==="meta"?e.props["http-equiv"]==="content-security-policy"?n=-30:e.props.charset?n=-20:e.props.name==="viewport"&&(n=-15):e.tag==="link"&&e.props.rel==="preconnect"?n=20:e.tag in ks&&(n=ks[e.tag]),t&&t in Ts?n+Ts[t]:n}const Ii=[{prefix:"before:",offset:-1},{prefix:"after:",offset:1}],Mi=["name","property","http-equiv"];function ea(e){const{props:t,tag:n}=e;if(Ci.has(n))return n;if(n==="link"&&t.rel==="canonical")return"canonical";if(t.charset)return"charset";if(t.id)return`${n}:id:${t.id}`;for(const s of Mi)if(t[s]!==void 0)return`${n}:${s}:${t[s]}`;return!1}const Ie="%separator";function Ni(e,t,n=!1){let s;if(t==="s"||t==="pageTitle")s=e.pageTitle;else if(t.includes(".")){const a=t.indexOf(".");s=e[t.substring(0,a)]?.[t.substring(a+1)]}else s=e[t];if(s!==void 0)return n?(s||"").replace(/"/g,'\\"'):s||""}const Ui=new RegExp(`${Ie}(?:\\s*${Ie})*`,"g");function Nt(e,t,n,s=!1){if(typeof e!="string"||!e.includes("%"))return e;let a=e;try{a=decodeURI(e)}catch{}const o=a.match(/%\w+(?:\.\w+)?/g);if(!o)return e;const r=e.includes(Ie);return e=e.replace(/%\w+(?:\.\w+)?/g,i=>{if(i===Ie||!o.includes(i))return i;const d=Ni(t,i.slice(1),s);return d!==void 0?d:i}).trim(),r&&(e.endsWith(Ie)&&(e=e.slice(0,-Ie.length)),e.startsWith(Ie)&&(e=e.slice(Ie.length)),e=e.replace(Ui,n).trim()),e}function ws(e,t){return e==null?t||null:typeof e=="function"?e(t):e}async function Hi(e,t={}){const n=t.document||e.resolvedOptions.document;if(!n||!e.dirty)return;const s={shouldRender:!0,tags:[]};if(await e.hooks.callHook("dom:beforeRender",s),!!s.shouldRender)return e._domUpdatePromise||(e._domUpdatePromise=new Promise(async a=>{const o=(await e.resolveTags()).map(u=>({tag:u,id:jt.has(u.tag)?In(u):u.tag,shouldRender:!0}));let r=e._dom;if(!r){r={elMap:{htmlAttrs:n.documentElement,bodyAttrs:n.body}};const u=new Set;for(const g of["body","head"]){const v=n[g]?.children;for(const p of v){const k=p.tagName.toLowerCase();if(!jt.has(k))continue;const $={tag:k,props:await Js(p.getAttributeNames().reduce((T,R)=>({...T,[R]:p.getAttribute(R)}),{})),innerHTML:p.innerHTML},D=ea($);let E=D,P=1;for(;E&&u.has(E);)E=`${D}:${P++}`;E&&($._d=E,u.add(E)),r.elMap[p.getAttribute("data-hid")||In($)]=p}}}r.pendingSideEffects={...r.sideEffects},r.sideEffects={};function i(u,g,v){const p=`${u}:${g}`;r.sideEffects[p]=v,delete r.pendingSideEffects[p]}function d({id:u,$el:g,tag:v}){const p=v.tag.endsWith("Attrs");if(r.elMap[u]=g,p||(v.textContent&&v.textContent!==g.textContent&&(g.textContent=v.textContent),v.innerHTML&&v.innerHTML!==g.innerHTML&&(g.innerHTML=v.innerHTML),i(u,"el",()=>{r.elMap[u]?.remove(),delete r.elMap[u]})),v._eventHandlers)for(const k in v._eventHandlers)Object.prototype.hasOwnProperty.call(v._eventHandlers,k)&&g.getAttribute(`data-${k}`)!==""&&((v.tag==="bodyAttrs"?n.defaultView:g).addEventListener(k.substring(2),v._eventHandlers[k].bind(g)),g.setAttribute(`data-${k}`,""));for(const k in v.props){if(!Object.prototype.hasOwnProperty.call(v.props,k))continue;const $=v.props[k],D=`attr:${k}`;if(k==="class"){if(!$)continue;for(const E of $.split(" "))p&&i(u,`${D}:${E}`,()=>g.classList.remove(E)),!g.classList.contains(E)&&g.classList.add(E)}else if(k==="style"){if(!$)continue;for(const E of $.split(";")){const P=E.indexOf(":"),T=E.substring(0,P).trim(),R=E.substring(P+1).trim();i(u,`${D}:${T}`,()=>{g.style.removeProperty(T)}),g.style.setProperty(T,R)}}else g.getAttribute(k)!==$&&g.setAttribute(k,$===!0?"":String($)),p&&i(u,D,()=>g.removeAttribute(k))}}const c=[],y={bodyClose:void 0,bodyOpen:void 0,head:void 0};for(const u of o){const{tag:g,shouldRender:v,id:p}=u;if(v){if(g.tag==="title"){n.title=g.textContent;continue}u.$el=u.$el||r.elMap[p],u.$el?d(u):jt.has(g.tag)&&c.push(u)}}for(const u of c){const g=u.tag.tagPosition||"head";u.$el=n.createElement(u.tag.tag),d(u),y[g]=y[g]||n.createDocumentFragment(),y[g].appendChild(u.$el)}for(const u of o)await e.hooks.callHook("dom:renderTag",u,n,i);y.head&&n.head.appendChild(y.head),y.bodyOpen&&n.body.insertBefore(y.bodyOpen,n.body.firstChild),y.bodyClose&&n.body.appendChild(y.bodyClose);for(const u in r.pendingSideEffects)r.pendingSideEffects[u]();e._dom=r,await e.hooks.callHook("dom:rendered",{renders:o}),a()}).finally(()=>{e._domUpdatePromise=void 0,e.dirty=!1})),e._domUpdatePromise}function Vi(e,t={}){const n=t.delayFn||(s=>setTimeout(s,10));return e._domDebouncedUpdatePromise=e._domDebouncedUpdatePromise||new Promise(s=>n(()=>Hi(e,t).then(()=>{delete e._domDebouncedUpdatePromise,s()})))}function Fi(e){return t=>{const n=t.resolvedOptions.document?.head.querySelector('script[id="unhead:payload"]')?.innerHTML||!1;return n&&t.push(JSON.parse(n)),{mode:"client",hooks:{"entries:updated":s=>{Vi(s,e)}}}}}const ji=new Set(["templateParams","htmlAttrs","bodyAttrs"]),Bi={hooks:{"tag:normalise":({tag:e})=>{e.props.hid&&(e.key=e.props.hid,delete e.props.hid),e.props.vmid&&(e.key=e.props.vmid,delete e.props.vmid),e.props.key&&(e.key=e.props.key,delete e.props.key);const t=ea(e);t&&!t.startsWith("meta:og:")&&!t.startsWith("meta:twitter:")&&delete e.key;const n=t||(e.key?`${e.tag}:${e.key}`:!1);n&&(e._d=n)},"tags:resolve":e=>{const t=Object.create(null);for(const s of e.tags){const a=(s.key?`${s.tag}:${s.key}`:s._d)||In(s),o=t[a];if(o){let i=s?.tagDuplicateStrategy;if(!i&&ji.has(s.tag)&&(i="merge"),i==="merge"){const d=o.props;d.style&&s.props.style&&(d.style[d.style.length-1]!==";"&&(d.style+=";"),s.props.style=`${d.style} ${s.props.style}`),d.class&&s.props.class?s.props.class=`${d.class} ${s.props.class}`:d.class&&(s.props.class=d.class),t[a].props={...d,...s.props};continue}else if(s._e===o._e){o._duped=o._duped||[],s._d=`${o._d}:${o._duped.length+1}`,o._duped.push(s);continue}else if(Xt(s)>Xt(o))continue}if(!(s.innerHTML||s.textContent||Object.keys(s.props).length!==0)&&jt.has(s.tag)){delete t[a];continue}t[a]=s}const n=[];for(const s in t){const a=t[s],o=a._duped;n.push(a),o&&(delete a._duped,n.push(...o))}e.tags=n,e.tags=e.tags.filter(s=>!(s.tag==="meta"&&(s.props.name||s.props.property)&&!s.props.content))}}},zi=new Set(["script","link","bodyAttrs"]),Wi=e=>({hooks:{"tags:resolve":t=>{for(const n of t.tags){if(!zi.has(n.tag))continue;const s=n.props;for(const a in s){if(a[0]!=="o"||a[1]!=="n"||!Object.prototype.hasOwnProperty.call(s,a))continue;const o=s[a];typeof o=="function"&&(e.ssr&&_s.has(a)?s[a]=`this.dataset.${a}fired = true`:delete s[a],n._eventHandlers=n._eventHandlers||{},n._eventHandlers[a]=o)}e.ssr&&n._eventHandlers&&(n.props.src||n.props.href)&&(n.key=n.key||Kt(n.props.src||n.props.href))}},"dom:renderTag":({$el:t,tag:n})=>{const s=t?.dataset;if(s)for(const a in s){if(!a.endsWith("fired"))continue;const o=a.slice(0,-5);_s.has(o)&&n._eventHandlers?.[o]?.call(t,new Event(o.substring(2)))}}}}),Gi=new Set(["link","style","script","noscript"]),qi={hooks:{"tag:normalise":({tag:e})=>{e.key&&Gi.has(e.tag)&&(e.props["data-hid"]=e._h=Kt(e.key))}}},Yi={mode:"server",hooks:{"tags:beforeResolve":e=>{const t={};let n=!1;for(const s of e.tags)s._m!=="server"||s.tag!=="titleTemplate"&&s.tag!=="templateParams"&&s.tag!=="title"||(t[s.tag]=s.tag==="title"||s.tag==="titleTemplate"?s.textContent:s.props,n=!0);n&&e.tags.push({tag:"script",innerHTML:JSON.stringify(t),props:{id:"unhead:payload",type:"application/json"}})}}},Ki={hooks:{"tags:resolve":e=>{for(const t of e.tags)if(typeof t.tagPriority=="string")for(const{prefix:n,offset:s}of Ii){if(!t.tagPriority.startsWith(n))continue;const a=t.tagPriority.substring(n.length),o=e.tags.find(r=>r._d===a)?._p;if(o!==void 0){t._p=o+s;break}}e.tags.sort((t,n)=>{const s=Xt(t),a=Xt(n);return s<a?-1:s>a?1:t._p-n._p})}}},Xi={meta:"content",link:"href",htmlAttrs:"lang"},Zi=["innerHTML","textContent"],Ji=e=>({hooks:{"tags:resolve":t=>{const{tags:n}=t;let s;for(let r=0;r<n.length;r+=1)n[r].tag==="templateParams"&&(s=t.tags.splice(r,1)[0].props,r-=1);const a=s||{},o=a.separator||"|";delete a.separator,a.pageTitle=Nt(a.pageTitle||n.find(r=>r.tag==="title")?.textContent||"",a,o);for(const r of n){if(r.processTemplateParams===!1)continue;const i=Xi[r.tag];if(i&&typeof r.props[i]=="string")r.props[i]=Nt(r.props[i],a,o);else if(r.processTemplateParams||r.tag==="titleTemplate"||r.tag==="title")for(const d of Zi)typeof r[d]=="string"&&(r[d]=Nt(r[d],a,o,r.tag==="script"&&r.props.type.endsWith("json")))}e._templateParams=a,e._separator=o},"tags:afterResolve":({tags:t})=>{let n;for(let s=0;s<t.length;s+=1){const a=t[s];a.tag==="title"&&a.processTemplateParams!==!1&&(n=a)}n?.textContent&&(n.textContent=Nt(n.textContent,e._templateParams,e._separator))}}}),Qi={hooks:{"tags:resolve":e=>{const{tags:t}=e;let n,s;for(let a=0;a<t.length;a+=1){const o=t[a];o.tag==="title"?n=o:o.tag==="titleTemplate"&&(s=o)}if(s&&n){const a=ws(s.textContent,n.textContent);a!==null?n.textContent=a||n.textContent:e.tags.splice(e.tags.indexOf(n),1)}else if(s){const a=ws(s.textContent);a!==null&&(s.textContent=a,s.tag="title",s=void 0)}s&&e.tags.splice(e.tags.indexOf(s),1)}}},er={hooks:{"tags:afterResolve":e=>{for(const t of e.tags)typeof t.innerHTML=="string"&&(t.innerHTML&&(t.props.type==="application/ld+json"||t.props.type==="application/json")?t.innerHTML=t.innerHTML.replace(/</g,"\\u003C"):t.innerHTML=t.innerHTML.replace(new RegExp(`</${t.tag}`,"g"),`<\\/${t.tag}`))}}};let ta;function tr(e={}){const t=nr(e);return t.use(Fi()),ta=t}function $s(e,t){return!e||e==="server"&&t||e==="client"&&!t}function nr(e={}){const t=Ba();t.addHooks(e.hooks||{}),e.document=e.document||(Oi?document:void 0);const n=!e.document,s=()=>{i.dirty=!0,t.callHook("entries:updated",i)};let a=0,o=[];const r=[],i={plugins:r,dirty:!1,resolvedOptions:e,hooks:t,headEntries(){return o},use(d){const c=typeof d=="function"?d(i):d;(!c.key||!r.some(y=>y.key===c.key))&&(r.push(c),$s(c.mode,n)&&t.addHooks(c.hooks||{}))},push(d,c){delete c?.head;const y={_i:a++,input:d,...c};return $s(y.mode,n)&&(o.push(y),s()),{dispose(){o=o.filter(u=>u._i!==y._i),s()},patch(u){for(const g of o)g._i===y._i&&(g.input=y.input=u);s()}}},async resolveTags(){const d={tags:[],entries:[...o]};await t.callHook("entries:resolve",d);for(const c of d.entries){const y=c.resolvedInput||c.input;if(c.resolvedInput=await(c.transform?c.transform(y):y),c.resolvedInput)for(const u of await xi(c)){const g={tag:u,entry:c,resolvedOptions:i.resolvedOptions};await t.callHook("tag:normalise",g),d.tags.push(g.tag)}}return await t.callHook("tags:beforeResolve",d),await t.callHook("tags:resolve",d),await t.callHook("tags:afterResolve",d),d.tags},ssr:n};return[Bi,Yi,Wi,qi,Ki,Ji,Qi,er,...e?.plugins||[]].forEach(d=>i.use(d)),i.hooks.callHook("init",i),i}function sr(){return ta}const ar=Aa[0]==="3";function or(e){return typeof e=="function"?e():f(e)}function Zt(e){if(e instanceof Promise||e instanceof Date||e instanceof RegExp)return e;const t=or(e);if(!e||!t)return t;if(Array.isArray(t))return t.map(n=>Zt(n));if(typeof t=="object"){const n={};for(const s in t)if(Object.prototype.hasOwnProperty.call(t,s)){if(s==="titleTemplate"||s[0]==="o"&&s[1]==="n"){n[s]=f(t[s]);continue}n[s]=Zt(t[s])}return n}return t}const ir={hooks:{"entries:resolve":e=>{for(const t of e.entries)t.resolvedInput=Zt(t.input)}}},na="usehead";function rr(e){return{install(n){ar&&(n.config.globalProperties.$unhead=e,n.config.globalProperties.$head=e,n.provide(na,e))}}.install}function lr(e={}){e.domDelayFn=e.domDelayFn||(n=>_t(()=>setTimeout(()=>n(),0)));const t=tr(e);return t.use(ir),t.install=rr(t),t}const Es=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ss="__unhead_injection_handler__";function ur(){return Ss in Es?Es[Ss]():qe(na)||sr()}function Ve(e,t={}){const n=t.head||ur();if(n)return n.ssr?n.push(e,t):cr(n,e,t)}function cr(e,t,n={}){const s=C(!1),a=C({});La(()=>{a.value=s.value?{}:Zt(t)});const o=e.push(a.value,n);return oe(a,i=>{o.patch(i)}),Ms()&&(Ns(()=>{o.dispose()}),Ca(()=>{s.value=!0}),Oa(()=>{s.value=!1})),o}function dr(e){const t=e;return t.headTags=e.resolveTags,t.addEntry=e.push,t.addHeadObjs=e.push,t.addReactiveEntry=(n,s)=>{const a=Ve(n,s);return a!==void 0?a.dispose:()=>{}},t.removeHeadObjs=()=>{},t.updateDOM=()=>{e.hooks.callHook("entries:updated",e)},t.unhead=e,t}function mr(e,t){const n=lr({});return dr(n)}const pr={class:"page-title__main"},fr={class:"page-title__main-content"},gr={class:"page-title__actions"},vr={key:0,class:"page-title__date","data-testid":"page-date"},yr={key:1,class:"page-title__subtitle","data-testid":"page-subtitle"},Ke=F({__name:"PageTitle",props:{id:{type:Number,default:0},date:{type:String,default:""},title:{type:String,required:!0},subtitle:{type:String,default:""}},setup(e){return(t,n)=>(m(),_("header",{class:Q(["page-title",{"page-title--has-date":!!e.date}])},[h("div",pr,[h("div",fr,[h("h1",null,[x(V(e.title)+" ",1),h("span",gr,[Ge(t.$slots,"actions")])]),e.date?(m(),_("p",vr,V(e.date),1)):L("",!0),e.subtitle||t.$slots.subtitle?(m(),_("p",yr,[Ge(t.$slots,"subtitle"),t.$slots.subtitle?L("",!0):(m(),_(H,{key:0},[x(V(e.subtitle),1)],64))])):L("",!0)])]),Ge(t.$slots,"additional")],2))}}),hr=""+new URL("../empty-list-missing-cat.png",import.meta.url).href,br=""+new URL("../empty-list.svg",import.meta.url).href,_r={class:"empty-list"},kr={key:0},Tr={key:1},wr=F({__name:"EmptyList",props:{isTaskList:{type:Boolean,default:!0}},setup(e){return(t,n)=>(m(),_("div",_r,[n[0]||(n[0]=h("img",{class:"empty-list--fun-cat",src:hr,alt:"empty list"},null,-1)),n[1]||(n[1]=h("img",{class:"empty-list--default-image",src:br,alt:"empty list"},null,-1)),h("p",null,[e.isTaskList?(m(),_("span",kr,"You have no tasks in this list.")):(m(),_("span",Tr,"You have no lists at the moment."))])]))}}),$t=$e(wr,[["__scopeId","data-v-e140825f"]]),$r={class:"progress-bar"},Er={class:"progress-bar__progress"},Sr={class:"progress-bar__info"},sa=F({__name:"ProgressBar",props:{completed:{type:Number,default:0},length:{type:Number,default:0}},setup(e){const t=e,n=I(()=>t.completed>t.length||t.completed===0?"0%":t.completed/t.length*100+"%");return(s,a)=>(m(),_("div",$r,[h("div",Er,[h("div",{class:"progress-bar--progress-complete",style:Ra({width:n.value})},null,4)]),h("span",Sr,[e.completed===e.length?(m(),N(re,{key:0,name:"doneAll"})):L("",!0),h("span",null,V(e.completed)+" / "+V(e.length)+" Tasks done",1)])]))}}),Ar={},Lr={class:"task-group"};function Cr(e,t){return m(),_("div",Lr,[h("ul",null,[Ge(e.$slots,"default")])])}const ln=$e(Ar,[["render",Cr]]),Or=""+new URL("../cat_done.png",import.meta.url).href,Rr=""+new URL("../cat_open.png",import.meta.url).href,Dr=["aria-label"],Pr=F({__name:"ModifyButton",props:{label:{type:String,default:""},icon:{type:String,required:!0,validator:e=>["edit","trash","chevronRight","progress"].includes(e)}},setup(e){const t=e,n=I(()=>t.label?t.label:t.icon);return(s,a)=>(m(),_("button",{class:Q(["modify-button",{"modify-button--delete":e.icon==="trash"}]),"aria-label":n.value},[b(re,{"aria-hidden":"true",name:e.icon},null,8,["name"])],10,Dr))}}),we=$e(Pr,[["__scopeId","data-v-b7eab975"]]),xr={class:"task__content"},Ir={key:0,src:Or,style:{width:"40px",height:"40px"},alt:""},Mr={key:1,src:Rr,alt:"",style:{width:"40px",height:"40px"}},Nr={class:"task__main"},Ur={class:"task__details"},Hr={key:0,class:"task__time"},Vr={key:0},Fr={class:"task__labels"},jr={key:0},Br={key:0},zr={key:1},Wr={class:"task__goto"},un=F({__name:"TaskItem",props:{task:{type:Object,required:!0},editable:{type:Boolean,default:!0},editState:{type:Boolean,default:!1},showChips:{type:Boolean,default:!0},isToday:{type:Boolean,default:!1},returnUrl:{type:String,default:""}},emits:["status-toggle"],setup(e){const t=e,n=Oe(),s=_e(),a=y=>kt[y],o=Ue(),r=I(()=>s.name===M.Upcoming&&t.task.startDate===Vs()),i={[ht.Trivial]:"var(--color-grey-200)",[ht.Normal]:"var(--color-blue-200)",[ht.Medium]:"var(--color-orange-200)",[ht.High]:"var(--color-red-200)"},d=y=>{n.push({name:M.TaskOverview,params:{id:y},query:{returnUrl:t.returnUrl}})},c=y=>js(y);return(y,u)=>(m(),_("li",{class:Q(["task",{"task--done":e.task.status===f(de).Done}])},[h("div",xr,[Ge(y.$slots,"toggle-checkbox",{},()=>[e.editState&&f(o).settings.theme==="fun-cat"?(m(),_("button",{key:0,"aria-label":"item state toggle",onClick:u[0]||(u[0]=g=>y.$emit("status-toggle"))},[e.task.status===f(de).Done?(m(),_("img",Ir)):(m(),_("img",Mr))])):e.editState?(m(),_("div",{key:1,class:"task__state",role:"button","aria-label":"item state toggle",onClick:u[1]||(u[1]=g=>y.$emit("status-toggle")),onKeydown:u[2]||(u[2]=bt(g=>y.$emit("status-toggle"),["enter"]))},null,32)):L("",!0)]),h("div",Nr,[h("p",{class:Q(["task__title",{"task__title--done":e.task.status===f(de).Done}])},V(e.task.description),3),h("div",Ur,[e.task.startTime?(m(),_("span",Hr,[b(zt,null,{default:S(()=>[x(V(e.task.startTime),1)]),_:1}),e.task.endTime?(m(),_("span",Vr,[u[4]||(u[4]=x("- ",-1)),b(zt,null,{default:S(()=>[x(V(e.task.endTime),1)]),_:1})])):L("",!0)])):L("",!0)]),h("div",Fr,[b(Be,{"background-color":i[e.task.priority],class:Q([`task__priority--${a(e.task.priority).toLowerCase()}`]),label:"Priority:"+a(e.task.priority)},null,8,["background-color","class","label"]),e.showChips?(m(),_(H,{key:0},[r.value?(m(),N(Be,{key:0,label:"Tomorrow","background-color":"var(--color-purple-300)"})):L("",!0),e.task.status===f(de).Progress?(m(),N(Be,{key:1,label:"In progress","background-color":"var(--color-yellow-300)"})):L("",!0),e.task.carryOver?(m(),N(Be,{key:2,label:"CarryOver","background-color":"var(--color-teal-300)"})):L("",!0),e.task.days?.length?(m(),N(Be,{key:3,label:"Habit","background-color":"var(--color-rose-300)"})):L("",!0),e.editState&&e.task.endTime&&f(za)(e.task.endTime)?(m(),N(Be,{key:4,label:"Overdue",class:"task__labels--overdue"})):L("",!0)],64)):L("",!0)]),!e.showChips&&e.task.days?(m(),_("div",jr,[h("small",null,[u[5]||(u[5]=h("strong",null,"Days: ",-1)),(m(!0),_(H,null,me(e.task.days,(g,v)=>(m(),_(H,{key:g},[h("span",null,V(f(Fs)[g]),1),v<e.task.days.length-1?(m(),_("span",Br,", ")):L("",!0)],64))),128))]),u[6]||(u[6]=h("br",null,null,-1))])):L("",!0),e.editState?L("",!0):(m(),_("div",zr,[h("small",null,[u[7]||(u[7]=h("strong",null,"Start date: ",-1)),x(V(c(e.task.startDate)),1)])]))]),h("div",Wr,[b(we,{icon:"chevronRight",label:"go to item "+e.task.description,onClick:u[3]||(u[3]=()=>d(e.task.id))},null,8,["label"])])])],2))}}),Et=()=>{const e=fe(),t=pe(),n=Oe(),s=_e(),a=C(!1),o=I(()=>s.query.sort==="priority"),r=I(()=>s.query.sort==="completion"),i=I(()=>s.query.sort==="action"),d=async(v,p)=>{try{await t.changeTaskStatus(v,p)}catch(k){throw e.error({title:"Error changing the status",text:"There was an error changing the status of the selected task."}),k}};return{onlyIncomplete:a,toggleIncomplete:()=>{a.value=!a.value},byPriority:o,byCompletion:r,sortBy:v=>{const p=s.query;!v||p.sort===v?n.push({query:{...p,sort:void 0}}):n.push({query:{...p,sort:v}})},sortByPriority:()=>{const v=s.query;v.sort==="priority"?n.push({query:{...v,sort:void 0}}):n.push({query:{...v,sort:"priority"}})},byAction:i,changeStatus:d,toggleProgress:v=>{v.status!==de.Progress?d(v,de.Progress):d(v,de.Open)}}},Gr={},qr={class:"page-controls"},Yr={class:"page-controls__content"};function Kr(e,t){return m(),_("div",qr,[h("div",Yr,[Ge(e.$slots,"default")])])}const Me=$e(Gr,[["render",Kr]]),Xr={class:"add-button"},Zr=F({__name:"AddButton",props:{label:{type:String,default:""}},setup(e){return(t,n)=>(m(),_("button",Xr,[b(re,{"aria-hidden":"true",name:"add"}),x(" Add"+V(e.label?` ${e.label}`:""),1)]))}}),St=$e(Zr,[["__scopeId","data-v-3c7ca739"]]),Jr=["aria-label"],Qr={"aria-hidden":"true"},el=F({__name:"ActionButton",props:{label:{type:String,required:!0},unSelectedLabel:{type:String,default:""},selected:{type:Boolean,default:!1},a11yLabel:{type:String,default:""},icon:{type:String,default:""}},setup(e){return(t,n)=>(m(),_("button",{class:Q(["action-button",{"action-button--selected":e.selected}]),"aria-label":e.a11yLabel||e.label},[e.icon?(m(),N(re,{key:0,"aria-hidden":"true",name:e.icon},null,8,["name"])):L("",!0),h("span",Qr,V(e.label),1)],10,Jr))}}),cn=$e(el,[["__scopeId","data-v-1b92d8e6"]]),tl={class:"today-view"},nl={class:"today-view__content"},sl="Today",al=F({__name:"TodayView",setup(e){Ve({title:Xe[M.Today].title});const t=_e(),n=pe(),{todaysTasks:s}=Re(n),{changeStatus:a,toggleProgress:o,sortBy:r,byPriority:i,byCompletion:d,byAction:c}=Et(),y=fe(),u=C(!1),g=C([]),v=I(()=>g.value.map(j=>s.value.data.find(z=>z.id===Number(j)))),p=new Date().toDateString(),k=C(0),$=I(()=>{const j=s.value.data.filter(z=>z.status===de.Done).length;return k.value+j});Ye(async()=>{await D(an(t))});const D=async j=>{await n.getTodaysTasks(j,i.value,d.value)};oe([i,d],()=>{D(s.value.pagination.page)});const E=async j=>{try{await D(j)}catch{y.error({text:"Could not fetch next page. Please try again later."})}},P=()=>{u.value=!1,D(s.value.pagination.page),y.success({text:"You successfully added a new task."})},T=()=>{v.value.length!==0&&(v.value.forEach(j=>{j&&o(j)}),g.value.length=0)},R=async()=>{const j=[];if(v.value.length!==0){v.value.forEach(z=>{z&&j.push(n.deleteTask(z.id))});try{await Promise.all(j)}catch{y.success({text:"Successfully deleted selected tasks"})}D(1),g.value.length=0}};return(j,z)=>(m(),_(H,null,[h("div",tl,[b(Ke,{title:sl,date:f(p)},ze({_:2},[f(s).pagination.total?{name:"additional",fn:S(()=>[b(sa,{completed:$.value,length:f(s).pagination.total},null,8,["completed","length"])]),key:"0"}:void 0]),1032,["date"]),b(Me,null,{default:S(()=>[b(St,{label:"task",onClick:z[0]||(z[0]=te=>u.value=!0)}),z[5]||(z[5]=h("span",{class:"sorting-divider"},"|",-1)),b(cn,{"a11y-label":"Sort by Priority",icon:"sort",label:"Priority",selected:f(i),onClick:z[1]||(z[1]=te=>f(r)("priority"))},null,8,["selected"])]),_:1,__:[5]}),Qt(b(Me,null,{default:S(()=>[b(we,{icon:"progress",label:"mark as progress",onClick:T}),b(we,{icon:"trash",label:"trash items",onClick:R})]),_:1},512),[[Hn,f(c)]]),h("article",nl,[f(s).pagination.total?(m(),_(H,{key:0},[b(ln,null,{default:S(()=>[(m(!0),_(H,null,me(f(s).data,te=>(m(),N(un,{key:te.id,task:te,"is-today":!0,"edit-state":!0,"return-url":"/today",onStatusToggle:()=>f(a)(te),onStatusProgress:()=>f(o)(te),onRefresh:z[3]||(z[3]=De=>D(f(s).pagination.page))},ze({_:2},[f(c)?{name:"toggle-checkbox",fn:S(()=>[b(Hs,{id:"task"+te.id,modelValue:g.value,"onUpdate:modelValue":z[2]||(z[2]=De=>g.value=De),value:te.id},null,8,["id","modelValue","value"])]),key:"0"}:void 0]),1032,["task","onStatusToggle","onStatusProgress"]))),128))]),_:1}),b(wt,{"current-page":f(s).pagination.page,"total-pages":f(s).pagination.totalPages,onSelected:E},null,8,["current-page","total-pages"])],64)):(m(),N($t,{key:1}))])]),u.value?(m(),N(it,{key:0,"is-today":!0,onClose:z[4]||(z[4]=te=>u.value=!1),onSubmitted:P})):L("",!0)],64))}}),ol="Habits",il=`
Stay consistent without relying on your willpower and motivation. Manage all your habits and stay productive.
`,rl=F({__name:"HabitsView",setup(e){Ve({title:Xe[M.Habits].title});const{byPriority:t,sortBy:n}=Et(),s=pe(),a=fe(),o=_e(),r=C(!1),{habits:i}=Re(s),d=u=>s.getHabits(u,t.value);en(()=>{d(an(o))});const c=async u=>{try{await d(u)}catch{a.error({text:"Could not fetch next page. Please try again later."})}};oe(t,()=>{d(i.value.pagination.page)});const y=()=>{r.value=!1,d(i.value.pagination.page)};return(u,g)=>(m(),_(H,null,[b(Ke,{title:ol,subtitle:il}),b(Me,null,{default:S(()=>[b(St,{label:"habit",onClick:g[0]||(g[0]=v=>r.value=!0)}),g[4]||(g[4]=h("span",{class:"sorting-divider"},"|",-1)),b(cn,{label:"Priority","a11y-label":"Sort by priority",icon:"sort",selected:f(t),onClick:g[1]||(g[1]=v=>f(n)("priority"))},null,8,["selected"])]),_:1,__:[4]}),f(i).pagination.total?(m(),_(H,{key:0},[b(ln,null,{default:S(()=>[(m(!0),_(H,null,me(f(i).data,v=>(m(),N(un,{key:v.id,task:v,"show-chips":!1,"return-url":"/habits",onRefresh:g[2]||(g[2]=p=>d(f(i).pagination.page))},null,8,["task"]))),128))]),_:1}),b(wt,{"total-pages":f(i).pagination.totalPages,onSelected:c},null,8,["total-pages"])],64)):(m(),N($t,{key:1})),r.value?(m(),N(it,{key:2,"is-habit":!0,onClose:g[3]||(g[3]=v=>r.value=!1),onSubmitted:y})):L("",!0)],64))}}),ll={key:0,class:"upcoming-view"},ul=F({__name:"UpcomingView",setup(e){Ve({title:Xe[M.Upcoming].title});const t=fe(),n=_e(),s=pe(),{byPriority:a,sortBy:o}=Et(),{allUpcomingTasks:r}=Re(s),i=I(()=>r.value),d=C(!1),c=async g=>{await s.getUpcoming(g,a.value)};Ye(async()=>{try{await c(an(n))}catch{t.error({text:"There was an error fetching the list. Please refresh and try again."})}}),oe(a,()=>{c(i.value.pagination.page)});const y=async g=>{try{await c(g)}catch{t.error({text:"Could not fetch next page. Please try again later."})}},u=()=>{d.value=!1,c(i.value.pagination.page),t.success({text:"You've successfully added a new task"})};return(g,v)=>{const p=Vn("router-link");return m(),_(H,null,[b(Ke,{title:"All tasks"},{subtitle:S(()=>[v[6]||(v[6]=x(" Discover your all upcoming tasks. You can view your ",-1)),b(p,{to:{name:f(M).Habits}},{default:S(()=>v[4]||(v[4]=[x("habits",-1)])),_:1,__:[4]},8,["to"]),v[7]||(v[7]=x(" and ",-1)),b(p,{to:{name:f(M).Today}},{default:S(()=>v[5]||(v[5]=[x("today's",-1)])),_:1,__:[5]},8,["to"]),v[8]||(v[8]=x(" tasks. ",-1))]),_:1}),b(Me,null,{default:S(()=>[b(St,{label:"task",onClick:v[0]||(v[0]=k=>d.value=!0)}),v[9]||(v[9]=h("span",{class:"sorting-divider"},"|",-1)),b(cn,{label:"Priority","a11y-label":"sort by priority",icon:"sort",selected:f(a),onClick:v[1]||(v[1]=k=>f(o)("priority"))},null,8,["selected"])]),_:1,__:[9]}),i.value?(m(),_("article",ll,[i.value.pagination.total?(m(),_(H,{key:0},[b(ln,null,{default:S(()=>[(m(!0),_(H,null,me(i.value.data,k=>(m(),N(un,{key:k.id,task:k,"show-chips":!0,onRefresh:v[2]||(v[2]=$=>c(i.value.pagination.page))},null,8,["task"]))),128))]),_:1}),b(wt,{"total-pages":i.value.pagination.totalPages,onSelected:y},null,8,["total-pages"])],64)):(m(),N($t,{key:1})),d.value?(m(),N(it,{key:2,"min-start-date":f(Vs)(),onClose:v[3]||(v[3]=k=>d.value=!1),onSubmitted:u},null,8,["min-start-date"])):L("",!0)])):L("",!0)],64)}}}),cl=F({__name:"ListView",setup(e){Ve({title:Xe[M.Lists].title});const t=_e(),n=fe(),s=pe(),{selectedPageList:a,selectedListTasks:o,recentList:r}=Re(s),i=C(!1),{changeStatus:d,toggleProgress:c,byPriority:y,byCompletion:u,sortBy:g,byAction:v}=Et(),p=C(!1),k=C(!1),$=C(!1),D=I(()=>a.value&&a.value.startDate<=ot()),E=C([]),P=I(()=>E.value.map(K=>o.value.data.find(U=>U.id===Number(K)))),T=C(0),R=I(()=>{const K=o.value.data.filter(U=>U.status===de.Done).length;return T.value+K}),j=async K=>{i.value=!0;try{const U=Number(t.params.id);s.setPageListId(U);const Z=await s.getList(U);if(await s.getTaskForList(U,K,y.value,u.value),!Z)throw new Wa}catch{n.error({title:"Fatal error",text:"An error occurred trying to get the list"}),Jt.push({name:M.Lists})}i.value=!1};en(()=>{j(an(t))}),oe(t,()=>{j(o.value.pagination.page)}),oe(y,()=>{j(o.value.pagination.page)});const z=async K=>{j(K)},te=async()=>{if(a.value)try{await s.deleteList(a.value.id),Jt.push({name:M.Lists})}catch{n.error({text:"Failed to delete list"})}},De=()=>{$.value=!1,j(o.value.pagination.page),n.success({text:"You have successfully added a new task."})},rt=()=>{k.value=!1,r.value.find(U=>U.id===a.value?.id)&&s.getRecentList()},Y=()=>{P.value.length!==0&&(P.value.forEach(K=>{K&&c(K)}),E.value.length=0)},Ee=async()=>{const K=[];if(P.value.length!==0){P.value.forEach(U=>{U&&K.push(s.deleteTask(U.id))});try{await Promise.all(K)}catch{n.success({text:"Successfully deleted selected tasks."})}j(1),E.value.length=0}};return(K,U)=>(m(),_(H,null,[i.value?(m(),_(H,{key:0},[x("Loading...")],64)):f(a)?(m(),_(H,{key:1},[b(Ke,{title:f(a).description,date:"Ends: "+new Date(f(a).endDate).toDateString()},ze({actions:S(()=>[b(Me,null,{default:S(()=>[b(we,{icon:"edit",onClick:U[0]||(U[0]=Z=>k.value=!0)}),b(we,{icon:"trash",onClick:U[1]||(U[1]=Z=>p.value=!0)})]),_:1})]),_:2},[f(o).pagination.total?{name:"additional",fn:S(()=>[b(sa,{completed:R.value,length:f(o).pagination.total},null,8,["completed","length"])]),key:"0"}:void 0]),1032,["title","date"]),b(Me,null,{default:S(()=>[b(St,{label:"to list",onClick:U[2]||(U[2]=Z=>$.value=!0)}),U[9]||(U[9]=h("span",{class:"sorting-divider"},"|",-1)),b(cn,{label:"Priority","a11y-label":"Sort by Priority",icon:"sort",selected:f(y),onClick:U[3]||(U[3]=Z=>f(g)("priority"))},null,8,["selected"])]),_:1,__:[9]}),Qt(b(Me,null,{default:S(()=>[b(we,{icon:"progress",label:"mark as progress",onClick:Y}),b(we,{icon:"trash",label:"trash items",onClick:Ee})]),_:1},512),[[Hn,f(v)]]),f(o).data.length?(m(),_(H,{key:0},[b(ln,null,{default:S(()=>[(m(!0),_(H,null,me(f(o).data,Z=>(m(),N(un,{key:Z.id,task:Z,"edit-state":D.value,"return-url":"/list/"+f(a).id,onStatusToggle:()=>f(d)(Z),onStatusProgress:()=>f(c)(Z),onRefresh:U[5]||(U[5]=Ze=>j(f(o).pagination.page))},ze({_:2},[f(v)?{name:"toggle-checkbox",fn:S(()=>[b(Hs,{id:"task"+Z.id,modelValue:E.value,"onUpdate:modelValue":U[4]||(U[4]=Ze=>E.value=Ze),value:Z.id},null,8,["id","modelValue","value"])]),key:"0"}:void 0]),1032,["task","edit-state","return-url","onStatusToggle","onStatusProgress"]))),128))]),_:1}),b(wt,{"total-pages":f(o).pagination.totalPages,onSelected:z},null,8,["total-pages"])],64)):(m(),N($t,{key:1}))],64)):L("",!0),$.value&&f(a)?(m(),N(it,{key:2,"list-id":f(a).id,onClose:U[6]||(U[6]=Z=>$.value=!1),onSubmitted:De},null,8,["list-id"])):L("",!0),k.value?(m(),N(jn,{key:3,item:f(a),onDone:rt,onClose:U[7]||(U[7]=Z=>k.value=!1)},null,8,["item"])):L("",!0),p.value?(m(),N(nn,{key:4,"proceed-btn":{isEvent:!0,link:"",disable:!1,alternativeName:"Delete",isRed:!0},onClose:U[8]||(U[8]=Z=>p.value=!1),onProceed:te},{content:S(()=>U[10]||(U[10]=[x("Are you sure you want to delete this list? Doing so will delete all the tasks that are associated with this list.",-1)])),_:1})):L("",!0)],64))}}),dl={class:"list-item__date"},ml={class:"list-item__date"},pl=F({__name:"AllListsView",setup(e){Ve({title:Xe[M.Lists].title});const t=pe(),n=Oe(),{lists:s}=Re(t),a=C(!1);Ye(async()=>{t.getAllList()});const o=d=>{n.push({name:M.List,params:{id:d}})},r=async()=>{a.value=!1,t.getAllList(s.value.pagination.page),t.getRecentList()},i=d=>js(d);return(d,c)=>(m(),_(H,null,[b(Ke,{title:"Lists"}),b(St,{label:"list",onClick:c[0]||(c[0]=y=>a.value=!0)}),f(s).pagination.total?(m(),_(H,{key:0},[b(Na,null,{default:S(()=>[(m(!0),_(H,null,me(f(s).data,(y,u)=>(m(),N(Ua,{key:y.id,alternate:u%2===0},{main:S(()=>[x(V(y.description),1),c[2]||(c[2]=h("br",null,null,-1)),h("span",dl," Duration: "+V(i(y.startDate))+" to "+V(i(y.endDate)),1),c[3]||(c[3]=h("br",null,null,-1)),h("span",ml," Created date: "+V(i(y.createdDate)),1)]),controls:S(()=>[b(we,{icon:"chevronRight",label:"go to list "+y.description,onClick:()=>o(y.id),onKeydown:bt(()=>o(y.id),["enter"])},null,8,["label","onClick","onKeydown"])]),_:2},1032,["alternate"]))),128))]),_:1}),b(wt,{"current-page":f(s).pagination.page,"total-pages":f(s).pagination.totalPages},null,8,["current-page","total-pages"])],64)):(m(),N($t,{key:1,"is-task-list":!1})),a.value?(m(),N(jn,{key:2,onDone:r,onClose:c[1]||(c[1]=y=>a.value=!1)})):L("",!0)],64))}}),fl=$e(pl,[["__scopeId","data-v-79d63adf"]]),gl={class:"settings__theme"},vl=F({__name:"DownloadContent",setup(e){const t=[{value:"lists",label:"lists"},{value:"habits",label:"habits"}],n=C(t[0].value),s=qe("apiService"),a=fe(),o=()=>{try{s.downloadContent(n.value)}catch(r){a.error({title:"Error downloading content",text:"An error occurred while downloading content."}),console.log("Error downloading content:",r)}};return(r,i)=>(m(),_("form",{id:"download-content-form",onSubmit:We(o,["prevent"])},[h("div",gl,[b(sn,{modelValue:n.value,"onUpdate:modelValue":i[0]||(i[0]=d=>n.value=d),options:t},null,8,["modelValue"])]),b(Ne,{type:"submit",variant:"secondary",class:"settings__section--spacing"},{default:S(()=>i[1]||(i[1]=[x(" Download ",-1)])),_:1,__:[1]})],32))}}),yl=$e(vl,[["__scopeId","data-v-074b8e2d"]]),hl={class:"settings__theme"},bl={class:"settings__section--spacing"},_l=F({__name:"ImportContent",setup(e){const t={FILE_SIZE_EXCEEDED:"The imported file exceeds the 5MB size limit.",FILE_SIZE_EXCEEDED_TITLE:"File Too Large",INVALID_CONTENT:"The uploaded content is not valid.",INVALID_CONTENT_TITLE:"Invalid Content",SERVER_FAILURE:"The imported file does not contain valid json or there was an error while upload",SERVER_FAILURE_TITLE:"Error importing content"},n=C(!1),s=[{value:"lists",label:"lists"},{value:"habits",label:"habits"}],a=C(s[0].value),o=C(null),r=C(null),i=qe("apiService"),d=fe(),c=()=>{o.value&&(o.value.value="")};oe(()=>a.value,()=>{c()});const y=I(()=>r.value===null),u=v=>{n.value=!0;const p=v.target;if(p.files&&p.files[0]){const k=p.files[0];if(k.size>5*1024*1024){d.error({title:t.FILE_SIZE_EXCEEDED_TITLE,text:t.FILE_SIZE_EXCEEDED}),c();return}const $=new FileReader;$.onload=D=>{try{const E=JSON.parse(D.target?.result);if(console.log("Imported content:",E),!Ga(a.value,E)){d.error({title:t.INVALID_CONTENT_TITLE,text:t.INVALID_CONTENT}),c();return}r.value=E}catch(E){d.error({title:t.SERVER_FAILURE_TITLE,text:t.SERVER_FAILURE}),console.error("Could not import file",E),c()}finally{n.value=!1}},$.readAsText(k)}},g=async()=>{if(!y.value)try{await i.importContent(a.value,r.value),d.success({title:"Content Imported",text:"Your content has been imported successfully."})}catch(v){d.error({title:"Error downloading content",text:"An error occurred while downloading content."}),console.error("Error downloading content:",v)}finally{c(),r.value=null}};return(v,p)=>(m(),_("form",{id:"upload-content-form",onSubmit:We(g,["prevent"])},[h("div",hl,[b(sn,{id:"select-input-upload-content-form",modelValue:a.value,"onUpdate:modelValue":p[0]||(p[0]=k=>a.value=k),options:s},null,8,["modelValue"])]),h("div",bl,[h("input",{id:"file-input",ref_key:"fileInput",ref:o,type:"file",accept:".json,.txt",onChange:u},null,544)]),b(Ne,{type:"submit",variant:"secondary",class:"settings__section--spacing",disabled:y.value},{default:S(()=>p[1]||(p[1]=[x(" Import ",-1)])),_:1,__:[1]},8,["disabled"])],32))}}),kl=$e(_l,[["__scopeId","data-v-02a24e17"]]),Tl={class:"settings__personal"},wl={class:"settings__theme"},$l="Settings",El=F({__name:"SettingsView",setup(e){Ve({title:Xe[M.Settings].title});const t=Ue(),n=fe(),s=C(!1),a=C(!1),o=C({name:t.settings.name,image:t.settings.image,theme:t.settings.theme||"default"}),r=C({archiveFor:t.settings.archiveFor||30,archive:t.settings.archive||!1}),i=async()=>{try{a.value=!0,await t.deleteApp(),window.location.reload()}catch(y){if(y.message.includes("blocked")){window.location.reload();return}n.error({title:"Fatal error",text:`Failed to delete account: ${y?.message}. Please try again.`})}finally{a.value=!1}};Ye(()=>{o.value.image=t.settings.image,o.value.name=t.settings.name,r.value.archiveFor=t.settings.archiveFor,r.value.archive=t.settings.archive});const d=async y=>{a.value=!0;try{y==="personal"&&await t.updateSettings({...o.value}),n.success({text:"Successful update"})}catch{n.error({title:"Fatal error",text:"Could not save data."})}a.value=!1},c=[{value:"default",label:"Default"},{value:"fun-cat",label:"Fun cat"}];return(y,u)=>(m(),_(H,null,[b(Ke,{title:$l}),b(Mt,{class:"settings__section--spacing",title:"Personal"},{content:S(()=>[h("div",Tl,[b(Yt,{"model-value":o.value.image,"onUpdate:modelValue":u[0]||(u[0]=g=>o.value.image=g),"view-only":!1},null,8,["model-value"]),b(Te,{modelValue:o.value.name,"onUpdate:modelValue":u[1]||(u[1]=g=>o.value.name=g)},{label:S(()=>u[9]||(u[9]=[x("Full name",-1)])),_:1},8,["modelValue"])]),h("div",wl,[b(sn,{modelValue:o.value.theme,"onUpdate:modelValue":u[2]||(u[2]=g=>o.value.theme=g),options:c,label:"Theme"},null,8,["modelValue"])]),b(Ne,{variant:"secondary",disabled:!o.value.name,loading:a.value,onClick:u[3]||(u[3]=()=>d("personal"))},{default:S(()=>u[10]||(u[10]=[x(" Save changes ",-1)])),_:1,__:[10]},8,["disabled","loading"])]),_:1}),L("",!0),b(Mt,{class:"settings__section--spacing",title:"Download Content"},{content:S(()=>[b(yl)]),_:1}),b(Mt,{class:"settings__section--spacing",title:"Import Content"},{content:S(()=>[b(kl)]),_:1}),b(Mt,{class:"settings__section--spacing",title:"Advanced"},{content:S(()=>[u[14]||(u[14]=h("p",null," Deleting your account all personal data, tasks, reports, lists and archives. ",-1)),b(Ne,{class:"settings__delete-app-btn",variant:"secondary",loading:a.value,onClick:u[7]||(u[7]=g=>s.value=!0)},{default:S(()=>u[13]||(u[13]=[x(" Delete account ",-1)])),_:1,__:[13]},8,["loading"])]),_:1}),s.value?(m(),N(nn,{key:1,"proceed-btn":{isEvent:!0,link:"",disable:!1},loading:a.value,onProceed:i,onClose:u[8]||(u[8]=g=>s.value=!1)},{content:S(()=>u[15]||(u[15]=[x(" Are you sure you want to delete your account? This deletion cannot be undone. ",-1)])),_:1},8,["loading"])):L("",!0)],64))}}),aa=""+new URL("../logo-name.svg",import.meta.url).href,Sl={class:"setup-view"},Al={class:"setup-view__personal"},Ll={class:"setup-view__personal-content"},Cl={class:"get-started"},Ol=F({__name:"SetupView",setup(e){const t=C(!1),n=fe(),s=Ue(),a=Oe(),o=C({image:"",name:"",archive:!1,archiveFor:30,theme:"default"}),r=I(()=>!o.value.name),i=()=>{t.value=!0,setTimeout(async()=>{try{await s.addSettings({...o.value}),a.push({name:M.Today})}catch{n.error({title:"Fatal Error",text:"An error occurred while trying to setup the work space."})}t.value=!1},2e3)};return(d,c)=>(m(),_("div",Sl,[h("form",{id:"setup-view-form",class:"setup-view__content",onSubmit:We(i,["prevent"])},[c[6]||(c[6]=h("div",{class:"setup-view__content text-center"},[h("img",{src:aa,alt:"app brand planner",class:"logo logo--highlight"}),h("h1",null,"Youre one step away from less busywork"),h("p",{class:"text-center"}," Setup your planner and make it easier to plan your work, days or special events. ")],-1)),b(Ha),h("section",Al,[h("div",Ll,[h("fieldset",null,[c[2]||(c[2]=h("legend",null,"Select profile picture (optional)",-1)),b(Yt,{"model-value":o.value.image,"onUpdate:modelValue":c[0]||(c[0]=y=>o.value.image=y),"view-only":!1},null,8,["model-value"])]),b(Te,{modelValue:o.value.name,"onUpdate:modelValue":c[1]||(c[1]=y=>o.value.name=y),"input-id":"setup-full-name"},{label:S(()=>c[3]||(c[3]=[x("Full name (required)",-1)])),_:1},8,["modelValue"])])]),h("div",Cl,[b(Ne,{form:"setup-view-form",disabled:r.value,loading:t.value},{default:S(()=>c[4]||(c[4]=[x("GET STARTED",-1)])),_:1,__:[4]},8,["disabled","loading"])]),(m(),N(Da,{to:"#app"},[c[5]||(c[5]=h("div",{class:"shape-divider"},[h("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1440 320"},[h("path",{fill:"#60A5FA","fill-opacity":"1",d:"M0,128L60,154.7C120,181,240,235,360,218.7C480,203,600,117,720,96C840,75,960,117,1080,122.7C1200,128,1320,96,1380,80L1440,64L1440,320L1380,320C1320,320,1200,320,1080,320C960,320,840,320,720,320C600,320,480,320,360,320C240,320,120,320,60,320L0,320Z"})]),h("div",{class:"shape-divider__empty-space"}," Copyright planner., UcheCodes.dev 2025 ")],-1))]))],32)]))}}),Rl={class:"error-view"},Dl=F({__name:"ErrorView",setup(e){Ve({title:Xe.error.title});const t=Oe();return(n,s)=>(m(),_("div",Rl,[s[2]||(s[2]=h("img",{src:aa,alt:"Website logo",class:"logo logo--highlight"},null,-1)),s[3]||(s[3]=h("h1",null,"404",-1)),s[4]||(s[4]=h("h2",null,"Page not found",-1)),s[5]||(s[5]=h("p",null," The link for the page clicked on is broken or the page no longer exists. ",-1)),b(Ne,{onClick:s[0]||(s[0]=a=>f(t).back())},{default:S(()=>[b(re,{name:"arrowBack",width:24}),s[1]||(s[1]=x("Go back ",-1))]),_:1,__:[1]})]))}}),Pl={id:"habit-counter"},xl={class:"habit-counter__month"},Il={class:"habit-counter__container"},Ml=["aria-label"],Nl=F({__name:"HabitCounter",props:{records:{type:Array,required:!0},defaultNumberOfDays:{type:Number,default:0},defaultCurrentMonthString:{type:String,default:""},defaultCurrentMonth:{type:Number,default:0}},setup(e){const t=e,n=qa(),s=I(()=>t.defaultNumberOfDays||n.numberOfDays),a=I(()=>t.defaultCurrentMonthString||n.monthString),o=I(()=>t.defaultCurrentMonth||n.month),r=I(()=>{const i=[];for(let d=1;d<=s.value;d++){const c=Wt(new Date(n.fullYear,o.value-1,d)),y=t.records.find(g=>g.timestamp===c),u={date:d,className:c>ot()||c===ot()?"open":"not-done",label:`${c}: task not done`};y&&(y.status===de.Done&&(u.className="done"),u.label=`${c}: task ${y.status===de.Done?"completed":"not done"}`),i.push(u)}return i});return(i,d)=>(m(),_("div",Pl,[h("h3",xl,"Habit counter for month of "+V(a.value),1),h("div",Il,[(m(!0),_(H,null,me(r.value,c=>(m(),_("div",{key:c.date,class:Q(["habit-counter__date",c.className]),"aria-label":c.label},V(c.date),11,Ml))),128))])]))}}),Ul={class:"task-overview"},Hl={class:"task-overview__details"},Vl={class:"task-overview__details-row"},Fl={class:"task-overview__details-col"},jl={key:0,class:"task-overview__details-row"},Bl={class:"task-overview__details-col"},zl={key:1,class:"task-overview__details-row"},Wl={class:"task-overview__details-col"},Gl={key:2,class:"task-overview__details-row"},ql={class:"task-overview__details-col"},Yl={key:0},Kl={key:1},Xl={class:"task-overview__note-content"},Zl=F({__name:"TaskOverview",props:{task:{type:Object,required:!0},records:{type:Array,default:()=>[]}},setup(e){return(t,n)=>{const s=Pa("dompurify-html");return m(),_("article",Ul,[h("div",Hl,[h("div",Vl,[n[0]||(n[0]=h("div",{class:"task-overview__details-col task-overview__details-heading"}," Priority ",-1)),h("div",Fl,[h("span",{class:Q("task-overview__priority--"+f(kt)[e.task.priority].toLowerCase())},V(f(kt)[e.task.priority]),3)])]),e.task.days.length?(m(),_("div",jl,[n[1]||(n[1]=h("div",{class:"task-overview__details-col task-overview__details-heading"}," Days ",-1)),h("div",Bl,[(m(!0),_(H,null,me(e.task.days,a=>(m(),N(Be,{key:a,class:"task-overview__chip",label:f(Fs)[a]},null,8,["label"]))),128))])])):L("",!0),e.task.startTime?(m(),_("div",zl,[n[3]||(n[3]=h("div",{class:"task-overview__details-col task-overview__details-heading"}," Time ",-1)),h("div",Wl,[b(zt,null,{default:S(()=>[x(V(e.task.startTime),1)]),_:1}),e.task.endTime?(m(),_(H,{key:0},[n[2]||(n[2]=x(" - ",-1)),b(zt,null,{default:S(()=>[x(V(e.task.endTime),1)]),_:1})],64)):L("",!0)])])):L("",!0),e.task.startDate||e.task.endDate?(m(),_("div",Gl,[n[4]||(n[4]=h("div",{class:"task-overview__details-col task-overview__details-heading"}," Duration ",-1)),h("div",ql,[x(V(new Date(e.task.startDate).toLocaleDateString())+" - ",1),e.task.endDate?(m(),_("span",Yl,V(new Date(e.task.endDate).toLocaleDateString()),1)):(m(),_("span",Kl,"Indefinite"))])])):L("",!0)]),e.task.days&&e.task.days.length?(m(),N(Nl,{key:0,records:e.records},null,8,["records"])):L("",!0),e.task.note?(m(),_(H,{key:1},[n[5]||(n[5]=h("h3",null,"Note",-1)),Qt(h("div",Xl,null,512),[[s,e.task.note]])],64)):L("",!0)])}}}),Jl={key:0},Ql={class:"task-progress"},eu=F({__name:"TaskOverviewView",setup(e){const t=C(!0),n=C(!1),s=C(!1),a=pe(),o=pe(),{params:r,query:i}=_e(),{replace:d}=Oe(),{currentSelectedTask:c}=Re(a),y=fe(),{toggleProgress:u}=Et(),g=async()=>{n.value=!1,y.success({text:"You successfully updated the task information."}),await a.getCurrentlySelectedTast(v)};let v;try{v=Number(r.id)}catch{v=0}Ye(async()=>{await a.getCurrentlySelectedTast(v),t.value=!1});const p=I(()=>c.value.taskItem?.status===de.Progress?"In progress":"Mark as progress"),k=async()=>{try{await o.deleteTask(v),i?.returnUrl?d(i.returnUrl):d({name:M.Today})}catch{y.error({text:"Something happened. Please try again."})}},$=async()=>{c.value.taskItem&&u(c.value.taskItem)};return(D,E)=>(m(),_(H,null,[f(c).taskItem?(m(),_(H,{key:1},[b(Ke,{title:f(c).taskItem.description},{actions:S(()=>[b(Me,null,{default:S(()=>[b(we,{icon:"edit",onClick:E[0]||(E[0]=P=>n.value=!0)}),b(we,{icon:"trash",onClick:E[1]||(E[1]=P=>s.value=!0)}),h("div",Ql,[h("button",{class:Q({on:f(c).taskItem.status===f(de).Progress}),onClick:$},[b(re,{name:"progress"}),E[5]||(E[5]=x()),h("span",null,V(p.value),1)],2)])]),_:1})]),_:1},8,["title"]),b(Zl,{task:f(c).taskItem,records:f(c).records,onRefresh:E[2]||(E[2]=P=>f(a).getCurrentlySelectedTast(f(v)))},null,8,["task","records"])],64)):(m(),_("div",Jl,"Nothing found")),n.value&&f(c).taskItem?(m(),N(it,{key:2,"selected-task":f(c).taskItem,"is-habit":!!f(c).taskItem.days.length,onClose:E[3]||(E[3]=P=>n.value=!1),onSubmitted:g},null,8,["selected-task","is-habit"])):L("",!0),s.value?(m(),N(nn,{key:3,"proceed-btn":{isEvent:!0,link:"",disable:!1,alternativeName:"Delete",isRed:!0},onClose:E[4]||(E[4]=P=>s.value=!1),onProceed:k},{content:S(()=>E[6]||(E[6]=[x(" Are you sure you want to delete this tasks? ",-1)])),_:1})):L("",!0)],64))}}),Pe="planner.",Xe={[M.Today]:{title:`Today | ${Pe}`},[M.Settings]:{title:`Settings | ${Pe}`},[M.Upcoming]:{title:`Upcoming | ${Pe}`},[M.Lists]:{title:`All list | ${Pe}`},[M.Habits]:{title:`Habits | ${Pe}`},[M.Tasks]:{title:`All tasks | ${Pe}`},[M.TaskOverview]:{title:`Task overview | ${Pe}`},error:{title:`Error page | ${Pe}`}},Jt=Va({history:Fa("/projects/planner"),routes:[{path:"/today",alias:"/",name:M.Today,component:al,meta:{requiredSetup:!0}},{path:"/upcoming",name:M.Upcoming,component:ul,meta:{requiredSetup:!0}},{path:"/habits",name:M.Habits,component:rl,meta:{requiredSetup:!0}},{path:"/list/:id",name:M.List,component:cl,meta:{requiredSetup:!0}},{path:"/lists",name:M.Lists,component:fl,meta:{requiredSetup:!0}},{path:"/settings",name:M.Settings,component:El,meta:{requiredSetup:!0}},{path:"/setup",name:M.Setup,component:Ol},{path:"/task/:id",name:M.TaskOverview,component:eu},{path:"/:pathMatch(.*)*",component:Dl}]});Jt.beforeEach(async(e,t,n)=>{const a=await(await Fn.getInstance()).hasDatabase();if(e.name===M.Setup&&a){n(M.Today);return}if(e.meta.requiredSetup&&!a){n(M.Setup);return}n()});class tu{constructor(t){this.db=t}async deleteList(t){await this.db.lists.remove(t),await this.db.tasks.removeTasksByListId(t)}async getList(t){return await this.db.lists.get(t)}async getAllList(t,n){return await this.db.lists.getAll({type:"valid",offset:t,limit:n})}async getTaskForList(t,n,s,a=!1,o=!1){return await this.db.tasks.getAll({type:je.list,listId:t,offset:n,limit:s,sortByPriority:a,sortByCompletion:o})}async getHabits(t,n,s=!1){return await this.db.tasks.getAll({type:je.habits,offset:t,limit:n,sortByPriority:s})}async getHabitRecords(t){return await this.db.tasks.getHabitRecords(t)}async getTask(t){return await this.db.tasks.get(t)}async getTodaysList(t,n,s=!1,a=!1){return await this.db.tasks.getAll({type:je.today,offset:t,limit:n,sortByPriority:s,sortByCompletion:a})}async getTomorrowsList(t,n,s=!1){return await this.db.tasks.getAll({type:je.tomorrow,offset:t,limit:n,sortByPriority:s})}async getUpcoming(t,n,s=!1){return await this.db.tasks.getAll({type:je.upcoming,offset:t,limit:n,sortByPriority:s})}async deleteTask(t){await this.db.tasks.remove(t)}async updateTask(t,n=!1){if(n){const s=await this.db.tasks.updateTaskRecord({id:t.statusRecordId,status:t.status||de.Open,taskId:t.id,timestamp:t.statusUpdatedAt});return await this.db.tasks.update({...t,statusRecordId:s.id,statusUpdatedAt:s.timestamp})}return await this.db.tasks.update(t)}async updateList(t){await this.db.lists.update(t),await this.db.tasks.updateAllTasksForList(t)}getRecentLists(){return this.db.lists.getAll({type:"recent"})}async addTask(t){return await this.db.tasks.add(t)}async addList(t){return await this.db.lists.add(t)}cleanOldRecords(){return Promise.all([this.db.cleanup.cleanupLists(),this.db.cleanup.cleanupTasks()])}async getSettings(){return await this.db.settings.get()}async updateSettings(t){const s={...await this.getSettings(),...t};return await this.db.settings.update(s)}async addSettings(t){return await this.db.settings.add(t)}async downloadContent(t){if(t==="habits"){const n=await this.db.tasks.getAll({type:je.habits,offset:0,limit:1e4});ds(n.data,"habits.json")}else{const n=await this.db.lists.getAll({type:"valid",offset:0,limit:1e4}),s=[];for(const a of n.data){const o=(await this.db.tasks.getAll({type:je.list,listId:a.id,offset:0,limit:1e4})).data;s.push({...a,data:o})}ds(s,"lists_and_tasks.json")}}async importContent(t,n){if(t==="habits"){const a=[];for(const o of n){const r={description:o.description,note:o.note,priority:o.priority,carryOver:o.carryOver,days:JSON.parse(JSON.stringify(o.days)),isArchived:o.isArchived||!1,startDate:o.startDate,order:o.order??0};a.push(this.db.tasks.add(r))}await Promise.all(a);return}const s=[];for(const a of n){const o={description:a.description,startDate:a.startDate,endDate:a.endDate},r=await this.db.lists.add(o);for(const i of a.data){const d={description:i.description,note:i.note,priority:i.priority,carryOver:i.carryOver,days:JSON.parse(JSON.stringify(i.days)),isArchived:i.isArchived||!1,startDate:i.startDate,order:i.order??0,listId:r.id};s.push(this.db.tasks.add(d))}}await Promise.all(s)}}const nu={install:async e=>{e.config.globalProperties.$api={};const t=Ue();t.setGlobalLoading(!0);const n=await Fn.getInstance();e.config.globalProperties.$api.service=new tu(n.repositories()),await t.getSettings(),t.setGlobalLoading(!1),e.provide("apiService",e.config.globalProperties.$api.service)}};/*! @license DOMPurify 3.2.6 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.2.6/LICENSE */const{entries:oa,setPrototypeOf:As,isFrozen:su,getPrototypeOf:au,getOwnPropertyDescriptor:ou}=Object;let{freeze:le,seal:ve,create:ia}=Object,{apply:Nn,construct:Un}=typeof Reflect<"u"&&Reflect;le||(le=function(t){return t});ve||(ve=function(t){return t});Nn||(Nn=function(t,n,s){return t.apply(n,s)});Un||(Un=function(t,n){return new t(...n)});const Ut=ue(Array.prototype.forEach),iu=ue(Array.prototype.lastIndexOf),Ls=ue(Array.prototype.pop),pt=ue(Array.prototype.push),ru=ue(Array.prototype.splice),Bt=ue(String.prototype.toLowerCase),Sn=ue(String.prototype.toString),Cs=ue(String.prototype.match),ft=ue(String.prototype.replace),lu=ue(String.prototype.indexOf),uu=ue(String.prototype.trim),he=ue(Object.prototype.hasOwnProperty),ie=ue(RegExp.prototype.test),gt=cu(TypeError);function ue(e){return function(t){t instanceof RegExp&&(t.lastIndex=0);for(var n=arguments.length,s=new Array(n>1?n-1:0),a=1;a<n;a++)s[a-1]=arguments[a];return Nn(e,t,s)}}function cu(e){return function(){for(var t=arguments.length,n=new Array(t),s=0;s<t;s++)n[s]=arguments[s];return Un(e,n)}}function B(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Bt;As&&As(e,null);let s=t.length;for(;s--;){let a=t[s];if(typeof a=="string"){const o=n(a);o!==a&&(su(t)||(t[s]=o),a=o)}e[a]=!0}return e}function du(e){for(let t=0;t<e.length;t++)he(e,t)||(e[t]=null);return e}function Ce(e){const t=ia(null);for(const[n,s]of oa(e))he(e,n)&&(Array.isArray(s)?t[n]=du(s):s&&typeof s=="object"&&s.constructor===Object?t[n]=Ce(s):t[n]=s);return t}function vt(e,t){for(;e!==null;){const s=ou(e,t);if(s){if(s.get)return ue(s.get);if(typeof s.value=="function")return ue(s.value)}e=au(e)}function n(){return null}return n}const Os=le(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),An=le(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),Ln=le(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),mu=le(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),Cn=le(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),pu=le(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),Rs=le(["#text"]),Ds=le(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),On=le(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),Ps=le(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Ht=le(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),fu=ve(/\{\{[\w\W]*|[\w\W]*\}\}/gm),gu=ve(/<%[\w\W]*|[\w\W]*%>/gm),vu=ve(/\$\{[\w\W]*/gm),yu=ve(/^data-[\-\w.\u00B7-\uFFFF]+$/),hu=ve(/^aria-[\-\w]+$/),ra=ve(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),bu=ve(/^(?:\w+script|data):/i),_u=ve(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),la=ve(/^html$/i),ku=ve(/^[a-z][.\w]*(-[.\w]+)+$/i);var xs=Object.freeze({__proto__:null,ARIA_ATTR:hu,ATTR_WHITESPACE:_u,CUSTOM_ELEMENT:ku,DATA_ATTR:yu,DOCTYPE_NAME:la,ERB_EXPR:gu,IS_ALLOWED_URI:ra,IS_SCRIPT_OR_DATA:bu,MUSTACHE_EXPR:fu,TMPLIT_EXPR:vu});const yt={element:1,text:3,progressingInstruction:7,comment:8,document:9},Tu=function(){return typeof window>"u"?null:window},wu=function(t,n){if(typeof t!="object"||typeof t.createPolicy!="function")return null;let s=null;const a="data-tt-policy-suffix";n&&n.hasAttribute(a)&&(s=n.getAttribute(a));const o="dompurify"+(s?"#"+s:"");try{return t.createPolicy(o,{createHTML(r){return r},createScriptURL(r){return r}})}catch{return console.warn("TrustedTypes policy "+o+" could not be created."),null}},Is=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function ua(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Tu();const t=O=>ua(O);if(t.version="3.2.6",t.removed=[],!e||!e.document||e.document.nodeType!==yt.document||!e.Element)return t.isSupported=!1,t;let{document:n}=e;const s=n,a=s.currentScript,{DocumentFragment:o,HTMLTemplateElement:r,Node:i,Element:d,NodeFilter:c,NamedNodeMap:y=e.NamedNodeMap||e.MozNamedAttrMap,HTMLFormElement:u,DOMParser:g,trustedTypes:v}=e,p=d.prototype,k=vt(p,"cloneNode"),$=vt(p,"remove"),D=vt(p,"nextSibling"),E=vt(p,"childNodes"),P=vt(p,"parentNode");if(typeof r=="function"){const O=n.createElement("template");O.content&&O.content.ownerDocument&&(n=O.content.ownerDocument)}let T,R="";const{implementation:j,createNodeIterator:z,createDocumentFragment:te,getElementsByTagName:De}=n,{importNode:rt}=s;let Y=Is();t.isSupported=typeof oa=="function"&&typeof P=="function"&&j&&j.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:Ee,ERB_EXPR:K,TMPLIT_EXPR:U,DATA_ATTR:Z,ARIA_ATTR:Ze,IS_SCRIPT_OR_DATA:dn,ATTR_WHITESPACE:At,CUSTOM_ELEMENT:mn}=xs;let{IS_ALLOWED_URI:G}=xs,W=null;const ye=B({},[...Os,...An,...Ln,...Cn,...Rs]);let ne=null;const Bn=B({},[...Ds,...On,...Ps,...Ht]);let X=Object.seal(ia(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),lt=null,pn=null,zn=!0,fn=!0,Wn=!1,Gn=!0,Je=!1,Lt=!0,Fe=!1,gn=!1,vn=!1,Qe=!1,Ct=!1,Ot=!1,qn=!0,Yn=!1;const ma="user-content-";let yn=!0,ut=!1,et={},tt=null;const Kn=B({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let Xn=null;const Zn=B({},["audio","video","img","source","image","track"]);let hn=null;const Jn=B({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Rt="http://www.w3.org/1998/Math/MathML",Dt="http://www.w3.org/2000/svg",Se="http://www.w3.org/1999/xhtml";let nt=Se,bn=!1,_n=null;const pa=B({},[Rt,Dt,Se],Sn);let Pt=B({},["mi","mo","mn","ms","mtext"]),xt=B({},["annotation-xml"]);const fa=B({},["title","style","font","a","script"]);let ct=null;const ga=["application/xhtml+xml","text/html"],va="text/html";let ee=null,st=null;const ya=n.createElement("form"),Qn=function(l){return l instanceof RegExp||l instanceof Function},kn=function(){let l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(st&&st===l)){if((!l||typeof l!="object")&&(l={}),l=Ce(l),ct=ga.indexOf(l.PARSER_MEDIA_TYPE)===-1?va:l.PARSER_MEDIA_TYPE,ee=ct==="application/xhtml+xml"?Sn:Bt,W=he(l,"ALLOWED_TAGS")?B({},l.ALLOWED_TAGS,ee):ye,ne=he(l,"ALLOWED_ATTR")?B({},l.ALLOWED_ATTR,ee):Bn,_n=he(l,"ALLOWED_NAMESPACES")?B({},l.ALLOWED_NAMESPACES,Sn):pa,hn=he(l,"ADD_URI_SAFE_ATTR")?B(Ce(Jn),l.ADD_URI_SAFE_ATTR,ee):Jn,Xn=he(l,"ADD_DATA_URI_TAGS")?B(Ce(Zn),l.ADD_DATA_URI_TAGS,ee):Zn,tt=he(l,"FORBID_CONTENTS")?B({},l.FORBID_CONTENTS,ee):Kn,lt=he(l,"FORBID_TAGS")?B({},l.FORBID_TAGS,ee):Ce({}),pn=he(l,"FORBID_ATTR")?B({},l.FORBID_ATTR,ee):Ce({}),et=he(l,"USE_PROFILES")?l.USE_PROFILES:!1,zn=l.ALLOW_ARIA_ATTR!==!1,fn=l.ALLOW_DATA_ATTR!==!1,Wn=l.ALLOW_UNKNOWN_PROTOCOLS||!1,Gn=l.ALLOW_SELF_CLOSE_IN_ATTR!==!1,Je=l.SAFE_FOR_TEMPLATES||!1,Lt=l.SAFE_FOR_XML!==!1,Fe=l.WHOLE_DOCUMENT||!1,Qe=l.RETURN_DOM||!1,Ct=l.RETURN_DOM_FRAGMENT||!1,Ot=l.RETURN_TRUSTED_TYPE||!1,vn=l.FORCE_BODY||!1,qn=l.SANITIZE_DOM!==!1,Yn=l.SANITIZE_NAMED_PROPS||!1,yn=l.KEEP_CONTENT!==!1,ut=l.IN_PLACE||!1,G=l.ALLOWED_URI_REGEXP||ra,nt=l.NAMESPACE||Se,Pt=l.MATHML_TEXT_INTEGRATION_POINTS||Pt,xt=l.HTML_INTEGRATION_POINTS||xt,X=l.CUSTOM_ELEMENT_HANDLING||{},l.CUSTOM_ELEMENT_HANDLING&&Qn(l.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(X.tagNameCheck=l.CUSTOM_ELEMENT_HANDLING.tagNameCheck),l.CUSTOM_ELEMENT_HANDLING&&Qn(l.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(X.attributeNameCheck=l.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),l.CUSTOM_ELEMENT_HANDLING&&typeof l.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(X.allowCustomizedBuiltInElements=l.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Je&&(fn=!1),Ct&&(Qe=!0),et&&(W=B({},Rs),ne=[],et.html===!0&&(B(W,Os),B(ne,Ds)),et.svg===!0&&(B(W,An),B(ne,On),B(ne,Ht)),et.svgFilters===!0&&(B(W,Ln),B(ne,On),B(ne,Ht)),et.mathMl===!0&&(B(W,Cn),B(ne,Ps),B(ne,Ht))),l.ADD_TAGS&&(W===ye&&(W=Ce(W)),B(W,l.ADD_TAGS,ee)),l.ADD_ATTR&&(ne===Bn&&(ne=Ce(ne)),B(ne,l.ADD_ATTR,ee)),l.ADD_URI_SAFE_ATTR&&B(hn,l.ADD_URI_SAFE_ATTR,ee),l.FORBID_CONTENTS&&(tt===Kn&&(tt=Ce(tt)),B(tt,l.FORBID_CONTENTS,ee)),yn&&(W["#text"]=!0),Fe&&B(W,["html","head","body"]),W.table&&(B(W,["tbody"]),delete lt.tbody),l.TRUSTED_TYPES_POLICY){if(typeof l.TRUSTED_TYPES_POLICY.createHTML!="function")throw gt('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof l.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw gt('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');T=l.TRUSTED_TYPES_POLICY,R=T.createHTML("")}else T===void 0&&(T=wu(v,a)),T!==null&&typeof R=="string"&&(R=T.createHTML(""));le&&le(l),st=l}},es=B({},[...An,...Ln,...mu]),ts=B({},[...Cn,...pu]),ha=function(l){let w=P(l);(!w||!w.tagName)&&(w={namespaceURI:nt,tagName:"template"});const A=Bt(l.tagName),q=Bt(w.tagName);return _n[l.namespaceURI]?l.namespaceURI===Dt?w.namespaceURI===Se?A==="svg":w.namespaceURI===Rt?A==="svg"&&(q==="annotation-xml"||Pt[q]):!!es[A]:l.namespaceURI===Rt?w.namespaceURI===Se?A==="math":w.namespaceURI===Dt?A==="math"&&xt[q]:!!ts[A]:l.namespaceURI===Se?w.namespaceURI===Dt&&!xt[q]||w.namespaceURI===Rt&&!Pt[q]?!1:!ts[A]&&(fa[A]||!es[A]):!!(ct==="application/xhtml+xml"&&_n[l.namespaceURI]):!1},ke=function(l){pt(t.removed,{element:l});try{P(l).removeChild(l)}catch{$(l)}},at=function(l,w){try{pt(t.removed,{attribute:w.getAttributeNode(l),from:w})}catch{pt(t.removed,{attribute:null,from:w})}if(w.removeAttribute(l),l==="is")if(Qe||Ct)try{ke(w)}catch{}else try{w.setAttribute(l,"")}catch{}},ns=function(l){let w=null,A=null;if(vn)l="<remove></remove>"+l;else{const J=Cs(l,/^[\r\n\t ]+/);A=J&&J[0]}ct==="application/xhtml+xml"&&nt===Se&&(l='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+l+"</body></html>");const q=T?T.createHTML(l):l;if(nt===Se)try{w=new g().parseFromString(q,ct)}catch{}if(!w||!w.documentElement){w=j.createDocument(nt,"template",null);try{w.documentElement.innerHTML=bn?R:q}catch{}}const se=w.body||w.documentElement;return l&&A&&se.insertBefore(n.createTextNode(A),se.childNodes[0]||null),nt===Se?De.call(w,Fe?"html":"body")[0]:Fe?w.documentElement:se},ss=function(l){return z.call(l.ownerDocument||l,l,c.SHOW_ELEMENT|c.SHOW_COMMENT|c.SHOW_TEXT|c.SHOW_PROCESSING_INSTRUCTION|c.SHOW_CDATA_SECTION,null)},Tn=function(l){return l instanceof u&&(typeof l.nodeName!="string"||typeof l.textContent!="string"||typeof l.removeChild!="function"||!(l.attributes instanceof y)||typeof l.removeAttribute!="function"||typeof l.setAttribute!="function"||typeof l.namespaceURI!="string"||typeof l.insertBefore!="function"||typeof l.hasChildNodes!="function")},as=function(l){return typeof i=="function"&&l instanceof i};function Ae(O,l,w){Ut(O,A=>{A.call(t,l,w,st)})}const os=function(l){let w=null;if(Ae(Y.beforeSanitizeElements,l,null),Tn(l))return ke(l),!0;const A=ee(l.nodeName);if(Ae(Y.uponSanitizeElement,l,{tagName:A,allowedTags:W}),Lt&&l.hasChildNodes()&&!as(l.firstElementChild)&&ie(/<[/\w!]/g,l.innerHTML)&&ie(/<[/\w!]/g,l.textContent)||l.nodeType===yt.progressingInstruction||Lt&&l.nodeType===yt.comment&&ie(/<[/\w]/g,l.data))return ke(l),!0;if(!W[A]||lt[A]){if(!lt[A]&&rs(A)&&(X.tagNameCheck instanceof RegExp&&ie(X.tagNameCheck,A)||X.tagNameCheck instanceof Function&&X.tagNameCheck(A)))return!1;if(yn&&!tt[A]){const q=P(l)||l.parentNode,se=E(l)||l.childNodes;if(se&&q){const J=se.length;for(let ce=J-1;ce>=0;--ce){const Le=k(se[ce],!0);Le.__removalCount=(l.__removalCount||0)+1,q.insertBefore(Le,D(l))}}}return ke(l),!0}return l instanceof d&&!ha(l)||(A==="noscript"||A==="noembed"||A==="noframes")&&ie(/<\/no(script|embed|frames)/i,l.innerHTML)?(ke(l),!0):(Je&&l.nodeType===yt.text&&(w=l.textContent,Ut([Ee,K,U],q=>{w=ft(w,q," ")}),l.textContent!==w&&(pt(t.removed,{element:l.cloneNode()}),l.textContent=w)),Ae(Y.afterSanitizeElements,l,null),!1)},is=function(l,w,A){if(qn&&(w==="id"||w==="name")&&(A in n||A in ya))return!1;if(!(fn&&!pn[w]&&ie(Z,w))){if(!(zn&&ie(Ze,w))){if(!ne[w]||pn[w]){if(!(rs(l)&&(X.tagNameCheck instanceof RegExp&&ie(X.tagNameCheck,l)||X.tagNameCheck instanceof Function&&X.tagNameCheck(l))&&(X.attributeNameCheck instanceof RegExp&&ie(X.attributeNameCheck,w)||X.attributeNameCheck instanceof Function&&X.attributeNameCheck(w))||w==="is"&&X.allowCustomizedBuiltInElements&&(X.tagNameCheck instanceof RegExp&&ie(X.tagNameCheck,A)||X.tagNameCheck instanceof Function&&X.tagNameCheck(A))))return!1}else if(!hn[w]){if(!ie(G,ft(A,At,""))){if(!((w==="src"||w==="xlink:href"||w==="href")&&l!=="script"&&lu(A,"data:")===0&&Xn[l])){if(!(Wn&&!ie(dn,ft(A,At,"")))){if(A)return!1}}}}}}return!0},rs=function(l){return l!=="annotation-xml"&&Cs(l,mn)},ls=function(l){Ae(Y.beforeSanitizeAttributes,l,null);const{attributes:w}=l;if(!w||Tn(l))return;const A={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:ne,forceKeepAttr:void 0};let q=w.length;for(;q--;){const se=w[q],{name:J,namespaceURI:ce,value:Le}=se,dt=ee(J),wn=Le;let ae=J==="value"?wn:uu(wn);if(A.attrName=dt,A.attrValue=ae,A.keepAttr=!0,A.forceKeepAttr=void 0,Ae(Y.uponSanitizeAttribute,l,A),ae=A.attrValue,Yn&&(dt==="id"||dt==="name")&&(at(J,l),ae=ma+ae),Lt&&ie(/((--!?|])>)|<\/(style|title)/i,ae)){at(J,l);continue}if(A.forceKeepAttr)continue;if(!A.keepAttr){at(J,l);continue}if(!Gn&&ie(/\/>/i,ae)){at(J,l);continue}Je&&Ut([Ee,K,U],cs=>{ae=ft(ae,cs," ")});const us=ee(l.nodeName);if(!is(us,dt,ae)){at(J,l);continue}if(T&&typeof v=="object"&&typeof v.getAttributeType=="function"&&!ce)switch(v.getAttributeType(us,dt)){case"TrustedHTML":{ae=T.createHTML(ae);break}case"TrustedScriptURL":{ae=T.createScriptURL(ae);break}}if(ae!==wn)try{ce?l.setAttributeNS(ce,J,ae):l.setAttribute(J,ae),Tn(l)?ke(l):Ls(t.removed)}catch{at(J,l)}}Ae(Y.afterSanitizeAttributes,l,null)},ba=function O(l){let w=null;const A=ss(l);for(Ae(Y.beforeSanitizeShadowDOM,l,null);w=A.nextNode();)Ae(Y.uponSanitizeShadowNode,w,null),os(w),ls(w),w.content instanceof o&&O(w.content);Ae(Y.afterSanitizeShadowDOM,l,null)};return t.sanitize=function(O){let l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},w=null,A=null,q=null,se=null;if(bn=!O,bn&&(O="<!-->"),typeof O!="string"&&!as(O))if(typeof O.toString=="function"){if(O=O.toString(),typeof O!="string")throw gt("dirty is not a string, aborting")}else throw gt("toString is not a function");if(!t.isSupported)return O;if(gn||kn(l),t.removed=[],typeof O=="string"&&(ut=!1),ut){if(O.nodeName){const Le=ee(O.nodeName);if(!W[Le]||lt[Le])throw gt("root node is forbidden and cannot be sanitized in-place")}}else if(O instanceof i)w=ns("<!---->"),A=w.ownerDocument.importNode(O,!0),A.nodeType===yt.element&&A.nodeName==="BODY"||A.nodeName==="HTML"?w=A:w.appendChild(A);else{if(!Qe&&!Je&&!Fe&&O.indexOf("<")===-1)return T&&Ot?T.createHTML(O):O;if(w=ns(O),!w)return Qe?null:Ot?R:""}w&&vn&&ke(w.firstChild);const J=ss(ut?O:w);for(;q=J.nextNode();)os(q),ls(q),q.content instanceof o&&ba(q.content);if(ut)return O;if(Qe){if(Ct)for(se=te.call(w.ownerDocument);w.firstChild;)se.appendChild(w.firstChild);else se=w;return(ne.shadowroot||ne.shadowrootmode)&&(se=rt.call(s,se,!0)),se}let ce=Fe?w.outerHTML:w.innerHTML;return Fe&&W["!doctype"]&&w.ownerDocument&&w.ownerDocument.doctype&&w.ownerDocument.doctype.name&&ie(la,w.ownerDocument.doctype.name)&&(ce="<!DOCTYPE "+w.ownerDocument.doctype.name+`>
`+ce),Je&&Ut([Ee,K,U],Le=>{ce=ft(ce,Le," ")}),T&&Ot?T.createHTML(ce):ce},t.setConfig=function(){let O=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};kn(O),gn=!0},t.clearConfig=function(){st=null,gn=!1},t.isValidAttribute=function(O,l,w){st||kn({});const A=ee(O),q=ee(l);return is(A,q,w)},t.addHook=function(O,l){typeof l=="function"&&pt(Y[O],l)},t.removeHook=function(O,l){if(l!==void 0){const w=iu(Y[O],l);return w===-1?void 0:ru(Y[O],w,1)[0]}return Ls(Y[O])},t.removeHooks=function(O){Y[O]=[]},t.removeAllHooks=function(){Y=Is()},t}var $u=ua();function Eu(e,t){const n=e.hooks??{};let s;for(s in n){const a=n[s];a!==void 0&&t.addHook(s,a)}}function ca(){return $u()}function Su(e={},t=ca){const n=t();Eu(e,n);const s=function(r){const i=r.value;if(r.oldValue===i)return;const d=`${i}`,c=r.arg,y=e.namedConfigurations,u=e.default??{};return y&&c!==void 0?n.sanitize(d,y[c]??u):n.sanitize(d,u)},a=function(r,i){const d=s(i);d!==void 0&&(r.innerHTML=d)},o={mounted:a,updated:a};return e.enableSSRPropsSupport?{...o,getSSRProps(r){return{innerHTML:s(r)}}}:o}const Au={install(e,t={},n=ca){e.directive("dompurify-html",Su(t,n))}},Lu=mr(),da=Ya();da.use(Ka);await Fn.getInstance();xa(Si).use(da).use(nu).use(Jt).use(Lu).use(Au).mount("#app");
