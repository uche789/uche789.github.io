(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5694afde"],{"0750":function(t,e,a){},"69db":function(t,e,a){"use strict";a("fa03")},9459:function(t,e,a){"use strict";a("a808")},"9b4e":function(t,e,a){"use strict";a.r(e);var c=a("7a23"),n={class:"habits"};function r(t,e,a,r,b,i){var u=Object(c["H"])("page-title"),o=Object(c["H"])("add-item"),l=Object(c["H"])("habit-info"),s=Object(c["H"])("habit-frequency");return Object(c["z"])(),Object(c["g"])("div",n,[Object(c["k"])(u,null,{default:Object(c["N"])((function(){return[Object(c["j"])(Object(c["J"])(t.t("habitPage.title")),1)]})),_:1}),t.show?(Object(c["z"])(),Object(c["e"])(o,{key:0,mode:"habit",onClose:e[0]||(e[0]=function(e){return t.show=!1}),onItemSaved:t.itemSaved},null,8,["onItemSaved"])):Object(c["f"])("",!0),t.habit?(Object(c["z"])(),Object(c["e"])(l,{key:1,habit:t.habit},null,8,["habit"])):Object(c["f"])("",!0),t.habit?(Object(c["z"])(),Object(c["e"])(s,{key:2,habit:t.habit},null,8,["habit"])):Object(c["f"])("",!0)])}var b=a("47e2"),i=a("6c02"),u=a("5502"),o=a("89dd"),l=a("9c11"),s=a("426c"),j=(a("a4d3"),a("e01a"),a("b0c0"),{key:0,class:"text-sm text-gray-400"}),O={key:0,class:"daily-habit-item__time-block"},d=["datetime"],f=Object(c["j"])(" - "),h=["datetime"],v={class:"text-sm text-gray-400"};function g(t,e,a,n,r,b){var i=Object(c["H"])("tag"),u=Object(c["H"])("card");return Object(c["z"])(),Object(c["e"])(u,{class:"habit-info"},{title:Object(c["N"])((function(){return[Object(c["j"])(Object(c["J"])(t.habit.description)+"  ",1),t.endDate?(Object(c["z"])(),Object(c["g"])("span",j,"   "+Object(c["J"])(t.t("habitFreqComponent.ends"))+" "+Object(c["J"])(t.endDate),1)):Object(c["f"])("",!0),t.habit.categoryId?(Object(c["z"])(),Object(c["e"])(i,{key:1,variant:"indigo"},{default:Object(c["N"])((function(){var e;return[Object(c["j"])(Object(c["J"])(t.t("categories.".concat(null===(e=t.getCategory(t.habit.categoryId))||void 0===e?void 0:e.name))),1)]})),_:1})):Object(c["f"])("",!0)]})),body:Object(c["N"])((function(){return[t.habit.startTime&&t.habit.endTime?(Object(c["z"])(),Object(c["g"])("p",O,[Object(c["h"])("time",{datetime:t.habit.startTime,class:"time-block"},Object(c["J"])(t.habit.startTime),9,d),f,Object(c["h"])("time",{datetime:t.habit.startTime,class:"time-block"},Object(c["J"])(t.habit.endTime),9,h)])):Object(c["f"])("",!0),Object(c["h"])("p",v,Object(c["J"])(t.getDays(t.habit)),1)]})),_:1})}a("a15b"),a("d81d");var m=a("ae8d"),p=a("ff0a"),y=a("c009"),k=a("a2fe"),D=Object(c["l"])({components:{Card:m["a"],Tag:y["a"]},props:{habit:{type:Object,required:!0}},setup:function(t){var e=Object(b["b"])(),a=e.t,c=Object(p["b"])(t.habit.endDate||0),n=function(t){return t.days.map((function(t){return a("days.full.".concat(t))})).join(", ")};return{t:a,endDate:c,getDays:n,getCategory:k["b"]}}});a("eb0e");D.render=g;var w=D,_=(a("b64b"),{class:"habit-freq__controls"}),q=Object(c["h"])("div",{class:"habit-freq__labels"},null,-1),z={class:"habit-freq__year"},H=["value"],Y={key:0,class:"habit-freq__blocks"};function J(t,e,a,n,r,b){var i=Object(c["H"])("select-field"),u=Object(c["H"])("frequency-block"),o=Object(c["H"])("card");return Object(c["z"])(),Object(c["e"])(o,{class:"habit-freq"},{body:Object(c["N"])((function(){return[Object(c["h"])("div",_,[q,Object(c["h"])("div",z,[Object(c["k"])(i,{modelValue:t.selectedYear,"onUpdate:modelValue":e[0]||(e[0]=function(e){return t.selectedYear=e})},{default:Object(c["N"])((function(){return[(Object(c["z"])(),Object(c["g"])(c["a"],null,Object(c["F"])(10,(function(e){return Object(c["h"])("option",{key:e,value:t.createYear(e)},Object(c["J"])(t.createYear(e)),9,H)})),64))]})),_:1},8,["modelValue"])])]),t.loading?Object(c["f"])("",!0):(Object(c["z"])(),Object(c["g"])("div",Y,[(Object(c["z"])(!0),Object(c["g"])(c["a"],null,Object(c["F"])(Object.keys(t.monthDays),(function(e){return Object(c["z"])(),Object(c["g"])("div",{key:e,class:"habit-freq__month"},[Object(c["h"])("p",null,[Object(c["h"])("strong",null,Object(c["J"])(t.t("months.keys.".concat(e))),1)]),(Object(c["z"])(!0),Object(c["g"])(c["a"],null,Object(c["F"])(t.monthDays[e].days,(function(a){return Object(c["z"])(),Object(c["e"])(u,{date:t.getLocalDate(new Date(t.monthDays[e].fullYear,e,a)),key:t.getLocalDate(new Date(t.monthDays[e].fullYear,e,a)),status:t.getStatus(new Date(t.monthDays[e].fullYear,e,a))},null,8,["date","status"])})),128))])})),128))]))]})),_:1})}var F=a("1da1");a("96cf");function T(t,e,a,n,r,b){var i=Object(c["H"])("tool-tip");return Object(c["z"])(),Object(c["e"])(i,{class:"habit-freq-block-tooltip"},{element:Object(c["N"])((function(){return[Object(c["h"])("div",{class:Object(c["s"])(["habit-freq-block",["habit-freq-block--".concat(t.status)]])},null,2)]})),text:Object(c["N"])((function(){return[Object(c["j"])(Object(c["J"])(t.date),1)]})),_:1})}var C=a("c68f"),N=Object(c["l"])({components:{ToolTip:C["a"]},props:{status:{type:String,default:"open"},date:{type:String,required:!0}},setup:function(){var t=Object(b["b"])(),e=t.t,a=function(t){return t.days.map((function(t){return e("days.full.".concat(t))})).join(", ")};return{getDays:a}}});a("69db");N.render=T;var S=N,x=function(t,e){return t.getFullYear()===e.getFullYear()&&t.getMonth()===e.getMonth()&&t.getDate()===e.getDate()},E=function(t){for(var e,a=t||(new Date).getFullYear(),c={},n=0;n<=11;n+=1)e=new Date(a,n+1,0),c[n]={fullYear:a,monthId:n,days:e.getDate()};return c},I=a("220a"),M=Object(c["l"])({components:{FrequencyBlock:S,Card:m["a"],SelectField:I["a"]},props:{habit:{type:Object,required:!0}},setup:function(t){var e=Object(u["b"])(),a=Object(b["b"])(),n=a.t,r=Object(c["E"])((new Date).getFullYear()),i=Object(c["E"])([]),o=Object(c["E"])(!1),l=Object(c["E"])(E(r.value)),j=0,O=function(){var a=Object(F["a"])(regeneratorRuntime.mark((function a(){var c;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return o.value=!0,a.next=3,e.dispatch("habits/fetchCount",{id:t.habit.id,year:r.value});case 3:if(c=a.sent,o.value=!1,!(c instanceof s["a"])){a.next=8;break}return console.log(c),a.abrupt("return");case 8:i.value=c,l.value=E(r.value);case 10:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}(),d=function(t){var e=2021;return e+t},f=function(t){var e="open";while(j<i.value.length){var a=i.value[j],c=new Date(a.date);if(c>t)break;if(x(c,t)){e=a.status;break}j+=1}return e};return Object(c["M"])(r,(function(){O(),j=0})),O(),{t:n,loading:o,createYear:d,selectedYear:r,monthDays:l,getLocalDate:p["b"],getStatus:f}}});a("9459");M.render=J;var L=M,V=Object(c["l"])({components:{PageTitle:o["a"],AddItem:l["a"],HabitFrequency:L,HabitInfo:w},setup:function(t,e){var a=Object(b["b"])(),n=a.t,r=Object(i["c"])(),o=Object(u["b"])(),l=Object(c["E"])(!1),j=Object(c["E"])(),O=Object(c["E"])([]),d=Object(c["E"])(!1);o.dispatch("habits/get",r.params.id).then((function(t){t instanceof s["a"]&&!s["c"].NotFound?d.value=!0:(j.value=o.state.habits.currentHabit,O.value=o.state.habits.currentHabitCount)})),Object(c["M"])((function(){return o.state.habits.currentHabitCount}),(function(t){O.value=t}));var f=function(){l.value=!l.value},h=function(){e.emit("saved")};return{t:n,show:l,toggle:f,itemSaved:h,error:d,habit:j}}});V.render=r;e["default"]=V},a15b:function(t,e,a){"use strict";var c=a("23e7"),n=a("44ad"),r=a("fc6a"),b=a("a640"),i=[].join,u=n!=Object,o=b("join",",");c({target:"Array",proto:!0,forced:u||!o},{join:function(t){return i.call(r(this),void 0===t?",":t)}})},a808:function(t,e,a){},eb0e:function(t,e,a){"use strict";a("0750")},fa03:function(t,e,a){}}]);
//# sourceMappingURL=chunk-5694afde.5e07d989.js.map