{"version":3,"sources":["webpack:///./src/components/habit/Frequency/FrequencyBlock.vue?38bf","webpack:///./src/components/habit/Frequency/HabitFrequency.vue?ced7","webpack:///./src/views/Habit.vue","webpack:///./src/components/habit/Frequency/HabitInfo.vue","webpack:///./src/components/habit/Frequency/HabitInfo.vue?d456","webpack:///./src/components/habit/Frequency/HabitInfo.vue?3559","webpack:///./src/components/habit/Frequency/HabitFrequency.vue","webpack:///./src/components/habit/Frequency/FrequencyBlock.vue","webpack:///./src/components/habit/Frequency/FrequencyBlock.vue?13c1","webpack:///./src/components/habit/Frequency/FrequencyBlock.vue?e3cf","webpack:///./src/components/habit/features/time.ts","webpack:///./src/components/habit/Frequency/HabitFrequency.vue?a3d1","webpack:///./src/components/habit/Frequency/HabitFrequency.vue?78d5","webpack:///./src/views/Habit.vue?e5fb","webpack:///./src/views/Habit.vue?d87f","webpack:///./node_modules/core-js/modules/es.array.join.js","webpack:///./src/components/habit/Frequency/HabitInfo.vue?c5ad"],"names":["class","t","show","mode","itemSaved","habit","title","description","endDate","categoryId","variant","getCategory","name","body","startTime","endTime","datetime","getDays","components","Card","Tag","props","type","Object","required","setup","days","map","day","join","render","selectedYear","i","key","value","createYear","loading","keys","monthDays","monthKey","date","getLocalDate","Date","fullYear","status","getStatus","element","text","ToolTip","String","default","compareDate","habitDate","currentDate","getFullYear","getMonth","getDate","getMonthsAndDays","year","monthsAndDays","monthId","FrequencyBlock","SelectField","store","habitCount","pointer","fetchCount","dispatch","id","result","console","log","index","base","length","habitCountItem","PageTitle","AddItem","HabitFrequency","HabitInfo","ctx","route","error","params","then","NotFound","state","habits","currentHabit","currentHabitCount","newValue","toggle","emit","$","IndexedObject","toIndexedObject","arrayMethodIsStrict","nativeJoin","ES3_STRINGS","STRICT_METHOD","target","proto","forced","separator","call","this","undefined"],"mappings":"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","file":"js/chunk-5694afde.5e07d989.js","sourcesContent":["export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./FrequencyBlock.vue?vue&type=style&index=0&id=5ab38dda&lang=scss\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./HabitFrequency.vue?vue&type=style&index=0&id=378f0dec&lang=scss\"","<template>\n  <div class=\"habits\">\n    <page-title>\n      {{t('habitPage.title')}}\n    </page-title>\n    <add-item\n      mode=\"habit\"\n      v-if=\"show\"\n      @close=\"show = false\"\n      @itemSaved=\"itemSaved\"\n    />\n    <habit-info v-if=\"habit\" :habit=\"habit\" />\n    <habit-frequency v-if=\"habit\" :habit=\"habit\" />\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent, ref, watch } from 'vue';\nimport { useI18n } from 'vue-i18n';\nimport { useRoute } from 'vue-router';\nimport { useStore } from 'vuex';\nimport PageTitle from '@/components/PageTitle.vue';\nimport AddItem from '@/components/AddItem/AddItem.vue';\nimport {\n  AppError, ErrorCode, Habit, HabitCount,\n} from '@/types/shared';\nimport HabitInfo from '@/components/habit/Frequency/HabitInfo.vue';\nimport HabitFrequency from '@/components/habit/Frequency/HabitFrequency.vue';\nimport { HabitState } from '@/store/habit';\n\nexport default defineComponent({\n  components: {\n    PageTitle,\n    AddItem,\n    // AppButton,\n    HabitFrequency,\n    HabitInfo,\n  },\n  setup(props, ctx) {\n    const { t } = useI18n();\n    const route = useRoute();\n    const store = useStore();\n    const show = ref(false);\n    const habit = ref<Habit>();\n    const habitCount = ref<HabitCount[]>([]);\n    const error = ref(false);\n    store.dispatch('habits/get', route.params.id).then((result) => {\n      if (result instanceof AppError && !ErrorCode.NotFound) {\n        error.value = true;\n        return;\n      }\n\n      habit.value = (store.state.habits as HabitState).currentHabit;\n      habitCount.value = (store.state.habits as HabitState).currentHabitCount;\n    });\n\n    watch(\n      () => store.state.habits.currentHabitCount,\n      (newValue) => { habitCount.value = newValue; },\n    );\n\n    const toggle = () => {\n      show.value = !show.value;\n    };\n\n    const itemSaved = () => {\n      ctx.emit('saved');\n    };\n\n    return {\n      t,\n      show,\n      toggle,\n      itemSaved,\n      error,\n      habit,\n    };\n  },\n});\n</script>\n","<template>\n  <card class=\"habit-info\">\n    <template #title>\n      {{habit.description}}&nbsp;\n      <span v-if=\"endDate\" class=\"text-sm text-gray-400\">\n        &nbsp; {{t('habitFreqComponent.ends')}} {{endDate}}\n      </span>\n      <tag v-if=\"habit.categoryId\" variant=\"indigo\">\n        {{t(`categories.${getCategory(habit.categoryId)?.name}`)}}\n      </tag>\n    </template>\n    <template #body>\n      <p v-if=\"habit.startTime && habit.endTime\" class=\"daily-habit-item__time-block\">\n        <time :datetime=\"habit.startTime\" class=\"time-block\">{{habit.startTime}}</time> -\n        <time :datetime=\"habit.startTime\" class=\"time-block\">{{habit.endTime}}</time>\n      </p>\n      <p class=\"text-sm text-gray-400\">\n        {{ getDays(habit) }}\n      </p>\n    </template>\n  </card>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent, PropType } from 'vue';\nimport { useI18n } from 'vue-i18n';\nimport { Habit } from '@/types/shared';\nimport Card from '@/components/Card.vue';\nimport { getLocalDate } from '@/services/utils/time';\nimport Tag from '@/components/Tag.vue';\nimport { getCategory } from '@/types/categories';\n\nexport default defineComponent({\n  components: {\n    Card,\n    Tag,\n  },\n  props: {\n    habit: {\n      type: Object as PropType<Habit>,\n      required: true,\n    },\n  },\n  setup(props) {\n    const { t } = useI18n();\n    const endDate = getLocalDate(props.habit.endDate || 0);\n    const getDays = (habit: Habit) => habit.days.map((day) => t(`days.full.${day}`)).join(', ');\n\n    return {\n      t,\n      endDate,\n      getDays,\n      getCategory,\n    };\n  },\n});\n</script>\n\n<style lang=\"scss\">\n.habit-info {\n  @apply my-2;\n  width: 75%;\n\n  @media screen and (max-width: 700px) {\n    width: 100%;\n  }\n\n  &__blocks {\n    @apply flex flex-wrap mt-2;\n  }\n\n  &__heading {\n    @apply text-lg font-bold;\n  }\n}\n</style>\n","\nimport { defineComponent, PropType } from 'vue';\nimport { useI18n } from 'vue-i18n';\nimport { Habit } from '@/types/shared';\nimport Card from '@/components/Card.vue';\nimport { getLocalDate } from '@/services/utils/time';\nimport Tag from '@/components/Tag.vue';\nimport { getCategory } from '@/types/categories';\n\nexport default defineComponent({\n  components: {\n    Card,\n    Tag,\n  },\n  props: {\n    habit: {\n      type: Object as PropType<Habit>,\n      required: true,\n    },\n  },\n  setup(props) {\n    const { t } = useI18n();\n    const endDate = getLocalDate(props.habit.endDate || 0);\n    const getDays = (habit: Habit) => habit.days.map((day) => t(`days.full.${day}`)).join(', ');\n\n    return {\n      t,\n      endDate,\n      getDays,\n      getCategory,\n    };\n  },\n});\n","import { render } from \"./HabitInfo.vue?vue&type=template&id=4a327e82\"\nimport script from \"./HabitInfo.vue?vue&type=script&lang=ts\"\nexport * from \"./HabitInfo.vue?vue&type=script&lang=ts\"\n\nimport \"./HabitInfo.vue?vue&type=style&index=0&id=4a327e82&lang=scss\"\nscript.render = render\n\nexport default script","<template>\n  <card class=\"habit-freq\">\n    <template #body>\n      <div class=\"habit-freq__controls\">\n        <div class=\"habit-freq__labels\">\n        </div>\n        <div class=\"habit-freq__year\">\n          <select-field v-model=\"selectedYear\">\n            <option v-for=\"i in 10\" :key=\"i\" :value=\"createYear(i)\">{{createYear(i)}}</option>\n          </select-field>\n        </div>\n      </div>\n      <div v-if=\"!loading\" class=\"habit-freq__blocks\">\n        <div v-for=\"monthKey in Object.keys(monthDays)\" :key=\"monthKey\" class=\"habit-freq__month\">\n            <p><strong>{{t(`months.keys.${monthKey}`)}}</strong></p>\n            <frequency-block\n              v-for=\"date in monthDays[monthKey].days\"\n              :date=\"getLocalDate(new Date(monthDays[monthKey].fullYear, monthKey, date))\"\n              :key=\"getLocalDate(new Date(monthDays[monthKey].fullYear, monthKey, date))\"\n              :status=\"getStatus(new Date(monthDays[monthKey].fullYear, monthKey, date))\"\n             />\n        </div>\n      </div>\n    </template>\n  </card>\n</template>\n\n<script lang=\"ts\">\n// todo: add more details here, get count, freqDates should have state from count ;)\n// todo: ui, no habits view, error view try again\n\nimport {\n  defineComponent, PropType, ref, watch,\n} from 'vue';\nimport { useStore } from 'vuex';\nimport { useI18n } from 'vue-i18n';\nimport {\n  AppError, Habit, HabitCount, Status,\n} from '@/types/shared';\nimport FrequencyBlock from '@/components/habit/Frequency/FrequencyBlock.vue';\nimport Card from '@/components/Card.vue';\nimport { getLocalDate } from '@/services/utils/time';\nimport { getMonthsAndDays, compareDate } from '@/components/habit/features/time';\nimport SelectField from '@/components/forms/SelectField.vue';\n\nexport default defineComponent({\n  components: {\n    // eslint-disable-next-line vue/no-unused-components\n    FrequencyBlock,\n    Card,\n    SelectField,\n  },\n  props: {\n    habit: {\n      type: Object as PropType<Habit>,\n      required: true,\n    },\n  },\n  setup(props) {\n    // todo\n    const store = useStore();\n    const { t } = useI18n();\n    const selectedYear = ref(new Date().getFullYear());\n    const habitCount = ref<HabitCount[]>([]);\n    const loading = ref(false);\n    const monthDays = ref(getMonthsAndDays(selectedYear.value));\n    let pointer = 0;\n\n    const fetchCount = async () => {\n      loading.value = true;\n      const result = await store.dispatch('habits/fetchCount', {\n        id: props.habit.id,\n        year: selectedYear.value,\n      });\n\n      loading.value = false;\n      if (result instanceof AppError) {\n        console.log(result);\n        return;\n      }\n      habitCount.value = result;\n      monthDays.value = getMonthsAndDays(selectedYear.value);\n    };\n\n    const createYear = (index: number) => {\n      const base = 2021;\n      return base + index;\n    };\n\n    const getStatus = (currentDate: Date): Status => {\n      let status: Status = 'open';\n\n      while (pointer < habitCount.value.length) {\n        const habitCountItem = habitCount.value[pointer];\n        const habitDate = new Date(habitCountItem.date);\n\n        if (habitDate > currentDate) break;\n\n        if (compareDate(habitDate, currentDate)) {\n          status = habitCountItem.status;\n          break;\n        }\n        pointer += 1;\n      }\n\n      return status;\n    };\n\n    watch(selectedYear, () => {\n      fetchCount();\n      pointer = 0;\n    });\n\n    fetchCount();\n\n    return {\n      t,\n      loading,\n      createYear,\n      selectedYear,\n      monthDays,\n      getLocalDate,\n      getStatus,\n    };\n  },\n});\n</script>\n\n<style lang=\"scss\">\n@import '@/assets/styles/utils/_functions.scss';\n\n.habit-freq {\n  @apply my-2;\n  width: 75%;\n\n  @media screen and (max-width: 700px) {\n    width: 100%;\n  }\n\n  .card__body {\n    @apply overflow-hidden;\n    max-width: remSize(800px);\n    min-height: remSize(260px);\n  }\n\n  &__blocks {\n    @apply flex flex-wrap;\n  }\n\n  &__heading {\n    @apply text-lg font-bold;\n  }\n\n  &__controls {\n    @apply flex justify-end;\n  }\n\n  &__year {\n    width: remSize(100px);\n  }\n\n  &__month {\n    flex: 0 0 25%;\n  }\n}\n</style>\n","<template>\n  <tool-tip class=\"habit-freq-block-tooltip\">\n    <template #element>\n      <div class=\"habit-freq-block\" :class=\"[`habit-freq-block--${status}`]\"></div>\n    </template>\n    <template #text>\n      {{date}}\n    </template>\n  </tool-tip>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent, PropType } from 'vue';\nimport { useI18n } from 'vue-i18n';\nimport ToolTip from '@/components/ToolTip.vue';\nimport { Habit, Status } from '@/types/shared';\n\nexport default defineComponent({\n  components: {\n    ToolTip,\n  },\n  props: {\n    status: {\n      type: String as PropType<Status>,\n      default: 'open',\n    },\n    date: {\n      type: String,\n      required: true,\n    },\n  },\n  setup() {\n    const { t } = useI18n();\n    const getDays = (habit: Habit) => habit.days.map((day) => t(`days.full.${day}`)).join(', ');\n\n    return {\n      getDays,\n    };\n  },\n});\n</script>\n\n<style lang=\"scss\">\n@import '@/assets/styles/utils/_functions.scss';\n\n.habit-freq-block {\n  @apply bg-gray-100 mx-0.5 my-0.5;\n  width: remSize(18px);\n  height: remSize(18px);\n\n  &--missed {\n    @apply bg-gray-300;\n  }\n\n  &--skip {\n    @apply bg-blue-300;\n  }\n\n  &--done {\n    @apply bg-green-300;\n  }\n\n  &-tooltip {\n    .tooltip__text {\n      width: remSize(95px)\n    }\n  }\n}\n</style>\n","\nimport { defineComponent, PropType } from 'vue';\nimport { useI18n } from 'vue-i18n';\nimport ToolTip from '@/components/ToolTip.vue';\nimport { Habit, Status } from '@/types/shared';\n\nexport default defineComponent({\n  components: {\n    ToolTip,\n  },\n  props: {\n    status: {\n      type: String as PropType<Status>,\n      default: 'open',\n    },\n    date: {\n      type: String,\n      required: true,\n    },\n  },\n  setup() {\n    const { t } = useI18n();\n    const getDays = (habit: Habit) => habit.days.map((day) => t(`days.full.${day}`)).join(', ');\n\n    return {\n      getDays,\n    };\n  },\n});\n","import { render } from \"./FrequencyBlock.vue?vue&type=template&id=5ab38dda\"\nimport script from \"./FrequencyBlock.vue?vue&type=script&lang=ts\"\nexport * from \"./FrequencyBlock.vue?vue&type=script&lang=ts\"\n\nimport \"./FrequencyBlock.vue?vue&type=style&index=0&id=5ab38dda&lang=scss\"\nscript.render = render\n\nexport default script","/* eslint-disable import/prefer-default-export */\ninterface MonthAndDays {\n  fullYear: number,\n  monthId: number,\n  days: number\n}\n\n// need to refactor\nexport const compareDate = (habitDate: Date, currentDate: Date)\n  : boolean => habitDate.getFullYear() === currentDate.getFullYear()\n    && habitDate.getMonth() === currentDate.getMonth()\n    && habitDate.getDate() === currentDate.getDate();\n\nexport const getMonthsAndDays = (year?: number): Record<number, MonthAndDays> => {\n  const fullYear = year || new Date().getFullYear();\n  let date: Date;\n  const monthsAndDays: Record<number, MonthAndDays> = {};\n\n  for (let i = 0; i <= 11; i += 1) {\n    date = new Date(fullYear, i + 1, 0);\n    monthsAndDays[i] = {\n      fullYear,\n      monthId: i,\n      days: date.getDate(),\n    };\n  }\n\n  return monthsAndDays;\n};\n","\n// todo: add more details here, get count, freqDates should have state from count ;)\n// todo: ui, no habits view, error view try again\n\nimport {\n  defineComponent, PropType, ref, watch,\n} from 'vue';\nimport { useStore } from 'vuex';\nimport { useI18n } from 'vue-i18n';\nimport {\n  AppError, Habit, HabitCount, Status,\n} from '@/types/shared';\nimport FrequencyBlock from '@/components/habit/Frequency/FrequencyBlock.vue';\nimport Card from '@/components/Card.vue';\nimport { getLocalDate } from '@/services/utils/time';\nimport { getMonthsAndDays, compareDate } from '@/components/habit/features/time';\nimport SelectField from '@/components/forms/SelectField.vue';\n\nexport default defineComponent({\n  components: {\n    // eslint-disable-next-line vue/no-unused-components\n    FrequencyBlock,\n    Card,\n    SelectField,\n  },\n  props: {\n    habit: {\n      type: Object as PropType<Habit>,\n      required: true,\n    },\n  },\n  setup(props) {\n    // todo\n    const store = useStore();\n    const { t } = useI18n();\n    const selectedYear = ref(new Date().getFullYear());\n    const habitCount = ref<HabitCount[]>([]);\n    const loading = ref(false);\n    const monthDays = ref(getMonthsAndDays(selectedYear.value));\n    let pointer = 0;\n\n    const fetchCount = async () => {\n      loading.value = true;\n      const result = await store.dispatch('habits/fetchCount', {\n        id: props.habit.id,\n        year: selectedYear.value,\n      });\n\n      loading.value = false;\n      if (result instanceof AppError) {\n        console.log(result);\n        return;\n      }\n      habitCount.value = result;\n      monthDays.value = getMonthsAndDays(selectedYear.value);\n    };\n\n    const createYear = (index: number) => {\n      const base = 2021;\n      return base + index;\n    };\n\n    const getStatus = (currentDate: Date): Status => {\n      let status: Status = 'open';\n\n      while (pointer < habitCount.value.length) {\n        const habitCountItem = habitCount.value[pointer];\n        const habitDate = new Date(habitCountItem.date);\n\n        if (habitDate > currentDate) break;\n\n        if (compareDate(habitDate, currentDate)) {\n          status = habitCountItem.status;\n          break;\n        }\n        pointer += 1;\n      }\n\n      return status;\n    };\n\n    watch(selectedYear, () => {\n      fetchCount();\n      pointer = 0;\n    });\n\n    fetchCount();\n\n    return {\n      t,\n      loading,\n      createYear,\n      selectedYear,\n      monthDays,\n      getLocalDate,\n      getStatus,\n    };\n  },\n});\n","import { render } from \"./HabitFrequency.vue?vue&type=template&id=378f0dec\"\nimport script from \"./HabitFrequency.vue?vue&type=script&lang=ts\"\nexport * from \"./HabitFrequency.vue?vue&type=script&lang=ts\"\n\nimport \"./HabitFrequency.vue?vue&type=style&index=0&id=378f0dec&lang=scss\"\nscript.render = render\n\nexport default script","\nimport { defineComponent, ref, watch } from 'vue';\nimport { useI18n } from 'vue-i18n';\nimport { useRoute } from 'vue-router';\nimport { useStore } from 'vuex';\nimport PageTitle from '@/components/PageTitle.vue';\nimport AddItem from '@/components/AddItem/AddItem.vue';\nimport {\n  AppError, ErrorCode, Habit, HabitCount,\n} from '@/types/shared';\nimport HabitInfo from '@/components/habit/Frequency/HabitInfo.vue';\nimport HabitFrequency from '@/components/habit/Frequency/HabitFrequency.vue';\nimport { HabitState } from '@/store/habit';\n\nexport default defineComponent({\n  components: {\n    PageTitle,\n    AddItem,\n    // AppButton,\n    HabitFrequency,\n    HabitInfo,\n  },\n  setup(props, ctx) {\n    const { t } = useI18n();\n    const route = useRoute();\n    const store = useStore();\n    const show = ref(false);\n    const habit = ref<Habit>();\n    const habitCount = ref<HabitCount[]>([]);\n    const error = ref(false);\n    store.dispatch('habits/get', route.params.id).then((result) => {\n      if (result instanceof AppError && !ErrorCode.NotFound) {\n        error.value = true;\n        return;\n      }\n\n      habit.value = (store.state.habits as HabitState).currentHabit;\n      habitCount.value = (store.state.habits as HabitState).currentHabitCount;\n    });\n\n    watch(\n      () => store.state.habits.currentHabitCount,\n      (newValue) => { habitCount.value = newValue; },\n    );\n\n    const toggle = () => {\n      show.value = !show.value;\n    };\n\n    const itemSaved = () => {\n      ctx.emit('saved');\n    };\n\n    return {\n      t,\n      show,\n      toggle,\n      itemSaved,\n      error,\n      habit,\n    };\n  },\n});\n","import { render } from \"./Habit.vue?vue&type=template&id=0473c6f0\"\nimport script from \"./Habit.vue?vue&type=script&lang=ts\"\nexport * from \"./Habit.vue?vue&type=script&lang=ts\"\nscript.render = render\n\nexport default script","'use strict';\nvar $ = require('../internals/export');\nvar IndexedObject = require('../internals/indexed-object');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar arrayMethodIsStrict = require('../internals/array-method-is-strict');\n\nvar nativeJoin = [].join;\n\nvar ES3_STRINGS = IndexedObject != Object;\nvar STRICT_METHOD = arrayMethodIsStrict('join', ',');\n\n// `Array.prototype.join` method\n// https://tc39.es/ecma262/#sec-array.prototype.join\n$({ target: 'Array', proto: true, forced: ES3_STRINGS || !STRICT_METHOD }, {\n  join: function join(separator) {\n    return nativeJoin.call(toIndexedObject(this), separator === undefined ? ',' : separator);\n  }\n});\n","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./HabitInfo.vue?vue&type=style&index=0&id=4a327e82&lang=scss\""],"sourceRoot":""}